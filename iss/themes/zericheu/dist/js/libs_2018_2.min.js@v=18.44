var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};!function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var c="function"==typeof require&&require;if(!u&&c)return c(o,!0);if(i)return i(o,!0);var a=new Error("Cannot find module '"+o+"'");throw a.code="MODULE_NOT_FOUND",a;}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(n){var r=t[o][1][n];return s(r||n);},f,f.exports,e,t,n,r);}return n[o].exports;}for(var i="function"==typeof require&&require,o=0;o<r.length;o++){s(r[o]);}return s;}return e;}()({1:[function(t,n,r){(function(n){"use strict";t(2),t(3),t(9),t(8),t(10),t(5),t(6),t(4),t(7),t(275),t(276),n._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),n._babelPolyfill=!0;}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});},{10:10,2:2,275:275,276:276,3:3,4:4,5:5,6:6,7:7,8:8,9:9}],2:[function(t,n,r){t(250),t(187),t(189),t(188),t(191),t(193),t(198),t(192),t(190),t(200),t(199),t(195),t(196),t(194),t(186),t(197),t(201),t(202),t(153),t(155),t(154),t(204),t(203),t(174),t(184),t(185),t(175),t(176),t(177),t(178),t(179),t(180),t(181),t(182),t(183),t(157),t(158),t(159),t(160),t(161),t(162),t(163),t(164),t(165),t(166),t(167),t(168),t(169),t(170),t(171),t(172),t(173),t(237),t(242),t(249),t(240),t(232),t(233),t(238),t(243),t(245),t(228),t(229),t(230),t(231),t(234),t(235),t(236),t(239),t(241),t(244),t(246),t(247),t(248),t(148),t(150),t(149),t(152),t(151),t(136),t(134),t(141),t(138),t(144),t(146),t(133),t(140),t(130),t(145),t(128),t(143),t(142),t(135),t(139),t(127),t(129),t(132),t(131),t(147),t(137),t(220),t(226),t(221),t(222),t(223),t(224),t(225),t(205),t(156),t(227),t(262),t(263),t(251),t(252),t(257),t(260),t(261),t(255),t(258),t(256),t(259),t(253),t(254),t(206),t(207),t(208),t(209),t(210),t(213),t(211),t(212),t(214),t(215),t(216),t(217),t(219),t(218),n.exports=t(29);},{127:127,128:128,129:129,130:130,131:131,132:132,133:133,134:134,135:135,136:136,137:137,138:138,139:139,140:140,141:141,142:142,143:143,144:144,145:145,146:146,147:147,148:148,149:149,150:150,151:151,152:152,153:153,154:154,155:155,156:156,157:157,158:158,159:159,160:160,161:161,162:162,163:163,164:164,165:165,166:166,167:167,168:168,169:169,170:170,171:171,172:172,173:173,174:174,175:175,176:176,177:177,178:178,179:179,180:180,181:181,182:182,183:183,184:184,185:185,186:186,187:187,188:188,189:189,190:190,191:191,192:192,193:193,194:194,195:195,196:196,197:197,198:198,199:199,200:200,201:201,202:202,203:203,204:204,205:205,206:206,207:207,208:208,209:209,210:210,211:211,212:212,213:213,214:214,215:215,216:216,217:217,218:218,219:219,220:220,221:221,222:222,223:223,224:224,225:225,226:226,227:227,228:228,229:229,230:230,231:231,232:232,233:233,234:234,235:235,236:236,237:237,238:238,239:239,240:240,241:241,242:242,243:243,244:244,245:245,246:246,247:247,248:248,249:249,250:250,251:251,252:252,253:253,254:254,255:255,256:256,257:257,258:258,259:259,260:260,261:261,262:262,263:263,29:29}],3:[function(t,n,r){t(264),n.exports=t(29).Array.includes;},{264:264,29:29}],4:[function(t,n,r){t(265),n.exports=t(29).Object.entries;},{265:265,29:29}],5:[function(t,n,r){t(266),n.exports=t(29).Object.getOwnPropertyDescriptors;},{266:266,29:29}],6:[function(t,n,r){t(267),n.exports=t(29).Object.values;},{267:267,29:29}],7:[function(t,n,r){"use strict";t(205),t(268),n.exports=t(29).Promise.finally;},{205:205,268:268,29:29}],8:[function(t,n,r){t(269),n.exports=t(29).String.padEnd;},{269:269,29:29}],9:[function(t,n,r){t(270),n.exports=t(29).String.padStart;},{270:270,29:29}],10:[function(t,n,r){t(271),n.exports=t(124).f("asyncIterator");},{124:124,271:271}],11:[function(t,n,r){n.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t;};},{}],12:[function(t,n,r){var e=t(25);n.exports=function(t,n){if("number"!=typeof t&&"Number"!=e(t))throw TypeError(n);return+t;};},{25:25}],13:[function(t,n,r){var e=t(125)("unscopables"),i=Array.prototype;void 0==i[e]&&t(47)(i,e,{}),n.exports=function(t){i[e][t]=!0;};},{125:125,47:47}],14:[function(t,n,r){n.exports=function(t,n,r,e){if(!(t instanceof n)||void 0!==e&&e in t)throw TypeError(r+": incorrect invocation!");return t;};},{}],15:[function(t,n,r){var e=t(56);n.exports=function(t){if(!e(t))throw TypeError(t+" is not an object!");return t;};},{56:56}],16:[function(t,n,r){"use strict";var e=t(115),i=t(110),o=t(114);n.exports=[].copyWithin||function copyWithin(t,n){var r=e(this),u=o(r.length),c=i(t,u),a=i(n,u),f=arguments.length>2?arguments[2]:void 0,s=Math.min((void 0===f?u:i(f,u))-a,u-c),l=1;for(a<c&&c<a+s&&(l=-1,a+=s-1,c+=s-1);s-->0;){a in r?r[c]=r[a]:delete r[c],c+=l,a+=l;}return r;};},{110:110,114:114,115:115}],17:[function(t,n,r){"use strict";var e=t(115),i=t(110),o=t(114);n.exports=function fill(t){for(var n=e(this),r=o(n.length),u=arguments.length,c=i(u>1?arguments[1]:void 0,r),a=u>2?arguments[2]:void 0,f=void 0===a?r:i(a,r);f>c;){n[c++]=t;}return n;};},{110:110,114:114,115:115}],18:[function(t,n,r){var e=t(113),i=t(114),o=t(110);n.exports=function(t){return function(n,r,u){var c,a=e(n),f=i(a.length),s=o(u,f);if(t&&r!=r){for(;f>s;){if((c=a[s++])!=c)return!0;}}else for(;f>s;s++){if((t||s in a)&&a[s]===r)return t||s||0;}return!t&&-1;};};},{110:110,113:113,114:114}],19:[function(t,n,r){var e=t(31),i=t(52),o=t(115),u=t(114),c=t(22);n.exports=function(t,n){var r=1==t,a=2==t,f=3==t,s=4==t,l=6==t,h=5==t||l,p=n||c;return function(n,c,v){for(var y,d,g=o(n),m=i(g),x=e(c,v,3),b=u(m.length),w=0,S=r?p(n,b):a?p(n,0):void 0;b>w;w++){if((h||w in m)&&(y=m[w],d=x(y,w,g),t))if(r)S[w]=d;else if(d)switch(t){case 3:return!0;case 5:return y;case 6:return w;case 2:S.push(y);}else if(s)return!1;}return l?-1:f||s?s:S;};};},{114:114,115:115,22:22,31:31,52:52}],20:[function(t,n,r){var e=t(11),i=t(115),o=t(52),u=t(114);n.exports=function(t,n,r,c,a){e(n);var f=i(t),s=o(f),l=u(f.length),h=a?l-1:0,p=a?-1:1;if(r<2)for(;;){if(h in s){c=s[h],h+=p;break;}if(h+=p,a?h<0:l<=h)throw TypeError("Reduce of empty array with no initial value");}for(;a?h>=0:l>h;h+=p){h in s&&(c=n(c,s[h],h,f));}return c;};},{11:11,114:114,115:115,52:52}],21:[function(t,n,r){var e=t(56),i=t(54),o=t(125)("species");n.exports=function(t){var n;return i(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)||(n=void 0),e(n)&&null===(n=n[o])&&(n=void 0)),void 0===n?Array:n;};},{125:125,54:54,56:56}],22:[function(t,n,r){var e=t(21);n.exports=function(t,n){return new(e(t))(n);};},{21:21}],23:[function(t,n,r){"use strict";var e=t(11),i=t(56),o=t(51),u=[].slice,c={},a=function a(t,n,r){if(!(n in c)){for(var e=[],i=0;i<n;i++){e[i]="a["+i+"]";}c[n]=Function("F,a","return new F("+e.join(",")+")");}return c[n](t,r);};n.exports=Function.bind||function bind(t){var n=e(this),r=u.call(arguments,1),c=function c(){var e=r.concat(u.call(arguments));return this instanceof c?a(n,e.length,e):o(n,e,t);};return i(n.prototype)&&(c.prototype=n.prototype),c;};},{11:11,51:51,56:56}],24:[function(t,n,r){var e=t(25),i=t(125)("toStringTag"),o="Arguments"==e(function(){return arguments;}()),u=function u(t,n){try{return t[n];}catch(t){}};n.exports=function(t){var n,r,c;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=u(n=Object(t),i))?r:o?e(n):"Object"==(c=e(n))&&"function"==typeof n.callee?"Arguments":c;};},{125:125,25:25}],25:[function(t,n,r){var e={}.toString;n.exports=function(t){return e.call(t).slice(8,-1);};},{}],26:[function(t,n,r){"use strict";var e=t(74).f,i=t(73),o=t(92),u=t(31),c=t(14),a=t(44),f=t(60),s=t(62),l=t(96),h=t(35),p=t(69).fastKey,v=t(122),y=h?"_s":"size",d=function d(t,n){var r,e=p(n);if("F"!==e)return t._i[e];for(r=t._f;r;r=r.n){if(r.k==n)return r;}};n.exports={getConstructor:function getConstructor(t,n,r,f){var s=t(function(t,e){c(t,s,n,"_i"),t._t=n,t._i=i(null),t._f=void 0,t._l=void 0,t[y]=0,void 0!=e&&a(e,r,t[f],t);});return o(s.prototype,{clear:function clear(){for(var t=v(this,n),r=t._i,e=t._f;e;e=e.n){e.r=!0,e.p&&(e.p=e.p.n=void 0),delete r[e.i];}t._f=t._l=void 0,t[y]=0;},delete:function _delete(t){var r=v(this,n),e=d(r,t);if(e){var i=e.n,o=e.p;delete r._i[e.i],e.r=!0,o&&(o.n=i),i&&(i.p=o),r._f==e&&(r._f=i),r._l==e&&(r._l=o),r[y]--;}return!!e;},forEach:function forEach(t){v(this,n);for(var r,e=u(t,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;){for(e(r.v,r.k,this);r&&r.r;){r=r.p;}}},has:function has(t){return!!d(v(this,n),t);}}),h&&e(s.prototype,"size",{get:function get(){return v(this,n)[y];}}),s;},def:function def(t,n,r){var e,i,o=d(t,n);return o?o.v=r:(t._l=o={i:i=p(n,!0),k:n,v:r,p:e=t._l,n:void 0,r:!1},t._f||(t._f=o),e&&(e.n=o),t[y]++,"F"!==i&&(t._i[i]=o)),t;},getEntry:d,setStrong:function setStrong(t,n,r){f(t,n,function(t,r){this._t=v(t,n),this._k=r,this._l=void 0;},function(){for(var t=this,n=t._k,r=t._l;r&&r.r;){r=r.p;}return t._t&&(t._l=r=r?r.n:t._t._f)?"keys"==n?s(0,r.k):"values"==n?s(0,r.v):s(0,[r.k,r.v]):(t._t=void 0,s(1));},r?"entries":"values",!r,!0),l(n);}};},{122:122,14:14,31:31,35:35,44:44,60:60,62:62,69:69,73:73,74:74,92:92,96:96}],27:[function(t,n,r){"use strict";var e=t(92),i=t(69).getWeak,o=t(15),u=t(56),c=t(14),a=t(44),f=t(19),s=t(46),l=t(122),h=f(5),p=f(6),v=0,y=function y(t){return t._l||(t._l=new d());},d=function d(){this.a=[];},g=function g(t,n){return h(t.a,function(t){return t[0]===n;});};d.prototype={get:function get(t){var n=g(this,t);if(n)return n[1];},has:function has(t){return!!g(this,t);},set:function set(t,n){var r=g(this,t);r?r[1]=n:this.a.push([t,n]);},delete:function _delete(t){var n=p(this.a,function(n){return n[0]===t;});return~n&&this.a.splice(n,1),!!~n;}},n.exports={getConstructor:function getConstructor(t,n,r,o){var f=t(function(t,e){c(t,f,n,"_i"),t._t=n,t._i=v++,t._l=void 0,void 0!=e&&a(e,r,t[o],t);});return e(f.prototype,{delete:function _delete(t){if(!u(t))return!1;var r=i(t);return!0===r?y(l(this,n)).delete(t):r&&s(r,this._i)&&delete r[this._i];},has:function has(t){if(!u(t))return!1;var r=i(t);return!0===r?y(l(this,n)).has(t):r&&s(r,this._i);}}),f;},def:function def(t,n,r){var e=i(o(n),!0);return!0===e?y(t).set(n,r):e[t._i]=r,t;},ufstore:y};},{122:122,14:14,15:15,19:19,44:44,46:46,56:56,69:69,92:92}],28:[function(t,n,r){"use strict";var e=t(45),i=t(39),o=t(93),u=t(92),c=t(69),a=t(44),f=t(14),s=t(56),l=t(41),h=t(61),p=t(97),v=t(50);n.exports=function(t,n,r,y,d,g){var m=e[t],x=m,b=d?"set":"add",w=x&&x.prototype,S={},_=function _(t){var n=w[t];o(w,t,"delete"==t?function(t){return!(g&&!s(t))&&n.call(this,0===t?0:t);}:"has"==t?function has(t){return!(g&&!s(t))&&n.call(this,0===t?0:t);}:"get"==t?function get(t){return g&&!s(t)?void 0:n.call(this,0===t?0:t);}:"add"==t?function add(t){return n.call(this,0===t?0:t),this;}:function set(t,r){return n.call(this,0===t?0:t,r),this;});};if("function"==typeof x&&(g||w.forEach&&!l(function(){new x().entries().next();}))){var E=new x(),F=E[b](g?{}:-0,1)!=E,O=l(function(){E.has(1);}),P=h(function(t){new x(t);}),I=!g&&l(function(){for(var t=new x(),n=5;n--;){t[b](n,n);}return!t.has(-0);});P||(x=n(function(n,r){f(n,x,t);var e=v(new m(),n,x);return void 0!=r&&a(r,d,e[b],e),e;}),x.prototype=w,w.constructor=x),(O||I)&&(_("delete"),_("has"),d&&_("get")),(I||F)&&_(b),g&&w.clear&&delete w.clear;}else x=y.getConstructor(n,t,d,b),u(x.prototype,r),c.NEED=!0;return p(x,t),S[t]=x,i(i.G+i.W+i.F*(x!=m),S),g||y.setStrong(x,t,d),x;};},{14:14,39:39,41:41,44:44,45:45,50:50,56:56,61:61,69:69,92:92,93:93,97:97}],29:[function(t,n,r){var e=n.exports={version:"2.5.7"};"number"==typeof __e&&(__e=e);},{}],30:[function(t,n,r){"use strict";var e=t(74),i=t(91);n.exports=function(t,n,r){n in t?e.f(t,n,i(0,r)):t[n]=r;};},{74:74,91:91}],31:[function(t,n,r){var e=t(11);n.exports=function(t,n,r){if(e(t),void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r);};case 2:return function(r,e){return t.call(n,r,e);};case 3:return function(r,e,i){return t.call(n,r,e,i);};}return function(){return t.apply(n,arguments);};};},{11:11}],32:[function(t,n,r){"use strict";var e=t(41),i=Date.prototype.getTime,o=Date.prototype.toISOString,u=function u(t){return t>9?t:"0"+t;};n.exports=e(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1));})||!e(function(){o.call(new Date(NaN));})?function toISOString(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,n=t.getUTCFullYear(),r=t.getUTCMilliseconds(),e=n<0?"-":n>9999?"+":"";return e+("00000"+Math.abs(n)).slice(e?-6:-4)+"-"+u(t.getUTCMonth()+1)+"-"+u(t.getUTCDate())+"T"+u(t.getUTCHours())+":"+u(t.getUTCMinutes())+":"+u(t.getUTCSeconds())+"."+(r>99?r:"0"+u(r))+"Z";}:o;},{41:41}],33:[function(t,n,r){"use strict";var e=t(15),i=t(116);n.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return i(e(this),"number"!=t);};},{116:116,15:15}],34:[function(t,n,r){n.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t;};},{}],35:[function(t,n,r){n.exports=!t(41)(function(){return 7!=Object.defineProperty({},"a",{get:function get(){return 7;}}).a;});},{41:41}],36:[function(t,n,r){var e=t(56),i=t(45).document,o=e(i)&&e(i.createElement);n.exports=function(t){return o?i.createElement(t):{};};},{45:45,56:56}],37:[function(t,n,r){n.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");},{}],38:[function(t,n,r){var e=t(82),i=t(79),o=t(83);n.exports=function(t){var n=e(t),r=i.f;if(r)for(var u,c=r(t),a=o.f,f=0;c.length>f;){a.call(t,u=c[f++])&&n.push(u);}return n;};},{79:79,82:82,83:83}],39:[function(t,n,r){var e=t(45),i=t(29),o=t(47),u=t(93),c=t(31),a=function a(t,n,r){var f,s,l,h,p=t&a.F,v=t&a.G,y=t&a.S,d=t&a.P,g=t&a.B,m=v?e:y?e[n]||(e[n]={}):(e[n]||{}).prototype,x=v?i:i[n]||(i[n]={}),b=x.prototype||(x.prototype={});v&&(r=n);for(f in r){s=!p&&m&&void 0!==m[f],l=(s?m:r)[f],h=g&&s?c(l,e):d&&"function"==typeof l?c(Function.call,l):l,m&&u(m,f,l,t&a.U),x[f]!=l&&o(x,f,h),d&&b[f]!=l&&(b[f]=l);}};e.core=i,a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,n.exports=a;},{29:29,31:31,45:45,47:47,93:93}],40:[function(t,n,r){var e=t(125)("match");n.exports=function(t){var n=/./;try{"/./"[t](n);}catch(r){try{return n[e]=!1,!"/./"[t](n);}catch(t){}}return!0;};},{125:125}],41:[function(t,n,r){n.exports=function(t){try{return!!t();}catch(t){return!0;}};},{}],42:[function(t,n,r){"use strict";var e=t(47),i=t(93),o=t(41),u=t(34),c=t(125);n.exports=function(t,n,r){var a=c(t),f=r(u,a,""[t]),s=f[0],l=f[1];o(function(){var n={};return n[a]=function(){return 7;},7!=""[t](n);})&&(i(String.prototype,t,s),e(RegExp.prototype,a,2==n?function(t,n){return l.call(t,this,n);}:function(t){return l.call(t,this);}));};},{125:125,34:34,41:41,47:47,93:93}],43:[function(t,n,r){"use strict";var e=t(15);n.exports=function(){var t=e(this),n="";return t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.unicode&&(n+="u"),t.sticky&&(n+="y"),n;};},{15:15}],44:[function(t,n,r){var e=t(31),i=t(58),o=t(53),u=t(15),c=t(114),a=t(126),f={},s={},r=n.exports=function(t,n,r,l,h){var p,v,y,d,g=h?function(){return t;}:a(t),m=e(r,l,n?2:1),x=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(o(g)){for(p=c(t.length);p>x;x++){if((d=n?m(u(v=t[x])[0],v[1]):m(t[x]))===f||d===s)return d;}}else for(y=g.call(t);!(v=y.next()).done;){if((d=i(y,m,v.value,n))===f||d===s)return d;}};r.BREAK=f,r.RETURN=s;},{114:114,126:126,15:15,31:31,53:53,58:58}],45:[function(t,n,r){var e=n.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e);},{}],46:[function(t,n,r){var e={}.hasOwnProperty;n.exports=function(t,n){return e.call(t,n);};},{}],47:[function(t,n,r){var e=t(74),i=t(91);n.exports=t(35)?function(t,n,r){return e.f(t,n,i(1,r));}:function(t,n,r){return t[n]=r,t;};},{35:35,74:74,91:91}],48:[function(t,n,r){var e=t(45).document;n.exports=e&&e.documentElement;},{45:45}],49:[function(t,n,r){n.exports=!t(35)&&!t(41)(function(){return 7!=Object.defineProperty(t(36)("div"),"a",{get:function get(){return 7;}}).a;});},{35:35,36:36,41:41}],50:[function(t,n,r){var e=t(56),i=t(95).set;n.exports=function(t,n,r){var o,u=n.constructor;return u!==r&&"function"==typeof u&&(o=u.prototype)!==r.prototype&&e(o)&&i&&i(t,o),t;};},{56:56,95:95}],51:[function(t,n,r){n.exports=function(t,n,r){var e=void 0===r;switch(n.length){case 0:return e?t():t.call(r);case 1:return e?t(n[0]):t.call(r,n[0]);case 2:return e?t(n[0],n[1]):t.call(r,n[0],n[1]);case 3:return e?t(n[0],n[1],n[2]):t.call(r,n[0],n[1],n[2]);case 4:return e?t(n[0],n[1],n[2],n[3]):t.call(r,n[0],n[1],n[2],n[3]);}return t.apply(r,n);};},{}],52:[function(t,n,r){var e=t(25);n.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==e(t)?t.split(""):Object(t);};},{25:25}],53:[function(t,n,r){var e=t(63),i=t(125)("iterator"),o=Array.prototype;n.exports=function(t){return void 0!==t&&(e.Array===t||o[i]===t);};},{125:125,63:63}],54:[function(t,n,r){var e=t(25);n.exports=Array.isArray||function isArray(t){return"Array"==e(t);};},{25:25}],55:[function(t,n,r){var e=t(56),i=Math.floor;n.exports=function isInteger(t){return!e(t)&&isFinite(t)&&i(t)===t;};},{56:56}],56:[function(t,n,r){n.exports=function(t){return"object"==(typeof t==="undefined"?"undefined":_typeof(t))?null!==t:"function"==typeof t;};},{}],57:[function(t,n,r){var e=t(56),i=t(25),o=t(125)("match");n.exports=function(t){var n;return e(t)&&(void 0!==(n=t[o])?!!n:"RegExp"==i(t));};},{125:125,25:25,56:56}],58:[function(t,n,r){var e=t(15);n.exports=function(t,n,r,i){try{return i?n(e(r)[0],r[1]):n(r);}catch(n){var o=t.return;throw void 0!==o&&e(o.call(t)),n;}};},{15:15}],59:[function(t,n,r){"use strict";var e=t(73),i=t(91),o=t(97),u={};t(47)(u,t(125)("iterator"),function(){return this;}),n.exports=function(t,n,r){t.prototype=e(u,{next:i(1,r)}),o(t,n+" Iterator");};},{125:125,47:47,73:73,91:91,97:97}],60:[function(t,n,r){"use strict";var e=t(64),i=t(39),o=t(93),u=t(47),c=t(63),a=t(59),f=t(97),s=t(80),l=t(125)("iterator"),h=!([].keys&&"next"in[].keys()),p=function p(){return this;};n.exports=function(t,n,r,v,y,d,g){a(r,n,v);var m,x,b,w=function w(t){if(!h&&t in F)return F[t];switch(t){case"keys":return function keys(){return new r(this,t);};case"values":return function values(){return new r(this,t);};}return function entries(){return new r(this,t);};},S=n+" Iterator",_="values"==y,E=!1,F=t.prototype,O=F[l]||F["@@iterator"]||y&&F[y],P=O||w(y),I=y?_?w("entries"):P:void 0,A="Array"==n?F.entries||O:O;if(A&&(b=s(A.call(new t())))!==Object.prototype&&b.next&&(f(b,S,!0),e||"function"==typeof b[l]||u(b,l,p)),_&&O&&"values"!==O.name&&(E=!0,P=function values(){return O.call(this);}),e&&!g||!h&&!E&&F[l]||u(F,l,P),c[n]=P,c[S]=p,y)if(m={values:_?P:w("values"),keys:d?P:w("keys"),entries:I},g)for(x in m){x in F||o(F,x,m[x]);}else i(i.P+i.F*(h||E),n,m);return m;};},{125:125,39:39,47:47,59:59,63:63,64:64,80:80,93:93,97:97}],61:[function(t,n,r){var e=t(125)("iterator"),i=!1;try{var o=[7][e]();o.return=function(){i=!0;},Array.from(o,function(){throw 2;});}catch(t){}n.exports=function(t,n){if(!n&&!i)return!1;var r=!1;try{var o=[7],u=o[e]();u.next=function(){return{done:r=!0};},o[e]=function(){return u;},t(o);}catch(t){}return r;};},{125:125}],62:[function(t,n,r){n.exports=function(t,n){return{value:n,done:!!t};};},{}],63:[function(t,n,r){n.exports={};},{}],64:[function(t,n,r){n.exports=!1;},{}],65:[function(t,n,r){var e=Math.expm1;n.exports=!e||e(10)>22025.465794806718||e(10)<22025.465794806718||-2e-17!=e(-2e-17)?function expm1(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1;}:e;},{}],66:[function(t,n,r){var e=t(68),i=Math.pow,o=i(2,-52),u=i(2,-23),c=i(2,127)*(2-u),a=i(2,-126),f=function f(t){return t+1/o-1/o;};n.exports=Math.fround||function fround(t){var n,r,i=Math.abs(t),s=e(t);return i<a?s*f(i/a/u)*a*u:(n=(1+u/o)*i,r=n-(n-i),r>c||r!=r?s*(1/0):s*r);};},{68:68}],67:[function(t,n,r){n.exports=Math.log1p||function log1p(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t);};},{}],68:[function(t,n,r){n.exports=Math.sign||function sign(t){return 0==(t=+t)||t!=t?t:t<0?-1:1;};},{}],69:[function(t,n,r){var e=t(120)("meta"),i=t(56),o=t(46),u=t(74).f,c=0,a=Object.isExtensible||function(){return!0;},f=!t(41)(function(){return a(Object.preventExtensions({}));}),s=function s(t){u(t,e,{value:{i:"O"+ ++c,w:{}}});},l=function l(t,n){if(!i(t))return"symbol"==(typeof t==="undefined"?"undefined":_typeof(t))?t:("string"==typeof t?"S":"P")+t;if(!o(t,e)){if(!a(t))return"F";if(!n)return"E";s(t);}return t[e].i;},h=function h(t,n){if(!o(t,e)){if(!a(t))return!0;if(!n)return!1;s(t);}return t[e].w;},p=function p(t){return f&&v.NEED&&a(t)&&!o(t,e)&&s(t),t;},v=n.exports={KEY:e,NEED:!1,fastKey:l,getWeak:h,onFreeze:p};},{120:120,41:41,46:46,56:56,74:74}],70:[function(t,n,r){var e=t(45),i=t(109).set,o=e.MutationObserver||e.WebKitMutationObserver,u=e.process,c=e.Promise,a="process"==t(25)(u);n.exports=function(){var t,n,r,f=function f(){var e,i;for(a&&(e=u.domain)&&e.exit();t;){i=t.fn,t=t.next;try{i();}catch(e){throw t?r():n=void 0,e;}}n=void 0,e&&e.enter();};if(a)r=function r(){u.nextTick(f);};else if(!o||e.navigator&&e.navigator.standalone){if(c&&c.resolve){var s=c.resolve(void 0);r=function r(){s.then(f);};}else r=function r(){i.call(e,f);};}else{var l=!0,h=document.createTextNode("");new o(f).observe(h,{characterData:!0}),r=function r(){h.data=l=!l;};}return function(e){var i={fn:e,next:void 0};n&&(n.next=i),t||(t=i,r()),n=i;};};},{109:109,25:25,45:45}],71:[function(t,n,r){"use strict";function PromiseCapability(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e;}),this.resolve=e(n),this.reject=e(r);}var e=t(11);n.exports.f=function(t){return new PromiseCapability(t);};},{11:11}],72:[function(t,n,r){"use strict";var e=t(82),i=t(79),o=t(83),u=t(115),c=t(52),a=Object.assign;n.exports=!a||t(41)(function(){var t={},n={},r=Symbol(),e="abcdefghijklmnopqrst";return t[r]=7,e.split("").forEach(function(t){n[t]=t;}),7!=a({},t)[r]||Object.keys(a({},n)).join("")!=e;})?function assign(t,n){for(var r=u(t),a=arguments.length,f=1,s=i.f,l=o.f;a>f;){for(var h,p=c(arguments[f++]),v=s?e(p).concat(s(p)):e(p),y=v.length,d=0;y>d;){l.call(p,h=v[d++])&&(r[h]=p[h]);}}return r;}:a;},{115:115,41:41,52:52,79:79,82:82,83:83}],73:[function(t,n,r){var e=t(15),i=t(75),o=t(37),u=t(98)("IE_PROTO"),c=function c(){},_a=function a(){var n,r=t(36)("iframe"),e=o.length;for(r.style.display="none",t(48).appendChild(r),r.src="javascript:",n=r.contentWindow.document,n.open(),n.write("<script>document.F=Object<\/script>"),n.close(),_a=n.F;e--;){delete _a.prototype[o[e]];}return _a();};n.exports=Object.create||function create(t,n){var r;return null!==t?(c.prototype=e(t),r=new c(),c.prototype=null,r[u]=t):r=_a(),void 0===n?r:i(r,n);};},{15:15,36:36,37:37,48:48,75:75,98:98}],74:[function(t,n,r){var e=t(15),i=t(49),o=t(116),u=Object.defineProperty;r.f=t(35)?Object.defineProperty:function defineProperty(t,n,r){if(e(t),n=o(n,!0),e(r),i)try{return u(t,n,r);}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[n]=r.value),t;};},{116:116,15:15,35:35,49:49}],75:[function(t,n,r){var e=t(74),i=t(15),o=t(82);n.exports=t(35)?Object.defineProperties:function defineProperties(t,n){i(t);for(var r,u=o(n),c=u.length,a=0;c>a;){e.f(t,r=u[a++],n[r]);}return t;};},{15:15,35:35,74:74,82:82}],76:[function(t,n,r){var e=t(83),i=t(91),o=t(113),u=t(116),c=t(46),a=t(49),f=Object.getOwnPropertyDescriptor;r.f=t(35)?f:function getOwnPropertyDescriptor(t,n){if(t=o(t),n=u(n,!0),a)try{return f(t,n);}catch(t){}if(c(t,n))return i(!e.f.call(t,n),t[n]);};},{113:113,116:116,35:35,46:46,49:49,83:83,91:91}],77:[function(t,n,r){var e=t(113),i=t(78).f,o={}.toString,u="object"==(typeof window==="undefined"?"undefined":_typeof(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function c(t){try{return i(t);}catch(t){return u.slice();}};n.exports.f=function getOwnPropertyNames(t){return u&&"[object Window]"==o.call(t)?c(t):i(e(t));};},{113:113,78:78}],78:[function(t,n,r){var e=t(81),i=t(37).concat("length","prototype");r.f=Object.getOwnPropertyNames||function getOwnPropertyNames(t){return e(t,i);};},{37:37,81:81}],79:[function(t,n,r){r.f=Object.getOwnPropertySymbols;},{}],80:[function(t,n,r){var e=t(46),i=t(115),o=t(98)("IE_PROTO"),u=Object.prototype;n.exports=Object.getPrototypeOf||function(t){return t=i(t),e(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null;};},{115:115,46:46,98:98}],81:[function(t,n,r){var e=t(46),i=t(113),o=t(18)(!1),u=t(98)("IE_PROTO");n.exports=function(t,n){var r,c=i(t),a=0,f=[];for(r in c){r!=u&&e(c,r)&&f.push(r);}for(;n.length>a;){e(c,r=n[a++])&&(~o(f,r)||f.push(r));}return f;};},{113:113,18:18,46:46,98:98}],82:[function(t,n,r){var e=t(81),i=t(37);n.exports=Object.keys||function keys(t){return e(t,i);};},{37:37,81:81}],83:[function(t,n,r){r.f={}.propertyIsEnumerable;},{}],84:[function(t,n,r){var e=t(39),i=t(29),o=t(41);n.exports=function(t,n){var r=(i.Object||{})[t]||Object[t],u={};u[t]=n(r),e(e.S+e.F*o(function(){r(1);}),"Object",u);};},{29:29,39:39,41:41}],85:[function(t,n,r){var e=t(82),i=t(113),o=t(83).f;n.exports=function(t){return function(n){for(var r,u=i(n),c=e(u),a=c.length,f=0,s=[];a>f;){o.call(u,r=c[f++])&&s.push(t?[r,u[r]]:u[r]);}return s;};};},{113:113,82:82,83:83}],86:[function(t,n,r){var e=t(78),i=t(79),o=t(15),u=t(45).Reflect;n.exports=u&&u.ownKeys||function ownKeys(t){var n=e.f(o(t)),r=i.f;return r?n.concat(r(t)):n;};},{15:15,45:45,78:78,79:79}],87:[function(t,n,r){var e=t(45).parseFloat,i=t(107).trim;n.exports=1/e(t(108)+"-0")!=-1/0?function parseFloat(t){var n=i(String(t),3),r=e(n);return 0===r&&"-"==n.charAt(0)?-0:r;}:e;},{107:107,108:108,45:45}],88:[function(t,n,r){var e=t(45).parseInt,i=t(107).trim,o=t(108),u=/^[-+]?0[xX]/;n.exports=8!==e(o+"08")||22!==e(o+"0x16")?function parseInt(t,n){var r=i(String(t),3);return e(r,n>>>0||(u.test(r)?16:10));}:e;},{107:107,108:108,45:45}],89:[function(t,n,r){n.exports=function(t){try{return{e:!1,v:t()};}catch(t){return{e:!0,v:t};}};},{}],90:[function(t,n,r){var e=t(15),i=t(56),o=t(71);n.exports=function(t,n){if(e(t),i(n)&&n.constructor===t)return n;var r=o.f(t);return(0,r.resolve)(n),r.promise;};},{15:15,56:56,71:71}],91:[function(t,n,r){n.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n};};},{}],92:[function(t,n,r){var e=t(93);n.exports=function(t,n,r){for(var i in n){e(t,i,n[i],r);}return t;};},{93:93}],93:[function(t,n,r){var e=t(45),i=t(47),o=t(46),u=t(120)("src"),c=Function.toString,a=(""+c).split("toString");t(29).inspectSource=function(t){return c.call(t);},(n.exports=function(t,n,r,c){var f="function"==typeof r;f&&(o(r,"name")||i(r,"name",n)),t[n]!==r&&(f&&(o(r,u)||i(r,u,t[n]?""+t[n]:a.join(String(n)))),t===e?t[n]=r:c?t[n]?t[n]=r:i(t,n,r):(delete t[n],i(t,n,r)));})(Function.prototype,"toString",function toString(){return"function"==typeof this&&this[u]||c.call(this);});},{120:120,29:29,45:45,46:46,47:47}],94:[function(t,n,r){n.exports=Object.is||function is(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n;};},{}],95:[function(t,n,r){var e=t(56),i=t(15),o=function o(t,n){if(i(t),!e(n)&&null!==n)throw TypeError(n+": can't set as prototype!");};n.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(n,r,e){try{e=t(31)(Function.call,t(76).f(Object.prototype,"__proto__").set,2),e(n,[]),r=!(n instanceof Array);}catch(t){r=!0;}return function setPrototypeOf(t,n){return o(t,n),r?t.__proto__=n:e(t,n),t;};}({},!1):void 0),check:o};},{15:15,31:31,56:56,76:76}],96:[function(t,n,r){"use strict";var e=t(45),i=t(74),o=t(35),u=t(125)("species");n.exports=function(t){var n=e[t];o&&n&&!n[u]&&i.f(n,u,{configurable:!0,get:function get(){return this;}});};},{125:125,35:35,45:45,74:74}],97:[function(t,n,r){var e=t(74).f,i=t(46),o=t(125)("toStringTag");n.exports=function(t,n,r){t&&!i(t=r?t:t.prototype,o)&&e(t,o,{configurable:!0,value:n});};},{125:125,46:46,74:74}],98:[function(t,n,r){var e=t(99)("keys"),i=t(120);n.exports=function(t){return e[t]||(e[t]=i(t));};},{120:120,99:99}],99:[function(t,n,r){var e=t(29),i=t(45),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(n.exports=function(t,n){return o[t]||(o[t]=void 0!==n?n:{});})("versions",[]).push({version:e.version,mode:t(64)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"});},{29:29,45:45,64:64}],100:[function(t,n,r){var e=t(15),i=t(11),o=t(125)("species");n.exports=function(t,n){var r,u=e(t).constructor;return void 0===u||void 0==(r=e(u)[o])?n:i(r);};},{11:11,125:125,15:15}],101:[function(t,n,r){"use strict";var e=t(41);n.exports=function(t,n){return!!t&&e(function(){n?t.call(null,function(){},1):t.call(null);});};},{41:41}],102:[function(t,n,r){var e=t(112),i=t(34);n.exports=function(t){return function(n,r){var o,u,c=String(i(n)),a=e(r),f=c.length;return a<0||a>=f?t?"":void 0:(o=c.charCodeAt(a),o<55296||o>56319||a+1===f||(u=c.charCodeAt(a+1))<56320||u>57343?t?c.charAt(a):o:t?c.slice(a,a+2):u-56320+(o-55296<<10)+65536);};};},{112:112,34:34}],103:[function(t,n,r){var e=t(57),i=t(34);n.exports=function(t,n,r){if(e(n))throw TypeError("String#"+r+" doesn't accept regex!");return String(i(t));};},{34:34,57:57}],104:[function(t,n,r){var e=t(39),i=t(41),o=t(34),u=/"/g,c=function c(t,n,r,e){var i=String(o(t)),c="<"+n;return""!==r&&(c+=" "+r+'="'+String(e).replace(u,"&quot;")+'"'),c+">"+i+"</"+n+">";};n.exports=function(t,n){var r={};r[t]=n(c),e(e.P+e.F*i(function(){var n=""[t]('"');return n!==n.toLowerCase()||n.split('"').length>3;}),"String",r);};},{34:34,39:39,41:41}],105:[function(t,n,r){var e=t(114),i=t(106),o=t(34);n.exports=function(t,n,r,u){var c=String(o(t)),a=c.length,f=void 0===r?" ":String(r),s=e(n);if(s<=a||""==f)return c;var l=s-a,h=i.call(f,Math.ceil(l/f.length));return h.length>l&&(h=h.slice(0,l)),u?h+c:c+h;};},{106:106,114:114,34:34}],106:[function(t,n,r){"use strict";var e=t(112),i=t(34);n.exports=function repeat(t){var n=String(i(this)),r="",o=e(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(n+=n)){1&o&&(r+=n);}return r;};},{112:112,34:34}],107:[function(t,n,r){var e=t(39),i=t(34),o=t(41),u=t(108),c="["+u+"]",a="​",f=RegExp("^"+c+c+"*"),s=RegExp(c+c+"*$"),l=function l(t,n,r){var i={},c=o(function(){return!!u[t]()||a[t]()!=a;}),f=i[t]=c?n(h):u[t];r&&(i[r]=f),e(e.P+e.F*c,"String",i);},h=l.trim=function(t,n){return t=String(i(t)),1&n&&(t=t.replace(f,"")),2&n&&(t=t.replace(s,"")),t;};n.exports=l;},{108:108,34:34,39:39,41:41}],108:[function(t,n,r){n.exports="\t\n\x0B\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF";},{}],109:[function(t,n,r){var e,i,o,u=t(31),c=t(51),a=t(48),f=t(36),s=t(45),l=s.process,h=s.setImmediate,p=s.clearImmediate,v=s.MessageChannel,y=s.Dispatch,d=0,g={},m=function m(){var t=+this;if(g.hasOwnProperty(t)){var n=g[t];delete g[t],n();}},x=function x(t){m.call(t.data);};h&&p||(h=function setImmediate(t){for(var n=[],r=1;arguments.length>r;){n.push(arguments[r++]);}return g[++d]=function(){c("function"==typeof t?t:Function(t),n);},e(d),d;},p=function clearImmediate(t){delete g[t];},"process"==t(25)(l)?e=function e(t){l.nextTick(u(m,t,1));}:y&&y.now?e=function e(t){y.now(u(m,t,1));}:v?(i=new v(),o=i.port2,i.port1.onmessage=x,e=u(o.postMessage,o,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts?(e=function e(t){s.postMessage(t+"","*");},s.addEventListener("message",x,!1)):e="onreadystatechange"in f("script")?function(t){a.appendChild(f("script")).onreadystatechange=function(){a.removeChild(this),m.call(t);};}:function(t){setTimeout(u(m,t,1),0);}),n.exports={set:h,clear:p};},{25:25,31:31,36:36,45:45,48:48,51:51}],110:[function(t,n,r){var e=t(112),i=Math.max,o=Math.min;n.exports=function(t,n){return t=e(t),t<0?i(t+n,0):o(t,n);};},{112:112}],111:[function(t,n,r){var e=t(112),i=t(114);n.exports=function(t){if(void 0===t)return 0;var n=e(t),r=i(n);if(n!==r)throw RangeError("Wrong length!");return r;};},{112:112,114:114}],112:[function(t,n,r){var e=Math.ceil,i=Math.floor;n.exports=function(t){return isNaN(t=+t)?0:(t>0?i:e)(t);};},{}],113:[function(t,n,r){var e=t(52),i=t(34);n.exports=function(t){return e(i(t));};},{34:34,52:52}],114:[function(t,n,r){var e=t(112),i=Math.min;n.exports=function(t){return t>0?i(e(t),9007199254740991):0;};},{112:112}],115:[function(t,n,r){var e=t(34);n.exports=function(t){return Object(e(t));};},{34:34}],116:[function(t,n,r){var e=t(56);n.exports=function(t,n){if(!e(t))return t;var r,i;if(n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!e(i=r.call(t)))return i;if(!n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value");};},{56:56}],117:[function(t,n,r){"use strict";if(t(35)){var e=t(64),i=t(45),o=t(41),u=t(39),c=t(119),a=t(118),f=t(31),s=t(14),l=t(91),h=t(47),p=t(92),v=t(112),y=t(114),d=t(111),g=t(110),m=t(116),x=t(46),b=t(24),w=t(56),S=t(115),_=t(53),E=t(73),F=t(80),O=t(78).f,P=t(126),I=t(120),A=t(125),M=t(19),k=t(18),N=t(100),j=t(137),T=t(63),L=t(61),R=t(96),C=t(17),D=t(16),G=t(74),W=t(76),U=G.f,V=W.f,B=i.RangeError,z=i.TypeError,q=i.Uint8Array,Y=Array.prototype,K=a.ArrayBuffer,J=a.DataView,H=M(0),X=M(2),Z=M(3),$=M(4),Q=M(5),tt=M(6),nt=k(!0),rt=k(!1),et=j.values,it=j.keys,ot=j.entries,ut=Y.lastIndexOf,ct=Y.reduce,at=Y.reduceRight,ft=Y.join,st=Y.sort,lt=Y.slice,ht=Y.toString,pt=Y.toLocaleString,vt=A("iterator"),yt=A("toStringTag"),dt=I("typed_constructor"),gt=I("def_constructor"),mt=c.CONSTR,xt=c.TYPED,bt=c.VIEW,wt=M(1,function(t,n){return Ot(N(t,t[gt]),n);}),St=o(function(){return 1===new q(new Uint16Array([1]).buffer)[0];}),_t=!!q&&!!q.prototype.set&&o(function(){new q(1).set({});}),Et=function Et(t,n){var r=v(t);if(r<0||r%n)throw B("Wrong offset!");return r;},Ft=function Ft(t){if(w(t)&&xt in t)return t;throw z(t+" is not a typed array!");},Ot=function Ot(t,n){if(!(w(t)&&dt in t))throw z("It is not a typed array constructor!");return new t(n);},Pt=function Pt(t,n){return It(N(t,t[gt]),n);},It=function It(t,n){for(var r=0,e=n.length,i=Ot(t,e);e>r;){i[r]=n[r++];}return i;},At=function At(t,n,r){U(t,n,{get:function get(){return this._d[r];}});},Mt=function from(t){var n,r,e,i,o,u,c=S(t),a=arguments.length,s=a>1?arguments[1]:void 0,l=void 0!==s,h=P(c);if(void 0!=h&&!_(h)){for(u=h.call(c),e=[],n=0;!(o=u.next()).done;n++){e.push(o.value);}c=e;}for(l&&a>2&&(s=f(s,arguments[2],2)),n=0,r=y(c.length),i=Ot(this,r);r>n;n++){i[n]=l?s(c[n],n):c[n];}return i;},kt=function of(){for(var t=0,n=arguments.length,r=Ot(this,n);n>t;){r[t]=arguments[t++];}return r;},Nt=!!q&&o(function(){pt.call(new q(1));}),jt=function toLocaleString(){return pt.apply(Nt?lt.call(Ft(this)):Ft(this),arguments);},Tt={copyWithin:function copyWithin(t,n){return D.call(Ft(this),t,n,arguments.length>2?arguments[2]:void 0);},every:function every(t){return $(Ft(this),t,arguments.length>1?arguments[1]:void 0);},fill:function fill(t){return C.apply(Ft(this),arguments);},filter:function filter(t){return Pt(this,X(Ft(this),t,arguments.length>1?arguments[1]:void 0));},find:function find(t){return Q(Ft(this),t,arguments.length>1?arguments[1]:void 0);},findIndex:function findIndex(t){return tt(Ft(this),t,arguments.length>1?arguments[1]:void 0);},forEach:function forEach(t){H(Ft(this),t,arguments.length>1?arguments[1]:void 0);},indexOf:function indexOf(t){return rt(Ft(this),t,arguments.length>1?arguments[1]:void 0);},includes:function includes(t){return nt(Ft(this),t,arguments.length>1?arguments[1]:void 0);},join:function join(t){return ft.apply(Ft(this),arguments);},lastIndexOf:function lastIndexOf(t){return ut.apply(Ft(this),arguments);},map:function map(t){return wt(Ft(this),t,arguments.length>1?arguments[1]:void 0);},reduce:function reduce(t){return ct.apply(Ft(this),arguments);},reduceRight:function reduceRight(t){return at.apply(Ft(this),arguments);},reverse:function reverse(){for(var t,n=this,r=Ft(n).length,e=Math.floor(r/2),i=0;i<e;){t=n[i],n[i++]=n[--r],n[r]=t;}return n;},some:function some(t){return Z(Ft(this),t,arguments.length>1?arguments[1]:void 0);},sort:function sort(t){return st.call(Ft(this),t);},subarray:function subarray(t,n){var r=Ft(this),e=r.length,i=g(t,e);return new(N(r,r[gt]))(r.buffer,r.byteOffset+i*r.BYTES_PER_ELEMENT,y((void 0===n?e:g(n,e))-i));}},Lt=function slice(t,n){return Pt(this,lt.call(Ft(this),t,n));},Rt=function set(t){Ft(this);var n=Et(arguments[1],1),r=this.length,e=S(t),i=y(e.length),o=0;if(i+n>r)throw B("Wrong length!");for(;o<i;){this[n+o]=e[o++];}},Ct={entries:function entries(){return ot.call(Ft(this));},keys:function keys(){return it.call(Ft(this));},values:function values(){return et.call(Ft(this));}},Dt=function Dt(t,n){return w(t)&&t[xt]&&"symbol"!=(typeof n==="undefined"?"undefined":_typeof(n))&&n in t&&String(+n)==String(n);},Gt=function getOwnPropertyDescriptor(t,n){return Dt(t,n=m(n,!0))?l(2,t[n]):V(t,n);},Wt=function defineProperty(t,n,r){return!(Dt(t,n=m(n,!0))&&w(r)&&x(r,"value"))||x(r,"get")||x(r,"set")||r.configurable||x(r,"writable")&&!r.writable||x(r,"enumerable")&&!r.enumerable?U(t,n,r):(t[n]=r.value,t);};mt||(W.f=Gt,G.f=Wt),u(u.S+u.F*!mt,"Object",{getOwnPropertyDescriptor:Gt,defineProperty:Wt}),o(function(){ht.call({});})&&(ht=pt=function toString(){return ft.call(this);});var Ut=p({},Tt);p(Ut,Ct),h(Ut,vt,Ct.values),p(Ut,{slice:Lt,set:Rt,constructor:function constructor(){},toString:ht,toLocaleString:jt}),At(Ut,"buffer","b"),At(Ut,"byteOffset","o"),At(Ut,"byteLength","l"),At(Ut,"length","e"),U(Ut,yt,{get:function get(){return this[xt];}}),n.exports=function(t,n,r,a){a=!!a;var f=t+(a?"Clamped":"")+"Array",l="get"+t,p="set"+t,v=i[f],g=v||{},m=v&&F(v),x=!v||!c.ABV,S={},_=v&&v.prototype,P=function P(t,r){var e=t._d;return e.v[l](r*n+e.o,St);},I=function I(t,r,e){var i=t._d;a&&(e=(e=Math.round(e))<0?0:e>255?255:255&e),i.v[p](r*n+i.o,e,St);},A=function A(t,n){U(t,n,{get:function get(){return P(this,n);},set:function set(t){return I(this,n,t);},enumerable:!0});};x?(v=r(function(t,r,e,i){s(t,v,f,"_d");var o,u,c,a,l=0,p=0;if(w(r)){if(!(r instanceof K||"ArrayBuffer"==(a=b(r))||"SharedArrayBuffer"==a))return xt in r?It(v,r):Mt.call(v,r);o=r,p=Et(e,n);var g=r.byteLength;if(void 0===i){if(g%n)throw B("Wrong length!");if((u=g-p)<0)throw B("Wrong length!");}else if((u=y(i)*n)+p>g)throw B("Wrong length!");c=u/n;}else c=d(r),u=c*n,o=new K(u);for(h(t,"_d",{b:o,o:p,l:u,e:c,v:new J(o)});l<c;){A(t,l++);}}),_=v.prototype=E(Ut),h(_,"constructor",v)):o(function(){v(1);})&&o(function(){new v(-1);})&&L(function(t){new v(),new v(null),new v(1.5),new v(t);},!0)||(v=r(function(t,r,e,i){s(t,v,f);var o;return w(r)?r instanceof K||"ArrayBuffer"==(o=b(r))||"SharedArrayBuffer"==o?void 0!==i?new g(r,Et(e,n),i):void 0!==e?new g(r,Et(e,n)):new g(r):xt in r?It(v,r):Mt.call(v,r):new g(d(r));}),H(m!==Function.prototype?O(g).concat(O(m)):O(g),function(t){t in v||h(v,t,g[t]);}),v.prototype=_,e||(_.constructor=v));var M=_[vt],k=!!M&&("values"==M.name||void 0==M.name),N=Ct.values;h(v,dt,!0),h(_,xt,f),h(_,bt,!0),h(_,gt,v),(a?new v(1)[yt]==f:yt in _)||U(_,yt,{get:function get(){return f;}}),S[f]=v,u(u.G+u.W+u.F*(v!=g),S),u(u.S,f,{BYTES_PER_ELEMENT:n}),u(u.S+u.F*o(function(){g.of.call(v,1);}),f,{from:Mt,of:kt}),"BYTES_PER_ELEMENT"in _||h(_,"BYTES_PER_ELEMENT",n),u(u.P,f,Tt),R(f),u(u.P+u.F*_t,f,{set:Rt}),u(u.P+u.F*!k,f,Ct),e||_.toString==ht||(_.toString=ht),u(u.P+u.F*o(function(){new v(1).slice();}),f,{slice:Lt}),u(u.P+u.F*(o(function(){return[1,2].toLocaleString()!=new v([1,2]).toLocaleString();})||!o(function(){_.toLocaleString.call([1,2]);})),f,{toLocaleString:jt}),T[f]=k?M:N,e||k||h(_,vt,N);};}else n.exports=function(){};},{100:100,110:110,111:111,112:112,114:114,115:115,116:116,118:118,119:119,120:120,125:125,126:126,137:137,14:14,16:16,17:17,18:18,19:19,24:24,31:31,35:35,39:39,41:41,45:45,46:46,47:47,53:53,56:56,61:61,63:63,64:64,73:73,74:74,76:76,78:78,80:80,91:91,92:92,96:96}],118:[function(t,n,r){"use strict";function packIEEE754(t,n,r){var e,i,o,u=new Array(r),c=8*r-n-1,a=(1<<c)-1,f=a>>1,s=23===n?P(2,-24)-P(2,-77):0,l=0,h=t<0||0===t&&1/t<0?1:0;for(t=O(t),t!=t||t===E?(i=t!=t?1:0,e=a):(e=I(A(t)/M),t*(o=P(2,-e))<1&&(e--,o*=2),t+=e+f>=1?s/o:s*P(2,1-f),t*o>=2&&(e++,o/=2),e+f>=a?(i=0,e=a):e+f>=1?(i=(t*o-1)*P(2,n),e+=f):(i=t*P(2,f-1)*P(2,n),e=0));n>=8;u[l++]=255&i,i/=256,n-=8){}for(e=e<<n|i,c+=n;c>0;u[l++]=255&e,e/=256,c-=8){}return u[--l]|=128*h,u;}function unpackIEEE754(t,n,r){var e,i=8*r-n-1,o=(1<<i)-1,u=o>>1,c=i-7,a=r-1,f=t[a--],s=127&f;for(f>>=7;c>0;s=256*s+t[a],a--,c-=8){}for(e=s&(1<<-c)-1,s>>=-c,c+=n;c>0;e=256*e+t[a],a--,c-=8){}if(0===s)s=1-u;else{if(s===o)return e?NaN:f?-E:E;e+=P(2,n),s-=u;}return(f?-1:1)*e*P(2,s-n);}function unpackI32(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0];}function packI8(t){return[255&t];}function packI16(t){return[255&t,t>>8&255];}function packI32(t){return[255&t,t>>8&255,t>>16&255,t>>24&255];}function packF64(t){return packIEEE754(t,52,8);}function packF32(t){return packIEEE754(t,23,4);}function addGetter(t,n,r){y(t[m],n,{get:function get(){return this[r];}});}function get(t,n,r,e){var i=+r,o=p(i);if(o+n>t[N])throw _(x);var u=t[k]._b,c=o+t[j],a=u.slice(c,c+n);return e?a:a.reverse();}function set(t,n,r,e,i,o){var u=+r,c=p(u);if(c+n>t[N])throw _(x);for(var a=t[k]._b,f=c+t[j],s=e(+i),l=0;l<n;l++){a[f+l]=s[o?l:n-l-1];}}var e=t(45),i=t(35),o=t(64),u=t(119),c=t(47),a=t(92),f=t(41),s=t(14),l=t(112),h=t(114),p=t(111),v=t(78).f,y=t(74).f,d=t(17),g=t(97),m="prototype",x="Wrong index!",b=e.ArrayBuffer,w=e.DataView,S=e.Math,_=e.RangeError,E=e.Infinity,F=b,O=S.abs,P=S.pow,I=S.floor,A=S.log,M=S.LN2,k=i?"_b":"buffer",N=i?"_l":"byteLength",j=i?"_o":"byteOffset";if(u.ABV){if(!f(function(){b(1);})||!f(function(){new b(-1);})||f(function(){return new b(),new b(1.5),new b(NaN),"ArrayBuffer"!=b.name;})){b=function ArrayBuffer(t){return s(this,b),new F(p(t));};for(var T,L=b[m]=F[m],R=v(F),C=0;R.length>C;){(T=R[C++])in b||c(b,T,F[T]);}o||(L.constructor=b);}var D=new w(new b(2)),G=w[m].setInt8;D.setInt8(0,2147483648),D.setInt8(1,2147483649),!D.getInt8(0)&&D.getInt8(1)||a(w[m],{setInt8:function setInt8(t,n){G.call(this,t,n<<24>>24);},setUint8:function setUint8(t,n){G.call(this,t,n<<24>>24);}},!0);}else b=function ArrayBuffer(t){s(this,b,"ArrayBuffer");var n=p(t);this._b=d.call(new Array(n),0),this[N]=n;},w=function DataView(t,n,r){s(this,w,"DataView"),s(t,b,"DataView");var e=t[N],i=l(n);if(i<0||i>e)throw _("Wrong offset!");if(r=void 0===r?e-i:h(r),i+r>e)throw _("Wrong length!");this[k]=t,this[j]=i,this[N]=r;},i&&(addGetter(b,"byteLength","_l"),addGetter(w,"buffer","_b"),addGetter(w,"byteLength","_l"),addGetter(w,"byteOffset","_o")),a(w[m],{getInt8:function getInt8(t){return get(this,1,t)[0]<<24>>24;},getUint8:function getUint8(t){return get(this,1,t)[0];},getInt16:function getInt16(t){var n=get(this,2,t,arguments[1]);return(n[1]<<8|n[0])<<16>>16;},getUint16:function getUint16(t){var n=get(this,2,t,arguments[1]);return n[1]<<8|n[0];},getInt32:function getInt32(t){return unpackI32(get(this,4,t,arguments[1]));},getUint32:function getUint32(t){return unpackI32(get(this,4,t,arguments[1]))>>>0;},getFloat32:function getFloat32(t){return unpackIEEE754(get(this,4,t,arguments[1]),23,4);},getFloat64:function getFloat64(t){return unpackIEEE754(get(this,8,t,arguments[1]),52,8);},setInt8:function setInt8(t,n){set(this,1,t,packI8,n);},setUint8:function setUint8(t,n){set(this,1,t,packI8,n);},setInt16:function setInt16(t,n){set(this,2,t,packI16,n,arguments[2]);},setUint16:function setUint16(t,n){set(this,2,t,packI16,n,arguments[2]);},setInt32:function setInt32(t,n){set(this,4,t,packI32,n,arguments[2]);},setUint32:function setUint32(t,n){set(this,4,t,packI32,n,arguments[2]);},setFloat32:function setFloat32(t,n){set(this,4,t,packF32,n,arguments[2]);},setFloat64:function setFloat64(t,n){set(this,8,t,packF64,n,arguments[2]);}});g(b,"ArrayBuffer"),g(w,"DataView"),c(w[m],u.VIEW,!0),r.ArrayBuffer=b,r.DataView=w;},{111:111,112:112,114:114,119:119,14:14,17:17,35:35,41:41,45:45,47:47,64:64,74:74,78:78,92:92,97:97}],119:[function(t,n,r){for(var e,i=t(45),o=t(47),u=t(120),c=u("typed_array"),a=u("view"),f=!(!i.ArrayBuffer||!i.DataView),s=f,l=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");l<9;){(e=i[h[l++]])?(o(e.prototype,c,!0),o(e.prototype,a,!0)):s=!1;}n.exports={ABV:f,CONSTR:s,TYPED:c,VIEW:a};},{120:120,45:45,47:47}],120:[function(t,n,r){var e=0,i=Math.random();n.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+i).toString(36));};},{}],121:[function(t,n,r){var e=t(45),i=e.navigator;n.exports=i&&i.userAgent||"";},{45:45}],122:[function(t,n,r){var e=t(56);n.exports=function(t,n){if(!e(t)||t._t!==n)throw TypeError("Incompatible receiver, "+n+" required!");return t;};},{56:56}],123:[function(t,n,r){var e=t(45),i=t(29),o=t(64),u=t(124),c=t(74).f;n.exports=function(t){var n=i.Symbol||(i.Symbol=o?{}:e.Symbol||{});"_"==t.charAt(0)||t in n||c(n,t,{value:u.f(t)});};},{124:124,29:29,45:45,64:64,74:74}],124:[function(t,n,r){r.f=t(125);},{125:125}],125:[function(t,n,r){var e=t(99)("wks"),i=t(120),o=t(45).Symbol,u="function"==typeof o;(n.exports=function(t){return e[t]||(e[t]=u&&o[t]||(u?o:i)("Symbol."+t));}).store=e;},{120:120,45:45,99:99}],126:[function(t,n,r){var e=t(24),i=t(125)("iterator"),o=t(63);n.exports=t(29).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[e(t)];};},{125:125,24:24,29:29,63:63}],127:[function(t,n,r){var e=t(39);e(e.P,"Array",{copyWithin:t(16)}),t(13)("copyWithin");},{13:13,16:16,39:39}],128:[function(t,n,r){"use strict";var e=t(39),i=t(19)(4);e(e.P+e.F*!t(101)([].every,!0),"Array",{every:function every(t){return i(this,t,arguments[1]);}});},{101:101,19:19,39:39}],129:[function(t,n,r){var e=t(39);e(e.P,"Array",{fill:t(17)}),t(13)("fill");},{13:13,17:17,39:39}],130:[function(t,n,r){"use strict";var e=t(39),i=t(19)(2);e(e.P+e.F*!t(101)([].filter,!0),"Array",{filter:function filter(t){return i(this,t,arguments[1]);}});},{101:101,19:19,39:39}],131:[function(t,n,r){"use strict";var e=t(39),i=t(19)(6),o="findIndex",u=!0;o in[]&&Array(1)[o](function(){u=!1;}),e(e.P+e.F*u,"Array",{findIndex:function findIndex(t){return i(this,t,arguments.length>1?arguments[1]:void 0);}}),t(13)(o);},{13:13,19:19,39:39}],132:[function(t,n,r){"use strict";var e=t(39),i=t(19)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1;}),e(e.P+e.F*o,"Array",{find:function find(t){return i(this,t,arguments.length>1?arguments[1]:void 0);}}),t(13)("find");},{13:13,19:19,39:39}],133:[function(t,n,r){"use strict";var e=t(39),i=t(19)(0),o=t(101)([].forEach,!0);e(e.P+e.F*!o,"Array",{forEach:function forEach(t){return i(this,t,arguments[1]);}});},{101:101,19:19,39:39}],134:[function(t,n,r){"use strict";var e=t(31),i=t(39),o=t(115),u=t(58),c=t(53),a=t(114),f=t(30),s=t(126);i(i.S+i.F*!t(61)(function(t){Array.from(t);}),"Array",{from:function from(t){var n,r,i,l,h=o(t),p="function"==typeof this?this:Array,v=arguments.length,y=v>1?arguments[1]:void 0,d=void 0!==y,g=0,m=s(h);if(d&&(y=e(y,v>2?arguments[2]:void 0,2)),void 0==m||p==Array&&c(m))for(n=a(h.length),r=new p(n);n>g;g++){f(r,g,d?y(h[g],g):h[g]);}else for(l=m.call(h),r=new p();!(i=l.next()).done;g++){f(r,g,d?u(l,y,[i.value,g],!0):i.value);}return r.length=g,r;}});},{114:114,115:115,126:126,30:30,31:31,39:39,53:53,58:58,61:61}],135:[function(t,n,r){"use strict";var e=t(39),i=t(18)(!1),o=[].indexOf,u=!!o&&1/[1].indexOf(1,-0)<0;e(e.P+e.F*(u||!t(101)(o)),"Array",{indexOf:function indexOf(t){return u?o.apply(this,arguments)||0:i(this,t,arguments[1]);}});},{101:101,18:18,39:39}],136:[function(t,n,r){var e=t(39);e(e.S,"Array",{isArray:t(54)});},{39:39,54:54}],137:[function(t,n,r){"use strict";var e=t(13),i=t(62),o=t(63),u=t(113);n.exports=t(60)(Array,"Array",function(t,n){this._t=u(t),this._i=0,this._k=n;},function(){var t=this._t,n=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):"keys"==n?i(0,r):"values"==n?i(0,t[r]):i(0,[r,t[r]]);},"values"),o.Arguments=o.Array,e("keys"),e("values"),e("entries");},{113:113,13:13,60:60,62:62,63:63}],138:[function(t,n,r){"use strict";var e=t(39),i=t(113),o=[].join;e(e.P+e.F*(t(52)!=Object||!t(101)(o)),"Array",{join:function join(t){return o.call(i(this),void 0===t?",":t);}});},{101:101,113:113,39:39,52:52}],139:[function(t,n,r){"use strict";var e=t(39),i=t(113),o=t(112),u=t(114),c=[].lastIndexOf,a=!!c&&1/[1].lastIndexOf(1,-0)<0;e(e.P+e.F*(a||!t(101)(c)),"Array",{lastIndexOf:function lastIndexOf(t){if(a)return c.apply(this,arguments)||0;var n=i(this),r=u(n.length),e=r-1;for(arguments.length>1&&(e=Math.min(e,o(arguments[1]))),e<0&&(e=r+e);e>=0;e--){if(e in n&&n[e]===t)return e||0;}return-1;}});},{101:101,112:112,113:113,114:114,39:39}],140:[function(t,n,r){"use strict";var e=t(39),i=t(19)(1);e(e.P+e.F*!t(101)([].map,!0),"Array",{map:function map(t){return i(this,t,arguments[1]);}});},{101:101,19:19,39:39}],141:[function(t,n,r){"use strict";var e=t(39),i=t(30);e(e.S+e.F*t(41)(function(){function F(){}return!(Array.of.call(F)instanceof F);}),"Array",{of:function of(){for(var t=0,n=arguments.length,r=new("function"==typeof this?this:Array)(n);n>t;){i(r,t,arguments[t++]);}return r.length=n,r;}});},{30:30,39:39,41:41}],142:[function(t,n,r){"use strict";var e=t(39),i=t(20);e(e.P+e.F*!t(101)([].reduceRight,!0),"Array",{reduceRight:function reduceRight(t){return i(this,t,arguments.length,arguments[1],!0);}});},{101:101,20:20,39:39}],143:[function(t,n,r){"use strict";var e=t(39),i=t(20);e(e.P+e.F*!t(101)([].reduce,!0),"Array",{reduce:function reduce(t){return i(this,t,arguments.length,arguments[1],!1);}});},{101:101,20:20,39:39}],144:[function(t,n,r){"use strict";var e=t(39),i=t(48),o=t(25),u=t(110),c=t(114),a=[].slice;e(e.P+e.F*t(41)(function(){i&&a.call(i);}),"Array",{slice:function slice(t,n){var r=c(this.length),e=o(this);if(n=void 0===n?r:n,"Array"==e)return a.call(this,t,n);for(var i=u(t,r),f=u(n,r),s=c(f-i),l=new Array(s),h=0;h<s;h++){l[h]="String"==e?this.charAt(i+h):this[i+h];}return l;}});},{110:110,114:114,25:25,39:39,41:41,48:48}],145:[function(t,n,r){"use strict";var e=t(39),i=t(19)(3);e(e.P+e.F*!t(101)([].some,!0),"Array",{some:function some(t){return i(this,t,arguments[1]);}});},{101:101,19:19,39:39}],146:[function(t,n,r){"use strict";var e=t(39),i=t(11),o=t(115),u=t(41),c=[].sort,a=[1,2,3];e(e.P+e.F*(u(function(){a.sort(void 0);})||!u(function(){a.sort(null);})||!t(101)(c)),"Array",{sort:function sort(t){return void 0===t?c.call(o(this)):c.call(o(this),i(t));}});},{101:101,11:11,115:115,39:39,41:41}],147:[function(t,n,r){t(96)("Array");},{96:96}],148:[function(t,n,r){var e=t(39);e(e.S,"Date",{now:function now(){return new Date().getTime();}});},{39:39}],149:[function(t,n,r){var e=t(39),i=t(32);e(e.P+e.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i});},{32:32,39:39}],150:[function(t,n,r){"use strict";var e=t(39),i=t(115),o=t(116);e(e.P+e.F*t(41)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function toISOString(){return 1;}});}),"Date",{toJSON:function toJSON(t){var n=i(this),r=o(n);return"number"!=typeof r||isFinite(r)?n.toISOString():null;}});},{115:115,116:116,39:39,41:41}],151:[function(t,n,r){var e=t(125)("toPrimitive"),i=Date.prototype;e in i||t(47)(i,e,t(33));},{125:125,33:33,47:47}],152:[function(t,n,r){var e=Date.prototype,i=e.toString,o=e.getTime;new Date(NaN)+""!="Invalid Date"&&t(93)(e,"toString",function toString(){var t=o.call(this);return t===t?i.call(this):"Invalid Date";});},{93:93}],153:[function(t,n,r){var e=t(39);e(e.P,"Function",{bind:t(23)});},{23:23,39:39}],154:[function(t,n,r){"use strict";var e=t(56),i=t(80),o=t(125)("hasInstance"),u=Function.prototype;o in u||t(74).f(u,o,{value:function value(t){if("function"!=typeof this||!e(t))return!1;if(!e(this.prototype))return t instanceof this;for(;t=i(t);){if(this.prototype===t)return!0;}return!1;}});},{125:125,56:56,74:74,80:80}],155:[function(t,n,r){var e=t(74).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||t(35)&&e(i,"name",{configurable:!0,get:function get(){try{return(""+this).match(o)[1];}catch(t){return"";}}});},{35:35,74:74}],156:[function(t,n,r){"use strict";var e=t(26),i=t(122);n.exports=t(28)("Map",function(t){return function Map(){return t(this,arguments.length>0?arguments[0]:void 0);};},{get:function get(t){var n=e.getEntry(i(this,"Map"),t);return n&&n.v;},set:function set(t,n){return e.def(i(this,"Map"),0===t?0:t,n);}},e,!0);},{122:122,26:26,28:28}],157:[function(t,n,r){var e=t(39),i=t(67),o=Math.sqrt,u=Math.acosh;e(e.S+e.F*!(u&&710==Math.floor(u(Number.MAX_VALUE))&&u(1/0)==1/0),"Math",{acosh:function acosh(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1));}});},{39:39,67:67}],158:[function(t,n,r){function asinh(t){return isFinite(t=+t)&&0!=t?t<0?-asinh(-t):Math.log(t+Math.sqrt(t*t+1)):t;}var e=t(39),i=Math.asinh;e(e.S+e.F*!(i&&1/i(0)>0),"Math",{asinh:asinh});},{39:39}],159:[function(t,n,r){var e=t(39),i=Math.atanh;e(e.S+e.F*!(i&&1/i(-0)<0),"Math",{atanh:function atanh(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2;}});},{39:39}],160:[function(t,n,r){var e=t(39),i=t(68);e(e.S,"Math",{cbrt:function cbrt(t){return i(t=+t)*Math.pow(Math.abs(t),1/3);}});},{39:39,68:68}],161:[function(t,n,r){var e=t(39);e(e.S,"Math",{clz32:function clz32(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32;}});},{39:39}],162:[function(t,n,r){var e=t(39),i=Math.exp;e(e.S,"Math",{cosh:function cosh(t){return(i(t=+t)+i(-t))/2;}});},{39:39}],163:[function(t,n,r){var e=t(39),i=t(65);e(e.S+e.F*(i!=Math.expm1),"Math",{expm1:i});},{39:39,65:65}],164:[function(t,n,r){var e=t(39);e(e.S,"Math",{fround:t(66)});},{39:39,66:66}],165:[function(t,n,r){var e=t(39),i=Math.abs;e(e.S,"Math",{hypot:function hypot(t,n){for(var r,e,o=0,u=0,c=arguments.length,a=0;u<c;){r=i(arguments[u++]),a<r?(e=a/r,o=o*e*e+1,a=r):r>0?(e=r/a,o+=e*e):o+=r;}return a===1/0?1/0:a*Math.sqrt(o);}});},{39:39}],166:[function(t,n,r){var e=t(39),i=Math.imul;e(e.S+e.F*t(41)(function(){return-5!=i(4294967295,5)||2!=i.length;}),"Math",{imul:function imul(t,n){var r=+t,e=+n,i=65535&r,o=65535&e;return 0|i*o+((65535&r>>>16)*o+i*(65535&e>>>16)<<16>>>0);}});},{39:39,41:41}],167:[function(t,n,r){var e=t(39);e(e.S,"Math",{log10:function log10(t){return Math.log(t)*Math.LOG10E;}});},{39:39}],168:[function(t,n,r){var e=t(39);e(e.S,"Math",{log1p:t(67)});},{39:39,67:67}],169:[function(t,n,r){var e=t(39);e(e.S,"Math",{log2:function log2(t){return Math.log(t)/Math.LN2;}});},{39:39}],170:[function(t,n,r){var e=t(39);e(e.S,"Math",{sign:t(68)});},{39:39,68:68}],171:[function(t,n,r){var e=t(39),i=t(65),o=Math.exp;e(e.S+e.F*t(41)(function(){return-2e-17!=!Math.sinh(-2e-17);}),"Math",{sinh:function sinh(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2);}});},{39:39,41:41,65:65}],172:[function(t,n,r){var e=t(39),i=t(65),o=Math.exp;e(e.S,"Math",{tanh:function tanh(t){var n=i(t=+t),r=i(-t);return n==1/0?1:r==1/0?-1:(n-r)/(o(t)+o(-t));}});},{39:39,65:65}],173:[function(t,n,r){var e=t(39);e(e.S,"Math",{trunc:function trunc(t){return(t>0?Math.floor:Math.ceil)(t);}});},{39:39}],174:[function(t,n,r){"use strict";var e=t(45),i=t(46),o=t(25),u=t(50),c=t(116),a=t(41),f=t(78).f,s=t(76).f,l=t(74).f,h=t(107).trim,p=e.Number,v=p,y=p.prototype,d="Number"==o(t(73)(y)),g="trim"in String.prototype,m=function m(t){var n=c(t,!1);if("string"==typeof n&&n.length>2){n=g?n.trim():h(n,3);var r,e,i,o=n.charCodeAt(0);if(43===o||45===o){if(88===(r=n.charCodeAt(2))||120===r)return NaN;}else if(48===o){switch(n.charCodeAt(1)){case 66:case 98:e=2,i=49;break;case 79:case 111:e=8,i=55;break;default:return+n;}for(var u,a=n.slice(2),f=0,s=a.length;f<s;f++){if((u=a.charCodeAt(f))<48||u>i)return NaN;}return parseInt(a,e);}}return+n;};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function Number(t){var n=arguments.length<1?0:t,r=this;return r instanceof p&&(d?a(function(){y.valueOf.call(r);}):"Number"!=o(r))?u(new v(m(n)),r,p):m(n);};for(var x,b=t(35)?f(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;b.length>w;w++){i(v,x=b[w])&&!i(p,x)&&l(p,x,s(v,x));}p.prototype=y,y.constructor=p,t(93)(e,"Number",p);}},{107:107,116:116,25:25,35:35,41:41,45:45,46:46,50:50,73:73,74:74,76:76,78:78,93:93}],175:[function(t,n,r){var e=t(39);e(e.S,"Number",{EPSILON:Math.pow(2,-52)});},{39:39}],176:[function(t,n,r){var e=t(39),i=t(45).isFinite;e(e.S,"Number",{isFinite:function isFinite(t){return"number"==typeof t&&i(t);}});},{39:39,45:45}],177:[function(t,n,r){var e=t(39);e(e.S,"Number",{isInteger:t(55)});},{39:39,55:55}],178:[function(t,n,r){var e=t(39);e(e.S,"Number",{isNaN:function isNaN(t){return t!=t;}});},{39:39}],179:[function(t,n,r){var e=t(39),i=t(55),o=Math.abs;e(e.S,"Number",{isSafeInteger:function isSafeInteger(t){return i(t)&&o(t)<=9007199254740991;}});},{39:39,55:55}],180:[function(t,n,r){var e=t(39);e(e.S,"Number",{MAX_SAFE_INTEGER:9007199254740991});},{39:39}],181:[function(t,n,r){var e=t(39);e(e.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991});},{39:39}],182:[function(t,n,r){var e=t(39),i=t(87);e(e.S+e.F*(Number.parseFloat!=i),"Number",{parseFloat:i});},{39:39,87:87}],183:[function(t,n,r){var e=t(39),i=t(88);e(e.S+e.F*(Number.parseInt!=i),"Number",{parseInt:i});},{39:39,88:88}],184:[function(t,n,r){"use strict";var e=t(39),i=t(112),o=t(12),u=t(106),c=1..toFixed,a=Math.floor,f=[0,0,0,0,0,0],s="Number.toFixed: incorrect invocation!",l=function l(t,n){for(var r=-1,e=n;++r<6;){e+=t*f[r],f[r]=e%1e7,e=a(e/1e7);}},h=function h(t){for(var n=6,r=0;--n>=0;){r+=f[n],f[n]=a(r/t),r=r%t*1e7;}},p=function p(){for(var t=6,n="";--t>=0;){if(""!==n||0===t||0!==f[t]){var r=String(f[t]);n=""===n?r:n+u.call("0",7-r.length)+r;}}return n;},v=function v(t,n,r){return 0===n?r:n%2==1?v(t,n-1,r*t):v(t*t,n/2,r);},y=function y(t){for(var n=0,r=t;r>=4096;){n+=12,r/=4096;}for(;r>=2;){n+=1,r/=2;}return n;};e(e.P+e.F*(!!c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==0xde0b6b3a7640080.toFixed(0))||!t(41)(function(){c.call({});})),"Number",{toFixed:function toFixed(t){var n,r,e,c,a=o(this,s),f=i(t),d="",g="0";if(f<0||f>20)throw RangeError(s);if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return String(a);if(a<0&&(d="-",a=-a),a>1e-21)if(n=y(a*v(2,69,1))-69,r=n<0?a*v(2,-n,1):a/v(2,n,1),r*=4503599627370496,(n=52-n)>0){for(l(0,r),e=f;e>=7;){l(1e7,0),e-=7;}for(l(v(10,e,1),0),e=n-1;e>=23;){h(1<<23),e-=23;}h(1<<e),l(1,1),h(2),g=p();}else l(0,r),l(1<<-n,0),g=p()+u.call("0",f);return f>0?(c=g.length,g=d+(c<=f?"0."+u.call("0",f-c)+g:g.slice(0,c-f)+"."+g.slice(c-f))):g=d+g,g;}});},{106:106,112:112,12:12,39:39,41:41}],185:[function(t,n,r){"use strict";var e=t(39),i=t(41),o=t(12),u=1..toPrecision;e(e.P+e.F*(i(function(){return"1"!==u.call(1,void 0);})||!i(function(){u.call({});})),"Number",{toPrecision:function toPrecision(t){var n=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?u.call(n):u.call(n,t);}});},{12:12,39:39,41:41}],186:[function(t,n,r){var e=t(39);e(e.S+e.F,"Object",{assign:t(72)});},{39:39,72:72}],187:[function(t,n,r){var e=t(39);e(e.S,"Object",{create:t(73)});},{39:39,73:73}],188:[function(t,n,r){var e=t(39);e(e.S+e.F*!t(35),"Object",{defineProperties:t(75)});},{35:35,39:39,75:75}],189:[function(t,n,r){var e=t(39);e(e.S+e.F*!t(35),"Object",{defineProperty:t(74).f});},{35:35,39:39,74:74}],190:[function(t,n,r){var e=t(56),i=t(69).onFreeze;t(84)("freeze",function(t){return function freeze(n){return t&&e(n)?t(i(n)):n;};});},{56:56,69:69,84:84}],191:[function(t,n,r){var e=t(113),i=t(76).f;t(84)("getOwnPropertyDescriptor",function(){return function getOwnPropertyDescriptor(t,n){return i(e(t),n);};});},{113:113,76:76,84:84}],192:[function(t,n,r){t(84)("getOwnPropertyNames",function(){return t(77).f;});},{77:77,84:84}],193:[function(t,n,r){var e=t(115),i=t(80);t(84)("getPrototypeOf",function(){return function getPrototypeOf(t){return i(e(t));};});},{115:115,80:80,84:84}],194:[function(t,n,r){var e=t(56);t(84)("isExtensible",function(t){return function isExtensible(n){return!!e(n)&&(!t||t(n));};});},{56:56,84:84}],195:[function(t,n,r){var e=t(56);t(84)("isFrozen",function(t){return function isFrozen(n){return!e(n)||!!t&&t(n);};});},{56:56,84:84}],196:[function(t,n,r){var e=t(56);t(84)("isSealed",function(t){return function isSealed(n){return!e(n)||!!t&&t(n);};});},{56:56,84:84}],197:[function(t,n,r){var e=t(39);e(e.S,"Object",{is:t(94)});},{39:39,94:94}],198:[function(t,n,r){var e=t(115),i=t(82);t(84)("keys",function(){return function keys(t){return i(e(t));};});},{115:115,82:82,84:84}],199:[function(t,n,r){var e=t(56),i=t(69).onFreeze;t(84)("preventExtensions",function(t){return function preventExtensions(n){return t&&e(n)?t(i(n)):n;};});},{56:56,69:69,84:84}],200:[function(t,n,r){var e=t(56),i=t(69).onFreeze;t(84)("seal",function(t){return function seal(n){return t&&e(n)?t(i(n)):n;};});},{56:56,69:69,84:84}],201:[function(t,n,r){var e=t(39);e(e.S,"Object",{setPrototypeOf:t(95).set});},{39:39,95:95}],202:[function(t,n,r){"use strict";var e=t(24),i={};i[t(125)("toStringTag")]="z",i+""!="[object z]"&&t(93)(Object.prototype,"toString",function toString(){return"[object "+e(this)+"]";},!0);},{125:125,24:24,93:93}],203:[function(t,n,r){var e=t(39),i=t(87);e(e.G+e.F*(parseFloat!=i),{parseFloat:i});},{39:39,87:87}],204:[function(t,n,r){var e=t(39),i=t(88);e(e.G+e.F*(parseInt!=i),{parseInt:i});},{39:39,88:88}],205:[function(t,n,r){"use strict";var e,i,o,u,c=t(64),a=t(45),f=t(31),s=t(24),l=t(39),h=t(56),p=t(11),v=t(14),y=t(44),d=t(100),g=t(109).set,m=t(70)(),x=t(71),b=t(89),w=t(121),S=t(90),_=a.TypeError,E=a.process,F=E&&E.versions,O=F&&F.v8||"",P=a.Promise,I="process"==s(E),A=function A(){},M=i=x.f,k=!!function(){try{var n=P.resolve(1),r=(n.constructor={})[t(125)("species")]=function(t){t(A,A);};return(I||"function"==typeof PromiseRejectionEvent)&&n.then(A)instanceof r&&0!==O.indexOf("6.6")&&-1===w.indexOf("Chrome/66");}catch(t){}}(),N=function N(t){var n;return!(!h(t)||"function"!=typeof(n=t.then))&&n;},j=function j(t,n){if(!t._n){t._n=!0;var r=t._c;m(function(){for(var e=t._v,i=1==t._s,o=0;r.length>o;){!function(n){var r,o,u,c=i?n.ok:n.fail,a=n.resolve,f=n.reject,s=n.domain;try{c?(i||(2==t._h&&R(t),t._h=1),!0===c?r=e:(s&&s.enter(),r=c(e),s&&(s.exit(),u=!0)),r===n.promise?f(_("Promise-chain cycle")):(o=N(r))?o.call(r,a,f):a(r)):f(e);}catch(t){s&&!u&&s.exit(),f(t);}}(r[o++]);}t._c=[],t._n=!1,n&&!t._h&&T(t);});}},T=function T(t){g.call(a,function(){var n,r,e,i=t._v,o=L(t);if(o&&(n=b(function(){I?E.emit("unhandledRejection",i,t):(r=a.onunhandledrejection)?r({promise:t,reason:i}):(e=a.console)&&e.error&&e.error("Unhandled promise rejection",i);}),t._h=I||L(t)?2:1),t._a=void 0,o&&n.e)throw n.v;});},L=function L(t){return 1!==t._h&&0===(t._a||t._c).length;},R=function R(t){g.call(a,function(){var n;I?E.emit("rejectionHandled",t):(n=a.onrejectionhandled)&&n({promise:t,reason:t._v});});},C=function C(t){var n=this;n._d||(n._d=!0,n=n._w||n,n._v=t,n._s=2,n._a||(n._a=n._c.slice()),j(n,!0));},D=function D(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw _("Promise can't be resolved itself");(n=N(t))?m(function(){var e={_w:r,_d:!1};try{n.call(t,f(D,e,1),f(C,e,1));}catch(t){C.call(e,t);}}):(r._v=t,r._s=1,j(r,!1));}catch(t){C.call({_w:r,_d:!1},t);}}};k||(P=function Promise(t){v(this,P,"Promise","_h"),p(t),e.call(this);try{t(f(D,this,1),f(C,this,1));}catch(t){C.call(this,t);}},e=function Promise(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1;},e.prototype=t(92)(P.prototype,{then:function then(t,n){var r=M(d(this,P));return r.ok="function"!=typeof t||t,r.fail="function"==typeof n&&n,r.domain=I?E.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&j(this,!1),r.promise;},catch:function _catch(t){return this.then(void 0,t);}}),o=function o(){var t=new e();this.promise=t,this.resolve=f(D,t,1),this.reject=f(C,t,1);},x.f=M=function M(t){return t===P||t===u?new o(t):i(t);}),l(l.G+l.W+l.F*!k,{Promise:P}),t(97)(P,"Promise"),t(96)("Promise"),u=t(29).Promise,l(l.S+l.F*!k,"Promise",{reject:function reject(t){var n=M(this);return(0,n.reject)(t),n.promise;}}),l(l.S+l.F*(c||!k),"Promise",{resolve:function resolve(t){return S(c&&this===u?P:this,t);}}),l(l.S+l.F*!(k&&t(61)(function(t){P.all(t).catch(A);})),"Promise",{all:function all(t){var n=this,r=M(n),e=r.resolve,i=r.reject,o=b(function(){var r=[],o=0,u=1;y(t,!1,function(t){var c=o++,a=!1;r.push(void 0),u++,n.resolve(t).then(function(t){a||(a=!0,r[c]=t,--u||e(r));},i);}),--u||e(r);});return o.e&&i(o.v),r.promise;},race:function race(t){var n=this,r=M(n),e=r.reject,i=b(function(){y(t,!1,function(t){n.resolve(t).then(r.resolve,e);});});return i.e&&e(i.v),r.promise;}});},{100:100,109:109,11:11,121:121,125:125,14:14,24:24,29:29,31:31,39:39,44:44,45:45,56:56,61:61,64:64,70:70,71:71,89:89,90:90,92:92,96:96,97:97}],206:[function(t,n,r){var e=t(39),i=t(11),o=t(15),u=(t(45).Reflect||{}).apply,c=Function.apply;e(e.S+e.F*!t(41)(function(){u(function(){});}),"Reflect",{apply:function apply(t,n,r){var e=i(t),a=o(r);return u?u(e,n,a):c.call(e,n,a);}});},{11:11,15:15,39:39,41:41,45:45}],207:[function(t,n,r){var e=t(39),i=t(73),o=t(11),u=t(15),c=t(56),a=t(41),f=t(23),s=(t(45).Reflect||{}).construct,l=a(function(){function F(){}return!(s(function(){},[],F)instanceof F);}),h=!a(function(){s(function(){});});e(e.S+e.F*(l||h),"Reflect",{construct:function construct(t,n){o(t),u(n);var r=arguments.length<3?t:o(arguments[2]);if(h&&!l)return s(t,n,r);if(t==r){switch(n.length){case 0:return new t();case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);}var e=[null];return e.push.apply(e,n),new(f.apply(t,e))();}var a=r.prototype,p=i(c(a)?a:Object.prototype),v=Function.apply.call(t,p,n);return c(v)?v:p;}});},{11:11,15:15,23:23,39:39,41:41,45:45,56:56,73:73}],208:[function(t,n,r){var e=t(74),i=t(39),o=t(15),u=t(116);i(i.S+i.F*t(41)(function(){Reflect.defineProperty(e.f({},1,{value:1}),1,{value:2});}),"Reflect",{defineProperty:function defineProperty(t,n,r){o(t),n=u(n,!0),o(r);try{return e.f(t,n,r),!0;}catch(t){return!1;}}});},{116:116,15:15,39:39,41:41,74:74}],209:[function(t,n,r){var e=t(39),i=t(76).f,o=t(15);e(e.S,"Reflect",{deleteProperty:function deleteProperty(t,n){var r=i(o(t),n);return!(r&&!r.configurable)&&delete t[n];}});},{15:15,39:39,76:76}],210:[function(t,n,r){"use strict";var e=t(39),i=t(15),o=function o(t){this._t=i(t),this._i=0;var n,r=this._k=[];for(n in t){r.push(n);}};t(59)(o,"Object",function(){var t,n=this,r=n._k;do{if(n._i>=r.length)return{value:void 0,done:!0};}while(!((t=r[n._i++])in n._t));return{value:t,done:!1};}),e(e.S,"Reflect",{enumerate:function enumerate(t){return new o(t);}});},{15:15,39:39,59:59}],211:[function(t,n,r){var e=t(76),i=t(39),o=t(15);i(i.S,"Reflect",{getOwnPropertyDescriptor:function getOwnPropertyDescriptor(t,n){return e.f(o(t),n);}});},{15:15,39:39,76:76}],212:[function(t,n,r){var e=t(39),i=t(80),o=t(15);e(e.S,"Reflect",{getPrototypeOf:function getPrototypeOf(t){return i(o(t));}});},{15:15,39:39,80:80}],213:[function(t,n,r){function get(t,n){var r,u,f=arguments.length<3?t:arguments[2];return a(t)===f?t[n]:(r=e.f(t,n))?o(r,"value")?r.value:void 0!==r.get?r.get.call(f):void 0:c(u=i(t))?get(u,n,f):void 0;}var e=t(76),i=t(80),o=t(46),u=t(39),c=t(56),a=t(15);u(u.S,"Reflect",{get:get});},{15:15,39:39,46:46,56:56,76:76,80:80}],214:[function(t,n,r){var e=t(39);e(e.S,"Reflect",{has:function has(t,n){return n in t;}});},{39:39}],215:[function(t,n,r){var e=t(39),i=t(15),o=Object.isExtensible;e(e.S,"Reflect",{isExtensible:function isExtensible(t){return i(t),!o||o(t);}});},{15:15,39:39}],216:[function(t,n,r){var e=t(39);e(e.S,"Reflect",{ownKeys:t(86)});},{39:39,86:86}],217:[function(t,n,r){var e=t(39),i=t(15),o=Object.preventExtensions;e(e.S,"Reflect",{preventExtensions:function preventExtensions(t){i(t);try{return o&&o(t),!0;}catch(t){return!1;}}});},{15:15,39:39}],218:[function(t,n,r){var e=t(39),i=t(95);i&&e(e.S,"Reflect",{setPrototypeOf:function setPrototypeOf(t,n){i.check(t,n);try{return i.set(t,n),!0;}catch(t){return!1;}}});},{39:39,95:95}],219:[function(t,n,r){function set(t,n,r){var c,l,h=arguments.length<4?t:arguments[3],p=i.f(f(t),n);if(!p){if(s(l=o(t)))return set(l,n,r,h);p=a(0);}if(u(p,"value")){if(!1===p.writable||!s(h))return!1;if(c=i.f(h,n)){if(c.get||c.set||!1===c.writable)return!1;c.value=r,e.f(h,n,c);}else e.f(h,n,a(0,r));return!0;}return void 0!==p.set&&(p.set.call(h,r),!0);}var e=t(74),i=t(76),o=t(80),u=t(46),c=t(39),a=t(91),f=t(15),s=t(56);c(c.S,"Reflect",{set:set});},{15:15,39:39,46:46,56:56,74:74,76:76,80:80,91:91}],220:[function(t,n,r){var e=t(45),i=t(50),o=t(74).f,u=t(78).f,c=t(57),a=t(43),f=e.RegExp,s=f,l=f.prototype,h=/a/g,p=/a/g,v=new f(h)!==h;if(t(35)&&(!v||t(41)(function(){return p[t(125)("match")]=!1,f(h)!=h||f(p)==p||"/a/i"!=f(h,"i");}))){f=function RegExp(t,n){var r=this instanceof f,e=c(t),o=void 0===n;return!r&&e&&t.constructor===f&&o?t:i(v?new s(e&&!o?t.source:t,n):s((e=t instanceof f)?t.source:t,e&&o?a.call(t):n),r?this:l,f);};for(var y=u(s),d=0;y.length>d;){!function(t){t in f||o(f,t,{configurable:!0,get:function get(){return s[t];},set:function set(n){s[t]=n;}});}(y[d++]);}l.constructor=f,f.prototype=l,t(93)(e,"RegExp",f);}t(96)("RegExp");},{125:125,35:35,41:41,43:43,45:45,50:50,57:57,74:74,78:78,93:93,96:96}],221:[function(t,n,r){t(35)&&"g"!=/./g.flags&&t(74).f(RegExp.prototype,"flags",{configurable:!0,get:t(43)});},{35:35,43:43,74:74}],222:[function(t,n,r){t(42)("match",1,function(t,n,r){return[function match(r){"use strict";var e=t(this),i=void 0==r?void 0:r[n];return void 0!==i?i.call(r,e):new RegExp(r)[n](String(e));},r];});},{42:42}],223:[function(t,n,r){t(42)("replace",2,function(t,n,r){return[function replace(e,i){"use strict";var o=t(this),u=void 0==e?void 0:e[n];return void 0!==u?u.call(e,o,i):r.call(String(o),e,i);},r];});},{42:42}],224:[function(t,n,r){t(42)("search",1,function(t,n,r){return[function search(r){"use strict";var e=t(this),i=void 0==r?void 0:r[n];return void 0!==i?i.call(r,e):new RegExp(r)[n](String(e));},r];});},{42:42}],225:[function(t,n,r){t(42)("split",2,function(n,r,e){"use strict";var i=t(57),o=e,u=[].push,c="length";if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[c]||2!="ab".split(/(?:ab)*/)[c]||4!=".".split(/(.?)(.?)/)[c]||".".split(/()()/)[c]>1||"".split(/.?/)[c]){var a=void 0===/()??/.exec("")[1];e=function e(t,n){var r=String(this);if(void 0===t&&0===n)return[];if(!i(t))return o.call(r,t,n);var e,f,s,l,h,p=[],v=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),y=0,d=void 0===n?4294967295:n>>>0,g=new RegExp(t.source,v+"g");for(a||(e=new RegExp("^"+g.source+"$(?!\\s)",v));(f=g.exec(r))&&!((s=f.index+f[0][c])>y&&(p.push(r.slice(y,f.index)),!a&&f[c]>1&&f[0].replace(e,function(){for(h=1;h<arguments[c]-2;h++){void 0===arguments[h]&&(f[h]=void 0);}}),f[c]>1&&f.index<r[c]&&u.apply(p,f.slice(1)),l=f[0][c],y=s,p[c]>=d));){g.lastIndex===f.index&&g.lastIndex++;}return y===r[c]?!l&&g.test("")||p.push(""):p.push(r.slice(y)),p[c]>d?p.slice(0,d):p;};}else"0".split(void 0,0)[c]&&(e=function e(t,n){return void 0===t&&0===n?[]:o.call(this,t,n);});return[function split(t,i){var o=n(this),u=void 0==t?void 0:t[r];return void 0!==u?u.call(t,o,i):e.call(String(o),t,i);},e];});},{42:42,57:57}],226:[function(t,n,r){"use strict";t(221);var e=t(15),i=t(43),o=t(35),u=/./.toString,c=function c(n){t(93)(RegExp.prototype,"toString",n,!0);};t(41)(function(){return"/a/b"!=u.call({source:"a",flags:"b"});})?c(function toString(){var t=e(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0);}):"toString"!=u.name&&c(function toString(){return u.call(this);});},{15:15,221:221,35:35,41:41,43:43,93:93}],227:[function(t,n,r){"use strict";var e=t(26),i=t(122);n.exports=t(28)("Set",function(t){return function Set(){return t(this,arguments.length>0?arguments[0]:void 0);};},{add:function add(t){return e.def(i(this,"Set"),t=0===t?0:t,t);}},e);},{122:122,26:26,28:28}],228:[function(t,n,r){"use strict";t(104)("anchor",function(t){return function anchor(n){return t(this,"a","name",n);};});},{104:104}],229:[function(t,n,r){"use strict";t(104)("big",function(t){return function big(){return t(this,"big","","");};});},{104:104}],230:[function(t,n,r){"use strict";t(104)("blink",function(t){return function blink(){return t(this,"blink","","");};});},{104:104}],231:[function(t,n,r){"use strict";t(104)("bold",function(t){return function bold(){return t(this,"b","","");};});},{104:104}],232:[function(t,n,r){"use strict";var e=t(39),i=t(102)(!1);e(e.P,"String",{codePointAt:function codePointAt(t){return i(this,t);}});},{102:102,39:39}],233:[function(t,n,r){"use strict";var e=t(39),i=t(114),o=t(103),u="".endsWith;e(e.P+e.F*t(40)("endsWith"),"String",{endsWith:function endsWith(t){var n=o(this,t,"endsWith"),r=arguments.length>1?arguments[1]:void 0,e=i(n.length),c=void 0===r?e:Math.min(i(r),e),a=String(t);return u?u.call(n,a,c):n.slice(c-a.length,c)===a;}});},{103:103,114:114,39:39,40:40}],234:[function(t,n,r){"use strict";t(104)("fixed",function(t){return function fixed(){return t(this,"tt","","");};});},{104:104}],235:[function(t,n,r){"use strict";t(104)("fontcolor",function(t){return function fontcolor(n){return t(this,"font","color",n);};});},{104:104}],236:[function(t,n,r){"use strict";t(104)("fontsize",function(t){return function fontsize(n){return t(this,"font","size",n);};});},{104:104}],237:[function(t,n,r){var e=t(39),i=t(110),o=String.fromCharCode,u=String.fromCodePoint;e(e.S+e.F*(!!u&&1!=u.length),"String",{fromCodePoint:function fromCodePoint(t){for(var n,r=[],e=arguments.length,u=0;e>u;){if(n=+arguments[u++],i(n,1114111)!==n)throw RangeError(n+" is not a valid code point");r.push(n<65536?o(n):o(55296+((n-=65536)>>10),n%1024+56320));}return r.join("");}});},{110:110,39:39}],238:[function(t,n,r){"use strict";var e=t(39),i=t(103);e(e.P+e.F*t(40)("includes"),"String",{includes:function includes(t){return!!~i(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0);}});},{103:103,39:39,40:40}],239:[function(t,n,r){"use strict";t(104)("italics",function(t){return function italics(){return t(this,"i","","");};});},{104:104}],240:[function(t,n,r){"use strict";var e=t(102)(!0);t(60)(String,"String",function(t){this._t=String(t),this._i=0;},function(){var t,n=this._t,r=this._i;return r>=n.length?{value:void 0,done:!0}:(t=e(n,r),this._i+=t.length,{value:t,done:!1});});},{102:102,60:60}],241:[function(t,n,r){"use strict";t(104)("link",function(t){return function link(n){return t(this,"a","href",n);};});},{104:104}],242:[function(t,n,r){var e=t(39),i=t(113),o=t(114);e(e.S,"String",{raw:function raw(t){for(var n=i(t.raw),r=o(n.length),e=arguments.length,u=[],c=0;r>c;){u.push(String(n[c++])),c<e&&u.push(String(arguments[c]));}return u.join("");}});},{113:113,114:114,39:39}],243:[function(t,n,r){var e=t(39);e(e.P,"String",{repeat:t(106)});},{106:106,39:39}],244:[function(t,n,r){"use strict";t(104)("small",function(t){return function small(){return t(this,"small","","");};});},{104:104}],245:[function(t,n,r){"use strict";var e=t(39),i=t(114),o=t(103),u="".startsWith;e(e.P+e.F*t(40)("startsWith"),"String",{startsWith:function startsWith(t){var n=o(this,t,"startsWith"),r=i(Math.min(arguments.length>1?arguments[1]:void 0,n.length)),e=String(t);return u?u.call(n,e,r):n.slice(r,r+e.length)===e;}});},{103:103,114:114,39:39,40:40}],246:[function(t,n,r){"use strict";t(104)("strike",function(t){return function strike(){return t(this,"strike","","");};});},{104:104}],247:[function(t,n,r){"use strict";t(104)("sub",function(t){return function sub(){return t(this,"sub","","");};});},{104:104}],248:[function(t,n,r){"use strict";t(104)("sup",function(t){return function sup(){return t(this,"sup","","");};});},{104:104}],249:[function(t,n,r){"use strict";t(107)("trim",function(t){return function trim(){return t(this,3);};});},{107:107}],250:[function(t,n,r){"use strict";var e=t(45),i=t(46),o=t(35),u=t(39),c=t(93),a=t(69).KEY,f=t(41),s=t(99),l=t(97),h=t(120),p=t(125),v=t(124),y=t(123),d=t(38),g=t(54),m=t(15),x=t(56),b=t(113),w=t(116),S=t(91),_=t(73),E=t(77),F=t(76),O=t(74),P=t(82),I=F.f,A=O.f,M=E.f,k=e.Symbol,N=e.JSON,j=N&&N.stringify,T=p("_hidden"),L=p("toPrimitive"),R={}.propertyIsEnumerable,C=s("symbol-registry"),D=s("symbols"),G=s("op-symbols"),W=Object.prototype,U="function"==typeof k,V=e.QObject,B=!V||!V.prototype||!V.prototype.findChild,z=o&&f(function(){return 7!=_(A({},"a",{get:function get(){return A(this,"a",{value:7}).a;}})).a;})?function(t,n,r){var e=I(W,n);e&&delete W[n],A(t,n,r),e&&t!==W&&A(W,n,e);}:A,q=function q(t){var n=D[t]=_(k.prototype);return n._k=t,n;},Y=U&&"symbol"==_typeof(k.iterator)?function(t){return"symbol"==(typeof t==="undefined"?"undefined":_typeof(t));}:function(t){return t instanceof k;},K=function defineProperty(t,n,r){return t===W&&K(G,n,r),m(t),n=w(n,!0),m(r),i(D,n)?(r.enumerable?(i(t,T)&&t[T][n]&&(t[T][n]=!1),r=_(r,{enumerable:S(0,!1)})):(i(t,T)||A(t,T,S(1,{})),t[T][n]=!0),z(t,n,r)):A(t,n,r);},J=function defineProperties(t,n){m(t);for(var r,e=d(n=b(n)),i=0,o=e.length;o>i;){K(t,r=e[i++],n[r]);}return t;},H=function create(t,n){return void 0===n?_(t):J(_(t),n);},X=function propertyIsEnumerable(t){var n=R.call(this,t=w(t,!0));return!(this===W&&i(D,t)&&!i(G,t))&&(!(n||!i(this,t)||!i(D,t)||i(this,T)&&this[T][t])||n);},Z=function getOwnPropertyDescriptor(t,n){if(t=b(t),n=w(n,!0),t!==W||!i(D,n)||i(G,n)){var r=I(t,n);return!r||!i(D,n)||i(t,T)&&t[T][n]||(r.enumerable=!0),r;}},$=function getOwnPropertyNames(t){for(var n,r=M(b(t)),e=[],o=0;r.length>o;){i(D,n=r[o++])||n==T||n==a||e.push(n);}return e;},Q=function getOwnPropertySymbols(t){for(var n,r=t===W,e=M(r?G:b(t)),o=[],u=0;e.length>u;){!i(D,n=e[u++])||r&&!i(W,n)||o.push(D[n]);}return o;};U||(k=function _Symbol(){if(this instanceof k)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),n=function n(r){this===W&&n.call(G,r),i(this,T)&&i(this[T],t)&&(this[T][t]=!1),z(this,t,S(1,r));};return o&&B&&z(W,t,{configurable:!0,set:n}),q(t);},c(k.prototype,"toString",function toString(){return this._k;}),F.f=Z,O.f=K,t(78).f=E.f=$,t(83).f=X,t(79).f=Q,o&&!t(64)&&c(W,"propertyIsEnumerable",X,!0),v.f=function(t){return q(p(t));}),u(u.G+u.W+u.F*!U,{Symbol:k});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;tt.length>nt;){p(tt[nt++]);}for(var rt=P(p.store),et=0;rt.length>et;){y(rt[et++]);}u(u.S+u.F*!U,"Symbol",{for:function _for(t){return i(C,t+="")?C[t]:C[t]=k(t);},keyFor:function keyFor(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var n in C){if(C[n]===t)return n;}},useSetter:function useSetter(){B=!0;},useSimple:function useSimple(){B=!1;}}),u(u.S+u.F*!U,"Object",{create:H,defineProperty:K,defineProperties:J,getOwnPropertyDescriptor:Z,getOwnPropertyNames:$,getOwnPropertySymbols:Q}),N&&u(u.S+u.F*(!U||f(function(){var t=k();return"[null]"!=j([t])||"{}"!=j({a:t})||"{}"!=j(Object(t));})),"JSON",{stringify:function stringify(t){for(var n,r,e=[t],i=1;arguments.length>i;){e.push(arguments[i++]);}if(r=n=e[1],(x(n)||void 0!==t)&&!Y(t))return g(n)||(n=function n(t,_n){if("function"==typeof r&&(_n=r.call(this,t,_n)),!Y(_n))return _n;}),e[1]=n,j.apply(N,e);}}),k.prototype[L]||t(47)(k.prototype,L,k.prototype.valueOf),l(k,"Symbol"),l(Math,"Math",!0),l(e.JSON,"JSON",!0);},{113:113,116:116,120:120,123:123,124:124,125:125,15:15,35:35,38:38,39:39,41:41,45:45,46:46,47:47,54:54,56:56,64:64,69:69,73:73,74:74,76:76,77:77,78:78,79:79,82:82,83:83,91:91,93:93,97:97,99:99}],251:[function(t,n,r){"use strict";var e=t(39),i=t(119),o=t(118),u=t(15),c=t(110),a=t(114),f=t(56),s=t(45).ArrayBuffer,l=t(100),h=o.ArrayBuffer,p=o.DataView,v=i.ABV&&s.isView,y=h.prototype.slice,d=i.VIEW;e(e.G+e.W+e.F*(s!==h),{ArrayBuffer:h}),e(e.S+e.F*!i.CONSTR,"ArrayBuffer",{isView:function isView(t){return v&&v(t)||f(t)&&d in t;}}),e(e.P+e.U+e.F*t(41)(function(){return!new h(2).slice(1,void 0).byteLength;}),"ArrayBuffer",{slice:function slice(t,n){if(void 0!==y&&void 0===n)return y.call(u(this),t);for(var r=u(this).byteLength,e=c(t,r),i=c(void 0===n?r:n,r),o=new(l(this,h))(a(i-e)),f=new p(this),s=new p(o),v=0;e<i;){s.setUint8(v++,f.getUint8(e++));}return o;}}),t(96)("ArrayBuffer");},{100:100,110:110,114:114,118:118,119:119,15:15,39:39,41:41,45:45,56:56,96:96}],252:[function(t,n,r){var e=t(39);e(e.G+e.W+e.F*!t(119).ABV,{DataView:t(118).DataView});},{118:118,119:119,39:39}],253:[function(t,n,r){t(117)("Float32",4,function(t){return function Float32Array(n,r,e){return t(this,n,r,e);};});},{117:117}],254:[function(t,n,r){t(117)("Float64",8,function(t){return function Float64Array(n,r,e){return t(this,n,r,e);};});},{117:117}],255:[function(t,n,r){t(117)("Int16",2,function(t){return function Int16Array(n,r,e){return t(this,n,r,e);};});},{117:117}],256:[function(t,n,r){t(117)("Int32",4,function(t){return function Int32Array(n,r,e){return t(this,n,r,e);};});},{117:117}],257:[function(t,n,r){t(117)("Int8",1,function(t){return function Int8Array(n,r,e){return t(this,n,r,e);};});},{117:117}],258:[function(t,n,r){t(117)("Uint16",2,function(t){return function Uint16Array(n,r,e){return t(this,n,r,e);};});},{117:117}],259:[function(t,n,r){t(117)("Uint32",4,function(t){return function Uint32Array(n,r,e){return t(this,n,r,e);};});},{117:117}],260:[function(t,n,r){t(117)("Uint8",1,function(t){return function Uint8Array(n,r,e){return t(this,n,r,e);};});},{117:117}],261:[function(t,n,r){t(117)("Uint8",1,function(t){return function Uint8ClampedArray(n,r,e){return t(this,n,r,e);};},!0);},{117:117}],262:[function(t,n,r){"use strict";var e,i=t(19)(0),o=t(93),u=t(69),c=t(72),a=t(27),f=t(56),s=t(41),l=t(122),h=u.getWeak,p=Object.isExtensible,v=a.ufstore,y={},d=function d(t){return function WeakMap(){return t(this,arguments.length>0?arguments[0]:void 0);};},g={get:function get(t){if(f(t)){var n=h(t);return!0===n?v(l(this,"WeakMap")).get(t):n?n[this._i]:void 0;}},set:function set(t,n){return a.def(l(this,"WeakMap"),t,n);}},m=n.exports=t(28)("WeakMap",d,g,a,!0,!0);s(function(){return 7!=new m().set((Object.freeze||Object)(y),7).get(y);})&&(e=a.getConstructor(d,"WeakMap"),c(e.prototype,g),u.NEED=!0,i(["delete","has","get","set"],function(t){var n=m.prototype,r=n[t];o(n,t,function(n,i){if(f(n)&&!p(n)){this._f||(this._f=new e());var o=this._f[t](n,i);return"set"==t?this:o;}return r.call(this,n,i);});}));},{122:122,19:19,27:27,28:28,41:41,56:56,69:69,72:72,93:93}],263:[function(t,n,r){"use strict";var e=t(27),i=t(122);t(28)("WeakSet",function(t){return function WeakSet(){return t(this,arguments.length>0?arguments[0]:void 0);};},{add:function add(t){return e.def(i(this,"WeakSet"),t,!0);}},e,!1,!0);},{122:122,27:27,28:28}],264:[function(t,n,r){"use strict";var e=t(39),i=t(18)(!0);e(e.P,"Array",{includes:function includes(t){return i(this,t,arguments.length>1?arguments[1]:void 0);}}),t(13)("includes");},{13:13,18:18,39:39}],265:[function(t,n,r){var e=t(39),i=t(85)(!0);e(e.S,"Object",{entries:function entries(t){return i(t);}});},{39:39,85:85}],266:[function(t,n,r){var e=t(39),i=t(86),o=t(113),u=t(76),c=t(30);e(e.S,"Object",{getOwnPropertyDescriptors:function getOwnPropertyDescriptors(t){for(var n,r,e=o(t),a=u.f,f=i(e),s={},l=0;f.length>l;){void 0!==(r=a(e,n=f[l++]))&&c(s,n,r);}return s;}});},{113:113,30:30,39:39,76:76,86:86}],267:[function(t,n,r){var e=t(39),i=t(85)(!1);e(e.S,"Object",{values:function values(t){return i(t);}});},{39:39,85:85}],268:[function(t,n,r){"use strict";var e=t(39),i=t(29),o=t(45),u=t(100),c=t(90);e(e.P+e.R,"Promise",{finally:function _finally(t){var n=u(this,i.Promise||o.Promise),r="function"==typeof t;return this.then(r?function(r){return c(n,t()).then(function(){return r;});}:t,r?function(r){return c(n,t()).then(function(){throw r;});}:t);}});},{100:100,29:29,39:39,45:45,90:90}],269:[function(t,n,r){"use strict";var e=t(39),i=t(105),o=t(121);e(e.P+e.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function padEnd(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1);}});},{105:105,121:121,39:39}],270:[function(t,n,r){"use strict";var e=t(39),i=t(105),o=t(121);e(e.P+e.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function padStart(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0);}});},{105:105,121:121,39:39}],271:[function(t,n,r){t(123)("asyncIterator");},{123:123}],272:[function(t,n,r){for(var e=t(137),i=t(82),o=t(93),u=t(45),c=t(47),a=t(63),f=t(125),s=f("iterator"),l=f("toStringTag"),h=a.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},v=i(p),y=0;y<v.length;y++){var d,g=v[y],m=p[g],x=u[g],b=x&&x.prototype;if(b&&(b[s]||c(b,s,h),b[l]||c(b,l,g),a[g]=h,m))for(d in e){b[d]||o(b,d,e[d],!0);}}},{125:125,137:137,45:45,47:47,63:63,82:82,93:93}],273:[function(t,n,r){var e=t(39),i=t(109);e(e.G+e.B,{setImmediate:i.set,clearImmediate:i.clear});},{109:109,39:39}],274:[function(t,n,r){var e=t(45),i=t(39),o=t(121),u=[].slice,c=/MSIE .\./.test(o),a=function a(t){return function(n,r){var e=arguments.length>2,i=!!e&&u.call(arguments,2);return t(e?function(){("function"==typeof n?n:Function(n)).apply(this,i);}:n,r);};};i(i.G+i.B+i.F*c,{setTimeout:a(e.setTimeout),setInterval:a(e.setInterval)});},{121:121,39:39,45:45}],275:[function(t,n,r){t(274),t(273),t(272),n.exports=t(29);},{272:272,273:273,274:274,29:29}],276:[function(t,n,r){!function(t){"use strict";function wrap(t,n,r,e){var i=n&&n.prototype instanceof Generator?n:Generator,o=Object.create(i.prototype),u=new Context(e||[]);return o._invoke=makeInvokeMethod(t,r,u),o;}function tryCatch(t,n,r){try{return{type:"normal",arg:t.call(n,r)};}catch(t){return{type:"throw",arg:t};}}function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}function defineIteratorMethods(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this._invoke(n,t);};});}function AsyncIterator(t){function invoke(n,r,e,o){var u=tryCatch(t[n],t,r);if("throw"!==u.type){var c=u.arg,a=c.value;return a&&"object"==(typeof a==="undefined"?"undefined":_typeof(a))&&i.call(a,"__await")?Promise.resolve(a.__await).then(function(t){invoke("next",t,e,o);},function(t){invoke("throw",t,e,o);}):Promise.resolve(a).then(function(t){c.value=t,e(c);},o);}o(u.arg);}function enqueue(t,r){function callInvokeWithMethodAndArg(){return new Promise(function(n,e){invoke(t,r,n,e);});}return n=n?n.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg();}var n;this._invoke=enqueue;}function makeInvokeMethod(t,n,r){var e=l;return function invoke(i,o){if(e===p)throw new Error("Generator is already running");if(e===v){if("throw"===i)throw o;return doneResult();}for(r.method=i,r.arg=o;;){var u=r.delegate;if(u){var c=maybeInvokeDelegate(u,r);if(c){if(c===y)continue;return c;}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(e===l)throw e=v,r.arg;r.dispatchException(r.arg);}else"return"===r.method&&r.abrupt("return",r.arg);e=p;var a=tryCatch(t,n,r);if("normal"===a.type){if(e=r.done?v:h,a.arg===y)continue;return{value:a.arg,done:r.done};}"throw"===a.type&&(e=v,r.method="throw",r.arg=a.arg);}};}function maybeInvokeDelegate(t,n){var e=t.iterator[n.method];if(e===r){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=r,maybeInvokeDelegate(t,n),"throw"===n.method))return y;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method");}return y;}var i=tryCatch(e,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=r),n.delegate=null,y):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y);}function pushTryEntry(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n);}function resetTryEntry(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n;}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0);}function values(t){if(t){var n=t[u];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e=-1,o=function next(){for(;++e<t.length;){if(i.call(t,e))return next.value=t[e],next.done=!1,next;}return next.value=r,next.done=!0,next;};return o.next=o;}}return{next:doneResult};}function doneResult(){return{value:r,done:!0};}var r,e=Object.prototype,i=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},u=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag",f="object"==(typeof n==="undefined"?"undefined":_typeof(n)),s=t.regeneratorRuntime;if(s)return void(f&&(n.exports=s));s=t.regeneratorRuntime=f?n.exports:{},s.wrap=wrap;var l="suspendedStart",h="suspendedYield",p="executing",v="completed",y={},d={};d[u]=function(){return this;};var g=Object.getPrototypeOf,m=g&&g(g(values([])));m&&m!==e&&i.call(m,u)&&(d=m);var x=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(d);GeneratorFunction.prototype=x.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[a]=GeneratorFunction.displayName="GeneratorFunction",s.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===GeneratorFunction||"GeneratorFunction"===(n.displayName||n.name));},s.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(x),t;},s.awrap=function(t){return{__await:t};},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[c]=function(){return this;},s.AsyncIterator=AsyncIterator,s.async=function(t,n,r,e){var i=new AsyncIterator(wrap(t,n,r,e));return s.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next();});},defineIteratorMethods(x),x[a]="Generator",x[u]=function(){return this;},x.toString=function(){return"[object Generator]";},s.keys=function(t){var n=[];for(var r in t){n.push(r);}return n.reverse(),function next(){for(;n.length;){var r=n.pop();if(r in t)return next.value=r,next.done=!1,next;}return next.done=!0,next;};},s.values=values,Context.prototype={constructor:Context,reset:function reset(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(resetTryEntry),!t)for(var n in this){"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=r);}},stop:function stop(){this.done=!0;var t=this.tryEntries[0],n=t.completion;if("throw"===n.type)throw n.arg;return this.rval;},dispatchException:function dispatchException(t){function handle(e,i){return u.type="throw",u.arg=t,n.next=e,i&&(n.method="next",n.arg=r),!!i;}if(this.done)throw t;for(var n=this,e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e],u=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var c=i.call(o,"catchLoc"),a=i.call(o,"finallyLoc");if(c&&a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc);}else if(c){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc);}}}},abrupt:function abrupt(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc<=this.prev&&i.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var o=e;break;}}o&&("break"===t||"continue"===t)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var u=o?o.completion:{};return u.type=t,u.arg=n,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(u);},complete:function complete(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y;},finish:function finish(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y;}},catch:function _catch(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var e=r.completion;if("throw"===e.type){var i=e.arg;resetTryEntry(r);}return i;}}throw new Error("illegal catch attempt");},delegateYield:function delegateYield(t,n,e){return this.delegate={iterator:values(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=r),y;}};}(function(){return this;}()||Function("return this")());},{}]},{},[1]);/**
 * @preserve  textfill
 * @name      jquery.textfill.js
 * @author    Russ Painter (GeekyMonkey)
 * @author    Yu-Jie Lin
 * @author    Alexandre Dantas
 * @version   0.6.2
 * @date      2018-02-24
 * @copyright (c) 2009
 * @license   MIT License
 * @homepage  https://github.com/jquery-textfill/jquery-textfill
 * @example   http://jquery-textfill.github.io/jquery-textfill/index.html
 */;(function($){/**
	 * Resizes an inner element's font so that the
	 * inner element completely fills the outer element.
	 *
	 * @param {Object} options User options that take
	 *                         higher precedence when
	 *                         merging with the default ones.
	 *
	 * @return All outer elements processed
	 */$.fn.textfill=function(options){// ______  _______ _______ _______ _     _        _______ _______
// |     \ |______ |______ |_____| |     | |         |    |______
// |_____/ |______ |       |     | |_____| |_____    |    ______|
//
// Merging user options with the default values
var defaults={debug:false,maxFontPixels:40,minFontPixels:4,innerTag:'span',widthOnly:false,success:null,// callback when a resizing is done
fail:null,// callback when a resizing is failed
complete:null,// callback when all is done
explicitWidth:null,explicitHeight:null,changeLineHeight:false,truncateOnFail:false,allowOverflow:false// If true, text will stay at minFontPixels but overflow container w/out failing 
};var Opts=$.extend(defaults,options);// _______ _     _ __   _ _______ _______ _____  _____  __   _ _______
// |______ |     | | \  | |          |      |   |     | | \  | |______
// |       |_____| |  \_| |_____     |    __|__ |_____| |  \_| ______|
//
// Predefining the awesomeness
// Output arguments to the Debug console
// if "Debug Mode" is enabled
function _debug(){if(!Opts.debug||typeof console=='undefined'||typeof console.debug=='undefined'){return;}console.debug.apply(console,arguments);}// Output arguments to the Warning console
function _warn(){if(typeof console=='undefined'||typeof console.warn=='undefined'){return;}console.warn.apply(console,arguments);}// Outputs all information on the current sizing
// of the font.
function _debug_sizing(prefix,ourText,maxHeight,maxWidth,minFontPixels,maxFontPixels){function _m(v1,v2){var marker=' / ';if(v1>v2){marker=' > ';}else if(v1==v2){marker=' = ';}return marker;}_debug('[TextFill] '+prefix+' { '+'font-size: '+ourText.css('font-size')+','+'Height: '+ourText.height()+'px '+_m(ourText.height(),maxHeight)+maxHeight+'px,'+'Width: '+ourText.width()+_m(ourText.width(),maxWidth)+maxWidth+','+'minFontPixels: '+minFontPixels+'px, '+'maxFontPixels: '+maxFontPixels+'px }');}/**
		 * Calculates which size the font can get resized,
		 * according to constrains.
		 *
		 * @param {String} prefix Gets shown on the console before
		 *                        all the arguments, if debug mode is on.
		 * @param {Object} ourText The DOM element to resize,
		 *                         that contains the text.
		 * @param {function} func Function called on `ourText` that's
		 *                        used to compare with `max`.
		 * @param {number} max Maximum value, that gets compared with
		 *                     `func` called on `ourText`.
		 * @param {number} minFontPixels Minimum value the font can
		 *                               get resized to (in pixels).
		 * @param {number} maxFontPixels Maximum value the font can
		 *                               get resized to (in pixels).
		 *
		 * @return Size (in pixels) that the font can be resized.
		 */function _sizing(prefix,ourText,func,max,maxHeight,maxWidth,minFontPixels,maxFontPixels){_debug_sizing(prefix,ourText,maxHeight,maxWidth,minFontPixels,maxFontPixels);// The kernel of the whole plugin, take most attention
// on this part.
//
// This is a loop that keeps increasing the `font-size`
// until it fits the parent element.
//
// - Start from the minimal allowed value (`minFontPixels`)
// - Guesses an average font size (in pixels) for the font,
// - Resizes the text and sees if its size is within the
//   boundaries (`minFontPixels` and `maxFontPixels`).
//   - If so, keep guessing until we break.
//   - If not, return the last calculated size.
//
// I understand this is not optimized and we should
// consider implementing something akin to
// Daniel Hoffmann's answer here:
//
//     http://stackoverflow.com/a/17433451/1094964
//
while(minFontPixels<Math.floor(maxFontPixels)-1){var fontSize=Math.floor((minFontPixels+maxFontPixels)/2);ourText.css('font-size',fontSize);var curSize=func.call(ourText);if(curSize<=max){minFontPixels=fontSize;if(curSize==max){break;}}else{maxFontPixels=fontSize;}_debug_sizing(prefix,ourText,maxHeight,maxWidth,minFontPixels,maxFontPixels);}ourText.css('font-size',maxFontPixels);if(func.call(ourText)<=max){minFontPixels=maxFontPixels;_debug_sizing(prefix+'* ',ourText,maxHeight,maxWidth,minFontPixels,maxFontPixels);}return minFontPixels;}// _______ _______ _______  ______ _______
// |______    |    |_____| |_____/    |
// ______|    |    |     | |    \_    |
//
// Let's get it started (yeah)!
_debug('[TextFill] Start Debug');this.each(function(){// Contains the child element we will resize.
// $(this) means the parent container
var ourText=$(Opts.innerTag+':first',this);_debug('[TextFill] Inner text: '+ourText.text());_debug('[TextFill] All options: ',Opts);_debug('[TextFill] Maximum sizes: { '+'Height: '+maxHeight+'px, '+'Width: '+maxWidth+'px'+' }');if(!ourText.is(':visible')){// Failure callback
if(Opts.fail)Opts.fail(this);_debug('[TextFill] Failure { '+'Current Width: '+ourText.width()+', '+'Maximum Width: '+maxWidth+', '+'Current Height: '+ourText.height()+', '+'Maximum Height: '+maxHeight+' }');return;}// Will resize to this dimensions.
// Use explicit dimensions when specified
var maxHeight=Opts.explicitHeight||$(this).height();var maxWidth=Opts.explicitWidth||$(this).width();var oldFontSize=ourText.css('font-size');var lineHeight=parseFloat(ourText.css('line-height'))/parseFloat(oldFontSize);var minFontPixels=Opts.minFontPixels;// Remember, if this `maxFontPixels` is negative,
// the text will resize to as long as the container
// can accomodate
var maxFontPixels=Opts.maxFontPixels<=0?maxHeight:Opts.maxFontPixels;// Let's start it all!
// 1. Calculate which `font-size` would
//    be best for the Height
var fontSizeHeight=undefined;if(Opts.widthOnly){// We need to measure with nowrap otherwise wrapping occurs and the measurement is wrong
ourText.css('white-space','nowrap');}else{fontSizeHeight=_sizing('Height',ourText,$.fn.height,maxHeight,maxHeight,maxWidth,minFontPixels,maxFontPixels);}// 2. Calculate which `font-size` would
//    be best for the Width
var fontSizeWidth=undefined;fontSizeWidth=_sizing('Width',ourText,$.fn.width,maxWidth,maxHeight,maxWidth,minFontPixels,maxFontPixels);// 3. Actually resize the text!
if(Opts.widthOnly){ourText.css({'font-size':fontSizeWidth});if(Opts.changeLineHeight){ourText.parent().css('line-height',lineHeight*fontSizeWidth+'px');}}else{var fontSizeFinal=Math.min(fontSizeHeight,fontSizeWidth);ourText.css('font-size',fontSizeFinal);if(Opts.changeLineHeight){ourText.parent().css('line-height',lineHeight*fontSizeFinal+'px');}}_debug('[TextFill] Finished { '+'Old font-size: '+oldFontSize+', '+'New font-size: '+ourText.css('font-size')+' }');// Oops, something wrong happened!
// If font-size increasing, we weren't supposed to exceed the original size 
// If font-size decreasing, we hit minFontPixels, and still won't fit 
if(ourText.width()>maxWidth&&!Opts.allowOverflow||ourText.height()>maxHeight&&!Opts.widthOnly&&!Opts.allowOverflow){ourText.css('font-size',oldFontSize);// Failure callback
if(Opts.fail){Opts.fail(this);}_debug('[TextFill] Failure { '+'Current Width: '+ourText.width()+', '+'Maximum Width: '+maxWidth+', '+'Current Height: '+ourText.height()+', '+'Maximum Height: '+maxHeight+' }');}else if(Opts.success){Opts.success(this);}});// Complete callback
if(Opts.complete){Opts.complete(this);}_debug('[TextFill] End Debug');return this;};})(function(){if(typeof module!=='undefined'&&module.exports){return require('jquery');}return window.jQuery;}());/*! jQuery UI - v1.12.1 - 2017-08-27
* http://jqueryui.com
* Includes: widget.js, position.js, data.js, disable-selection.js, focusable.js, form-reset-mixin.js, jquery-1-7.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/draggable.js, widgets/droppable.js, widgets/resizable.js, widgets/selectable.js, widgets/sortable.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/selectmenu.js, widgets/slider.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */(function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery);})(function(t){function e(t){for(var e=t.css("visibility");"inherit"===e;){t=t.parent(),e=t.css("visibility");}return"hidden"!==e;}function i(t){for(var e,i;t.length&&t[0]!==document;){if(e=t.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent();}return 0;}function s(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=n(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"));}function n(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",i,function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover");}).on("mouseover",i,o);}function o(){t.datepicker._isDisabledDatepicker(p.inline?p.dpDiv.parent()[0]:p.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"));}function a(e,i){t.extend(e,i);for(var s in i){null==i[s]&&(e[s]=i[s]);}return e;}function r(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change");};}t.ui=t.ui||{},t.ui.version="1.12.1";var h=0,l=Array.prototype.slice;t.cleanData=function(e){return function(i){var s,n,o;for(o=0;null!=(n=i[o]);o++){try{s=t._data(n,"events"),s&&s.remove&&t(n).triggerHandler("remove");}catch(a){}}e(i);};}(t.cleanData),t.widget=function(e,i,s){var n,o,a,r={},h=e.split(".")[0];e=e.split(".")[1];var l=h+"-"+e;return s||(s=i,i=t.Widget),t.isArray(s)&&(s=t.extend.apply(null,[{}].concat(s))),t.expr[":"][l.toLowerCase()]=function(e){return!!t.data(e,l);},t[h]=t[h]||{},n=t[h][e],o=t[h][e]=function(t,e){return this._createWidget?(arguments.length&&this._createWidget(t,e),void 0):new o(t,e);},t.extend(o,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),a=new i(),a.options=t.widget.extend({},a.options),t.each(s,function(e,s){return t.isFunction(s)?(r[e]=function(){function t(){return i.prototype[e].apply(this,arguments);}function n(t){return i.prototype[e].apply(this,t);}return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=o,e;};}(),void 0):(r[e]=s,void 0);}),o.prototype=t.widget.extend(a,{widgetEventPrefix:n?a.widgetEventPrefix||e:e},r,{constructor:o,namespace:h,widgetName:e,widgetFullName:l}),n?(t.each(n._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,o,i._proto);}),delete n._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o;},t.widget.extend=function(e){for(var i,s,n=l.call(arguments,1),o=0,a=n.length;a>o;o++){for(i in n[o]){s=n[o][i],n[o].hasOwnProperty(i)&&void 0!==s&&(e[i]=t.isPlainObject(s)?t.isPlainObject(e[i])?t.widget.extend({},e[i],s):t.widget.extend({},s):s);}}return e;},t.widget.bridge=function(e,i){var s=i.prototype.widgetFullName||e;t.fn[e]=function(n){var o="string"==typeof n,a=l.call(arguments,1),r=this;return o?this.length||"instance"!==n?this.each(function(){var i,o=t.data(this,s);return"instance"===n?(r=o,!1):o?t.isFunction(o[n])&&"_"!==n.charAt(0)?(i=o[n].apply(o,a),i!==o&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+n+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; "+"attempted to call method '"+n+"'");}):r=void 0:(a.length&&(n=t.widget.extend.apply(null,[n].concat(a))),this.each(function(){var e=t.data(this,s);e?(e.option(n||{}),e._init&&e._init()):t.data(this,s,new i(n,this));})),r;};},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function _createWidget(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=h++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function remove(t){t.target===i&&this.destroy();}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init();},_getCreateOptions:function _getCreateOptions(){return{};},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function destroy(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t);}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace);},_destroy:t.noop,widget:function widget(){return this.element;},option:function option(e,i){var s,n,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},s=e.split("."),e=s.shift(),s.length){for(n=a[e]=t.widget.extend({},this.options[e]),o=0;s.length-1>o;o++){n[s[o]]=n[s[o]]||{},n=n[s[o]];}if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i;}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i;}return this._setOptions(a),this;},_setOptions:function _setOptions(t){var e;for(e in t){this._setOption(e,t[e]);}return this;},_setOption:function _setOption(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this;},_setOptionClasses:function _setOptionClasses(e){var i,s,n;for(i in e){n=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&n&&n.length&&(s=t(n.get()),this._removeClass(n,i),s.addClass(this._classes({element:s,keys:i,classes:e,add:!0})));}},_setOptionDisabled:function _setOptionDisabled(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"));},enable:function enable(){return this._setOptions({disabled:!1});},disable:function disable(){return this._setOptions({disabled:!0});},_classes:function _classes(e){function i(i,o){var a,r;for(r=0;i.length>r;r++){a=n.classesElementLookup[i[r]]||t(),a=e.add?t(t.unique(a.get().concat(e.element.get()))):t(a.not(e.element).get()),n.classesElementLookup[i[r]]=a,s.push(i[r]),o&&e.classes[i[r]]&&s.push(e.classes[i[r]]);}}var s=[],n=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),s.join(" ");},_untrackClassesElement:function _untrackClassesElement(e){var i=this;t.each(i.classesElementLookup,function(s,n){-1!==t.inArray(e.target,n)&&(i.classesElementLookup[s]=t(n.not(e.target).get()));});},_removeClass:function _removeClass(t,e,i){return this._toggleClass(t,e,i,!1);},_addClass:function _addClass(t,e,i){return this._toggleClass(t,e,i,!0);},_toggleClass:function _toggleClass(t,e,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof t||null===t,o={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return o.element.toggleClass(this._classes(o),s),this;},_on:function _on(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,a){function r(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0;}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+o.eventNamespace,c=h[2];c?n.on(l,c,r):i.on(l,r);});},_off:function _off(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get());},_delay:function _delay(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments);}var s=this;return setTimeout(i,e||0);},_hoverable:function _hoverable(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function mouseenter(e){this._addClass(t(e.currentTarget),null,"ui-state-hover");},mouseleave:function mouseleave(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover");}});},_focusable:function _focusable(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function focusin(e){this._addClass(t(e.currentTarget),null,"ui-state-focus");},focusout:function focusout(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus");}});},_trigger:function _trigger(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o){n in i||(i[n]=o[n]);}return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented());}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i();});};}),t.widget,function(){function e(t,e,i){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?i/100:1)];}function i(e,i){return parseInt(t.css(e,i),10)||0;}function s(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()};}var n,o=Math.max,a=Math.abs,r=/left|center|right/,h=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,u=/%$/,d=t.fn.position;t.position={scrollbarWidth:function scrollbarWidth(){if(void 0!==n)return n;var e,i,s=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];return t("body").append(s),e=o.offsetWidth,s.css("overflow","scroll"),i=o.offsetWidth,e===i&&(i=s[0].clientWidth),s.remove(),n=e-i;},getScrollInfo:function getScrollInfo(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),s=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,o="scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0};},getWithinInfo:function getWithinInfo(e){var i=t(e||window),s=t.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType,o=!s&&!n;return{element:i,isWindow:s,isDocument:n,offset:o?t(e).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()};}},t.fn.position=function(n){if(!n||!n.of)return d.apply(this,arguments);n=t.extend({},n);var u,p,f,g,m,_,v=t(n.of),b=t.position.getWithinInfo(n.within),y=t.position.getScrollInfo(b),w=(n.collision||"flip").split(" "),x={};return _=s(v),v[0].preventDefault&&(n.at="left top"),p=_.width,f=_.height,g=_.offset,m=t.extend({},g),t.each(["my","at"],function(){var t,e,i=(n[this]||"").split(" ");1===i.length&&(i=r.test(i[0])?i.concat(["center"]):h.test(i[0])?["center"].concat(i):["center","center"]),i[0]=r.test(i[0])?i[0]:"center",i[1]=h.test(i[1])?i[1]:"center",t=l.exec(i[0]),e=l.exec(i[1]),x[this]=[t?t[0]:0,e?e[0]:0],n[this]=[c.exec(i[0])[0],c.exec(i[1])[0]];}),1===w.length&&(w[1]=w[0]),"right"===n.at[0]?m.left+=p:"center"===n.at[0]&&(m.left+=p/2),"bottom"===n.at[1]?m.top+=f:"center"===n.at[1]&&(m.top+=f/2),u=e(x.at,p,f),m.left+=u[0],m.top+=u[1],this.each(function(){var s,r,h=t(this),l=h.outerWidth(),c=h.outerHeight(),d=i(this,"marginLeft"),_=i(this,"marginTop"),k=l+d+i(this,"marginRight")+y.width,C=c+_+i(this,"marginBottom")+y.height,D=t.extend({},m),P=e(x.my,h.outerWidth(),h.outerHeight());"right"===n.my[0]?D.left-=l:"center"===n.my[0]&&(D.left-=l/2),"bottom"===n.my[1]?D.top-=c:"center"===n.my[1]&&(D.top-=c/2),D.left+=P[0],D.top+=P[1],s={marginLeft:d,marginTop:_},t.each(["left","top"],function(e,i){t.ui.position[w[e]]&&t.ui.position[w[e]][i](D,{targetWidth:p,targetHeight:f,elemWidth:l,elemHeight:c,collisionPosition:s,collisionWidth:k,collisionHeight:C,offset:[u[0]+P[0],u[1]+P[1]],my:n.my,at:n.at,within:b,elem:h});}),n.using&&(r=function r(t){var e=g.left-D.left,i=e+p-l,s=g.top-D.top,r=s+f-c,u={target:{element:v,left:g.left,top:g.top,width:p,height:f},element:{element:h,left:D.left,top:D.top,width:l,height:c},horizontal:0>i?"left":e>0?"right":"center",vertical:0>r?"top":s>0?"bottom":"middle"};l>p&&p>a(e+i)&&(u.horizontal="center"),c>f&&f>a(s+r)&&(u.vertical="middle"),u.important=o(a(e),a(i))>o(a(s),a(r))?"horizontal":"vertical",n.using.call(this,t,u);}),h.offset(t.extend(D,{using:r}));});},t.ui.position={fit:{left:function left(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=t.left-e.collisionPosition.marginLeft,h=n-r,l=r+e.collisionWidth-a-n;e.collisionWidth>a?h>0&&0>=l?(i=t.left+h+e.collisionWidth-a-n,t.left+=h-i):t.left=l>0&&0>=h?n:h>l?n+a-e.collisionWidth:n:h>0?t.left+=h:l>0?t.left-=l:t.left=o(t.left-r,t.left);},top:function top(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,h=n-r,l=r+e.collisionHeight-a-n;e.collisionHeight>a?h>0&&0>=l?(i=t.top+h+e.collisionHeight-a-n,t.top+=h-i):t.top=l>0&&0>=h?n:h>l?n+a-e.collisionHeight:n:h>0?t.top+=h:l>0?t.top-=l:t.top=o(t.top-r,t.top);}},flip:{left:function left(t,e){var i,s,n=e.within,o=n.offset.left+n.scrollLeft,r=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-h,u=l+e.collisionWidth-r-h,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(i=t.left+d+p+f+e.collisionWidth-r-o,(0>i||a(c)>i)&&(t.left+=d+p+f)):u>0&&(s=t.left-e.collisionPosition.marginLeft+d+p+f-h,(s>0||u>a(s))&&(t.left+=d+p+f));},top:function top(t,e){var i,s,n=e.within,o=n.offset.top+n.scrollTop,r=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-h,u=l+e.collisionHeight-r-h,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>c?(s=t.top+p+f+g+e.collisionHeight-r-o,(0>s||a(c)>s)&&(t.top+=p+f+g)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+g-h,(i>0||u>a(i))&&(t.top+=p+f+g));}},flipfit:{left:function left(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments);},top:function top(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments);}}};}(),t.ui.position,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e);};}):function(e,i,s){return!!t.data(e,s[3]);}}),t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault();});};}(),enableSelection:function enableSelection(){return this.off(".ui-disableSelection");}}),t.ui.focusable=function(i,s){var n,o,a,r,h,l=i.nodeName.toLowerCase();return"area"===l?(n=i.parentNode,o=n.name,i.href&&o&&"map"===n.nodeName.toLowerCase()?(a=t("img[usemap='#"+o+"']"),a.length>0&&a.is(":visible")):!1):(/^(input|select|textarea|button|object)$/.test(l)?(r=!i.disabled,r&&(h=t(i).closest("fieldset")[0],h&&(r=!h.disabled))):r="a"===l?i.href||s:s,r&&t(i).is(":visible")&&e(t(i)));},t.extend(t.expr[":"],{focusable:function focusable(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"));}}),t.ui.focusable,t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form);},t.ui.formResetMixin={_formResetHandler:function _formResetHandler(){var e=t(this);setTimeout(function(){var i=e.data("ui-form-reset-instances");t.each(i,function(){this.refresh();});});},_bindFormResetHandler:function _bindFormResetHandler(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t);}},_unbindFormResetHandler:function _unbindFormResetHandler(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset");}}},"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],function(e,i){function s(e,i,s,o){return t.each(n,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0);}),i;}var n="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?a["inner"+i].call(this):this.each(function(){t(this).css(o,s(this,e)+"px");});},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?a["outer"+i].call(this,e):this.each(function(){t(this).css(o,s(this,e,!0,n)+"px");});};}),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t));}),t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=function(){var t=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g;return function(e){return e.replace(t,"\\$1");};}(),t.fn.labels=function(){var e,i,s,n,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(n=this.eq(0).parents("label"),s=this.attr("id"),s&&(e=this.eq(0).parents().last(),o=e.add(e.length?e.siblings():this.siblings()),i="label[for='"+t.ui.escapeSelector(s)+"']",n=n.add(o.find(i).addBack(i))),this.pushStack(n));},t.fn.scrollParent=function(e){var i=this.css("position"),s="absolute"===i,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return s&&"static"===e.css("position")?!1:n.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"));}).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document);},t.extend(t.expr[":"],{tabbable:function tabbable(e){var i=t.attr(e,"tabindex"),s=null!=i;return(!s||i>=0)&&t.ui.focusable(e,s);}}),t.fn.extend({uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t);});};}(),removeUniqueId:function removeUniqueId(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id");});}}),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var c=!1;t(document).on("mouseup",function(){c=!1;}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function _mouseInit(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t);}).on("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0;}),this.started=!1;},_mouseDestroy:function _mouseDestroy(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);},_mouseDown:function _mouseDown(e){if(!c){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,s=1===e.which,n="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0;},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t);},this._mouseUpDelegate=function(t){return i._mouseUp(t);},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),c=!0,!0)):!0;}},_mouseMove:function _mouseMove(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e);}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted);},_mouseUp:function _mouseUp(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,c=!1,e.preventDefault();},_mouseDistanceMet:function _mouseDistanceMet(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance;},_mouseDelayMet:function _mouseDelayMet(){return this.mouseDelayMet;},_mouseStart:function _mouseStart(){},_mouseDrag:function _mouseDrag(){},_mouseStop:function _mouseStop(){},_mouseCapture:function _mouseCapture(){return!0;}}),t.ui.plugin={add:function add(e,i,s){var n,o=t.ui[e].prototype;for(n in s){o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,s[n]]);}},call:function call(t,e,i,s){var n,o=t.plugins[e];if(o&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;o.length>n;n++){t.options[o[n][0]]&&o[n][1].apply(t.element,i);}}},t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement;}catch(i){e=t.body;}return e||(e=t.body),e.nodeName||(e=t.body),e;},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur");},t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function _create(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit();},_setOption:function _setOption(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName());},_destroy:function _destroy(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this._removeHandleClassName(),this._mouseDestroy(),void 0);},_mouseCapture:function _mouseCapture(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blurActiveElement(e),this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1);},_blockFrames:function _blockFrames(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0];});},_unblockFrames:function _unblockFrames(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks);},_blurActiveElement:function _blurActiveElement(e){var i=t.ui.safeActiveElement(this.document[0]),s=t(e.target);s.closest(i).length||t.ui.safeBlur(i);},_mouseStart:function _mouseStart(e){var i=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position");}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0);},_refreshOffsets:function _refreshOffsets(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top};},_mouseDrag:function _mouseDrag(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",e,s)===!1)return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=s.position;}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1;},_mouseStop:function _mouseStop(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear();}):this._trigger("stop",e)!==!1&&this._clear(),!1;},_mouseUp:function _mouseUp(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e);},cancel:function cancel(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this;},_getHandle:function _getHandle(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0;},_setHandleClassName:function _setHandleClassName(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle");},_removeHandleClassName:function _removeHandleClassName(){this._removeClass(this.handleElement,"ui-draggable-handle");},_createHelper:function _createHelper(e){var i=this.options,s=t.isFunction(i.helper),n=s?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n;},_setPositionRelative:function _setPositionRelative(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative");},_adjustOffsetFromHelper:function _adjustOffsetFromHelper(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top);},_isRootNode:function _isRootNode(t){return /(html|body)/i.test(t.tagName)||t===this.document[0];},_getParentOffset:function _getParentOffset(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};},_getRelativeOffset:function _getRelativeOffset(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())};},_cacheMargins:function _cacheMargins(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0};},_cacheHelperProportions:function _cacheHelperProportions(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function _setContainment(){var e,i,s,n=this.options,o=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===n.containment?(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment.constructor===Array?(this.containment=n.containment,void 0):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),s=i[0],s&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i),void 0):(this.containment=null,void 0);},_convertPositionTo:function _convertPositionTo(t,e){e||(e=this.position);var i="absolute"===t?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i};},_generatePosition:function _generatePosition(t,e){var i,s,n,o,a=this.options,r=this._isRootNode(this.scrollParent[0]),h=t.pageX,l=t.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),a.grid&&(n=a.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-a.grid[1]:n+a.grid[1]:n,o=a.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,h=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(h=this.originalPageX),"x"===a.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)};},_clear:function _clear(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy();},_trigger:function _trigger(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,s);},plugins:{},_uiHash:function _uiHash(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs};}}),t.ui.plugin.add("draggable","connectToSortable",{start:function start(e,i,s){var n=t.extend({},i,{item:s.element});s.sortables=[],t(s.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,n));});},stop:function stop(e,i,s){var n=t.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,t.each(s.sortables,function(){var t=this;t.isOver?(t.isOver=0,s.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,n));});},drag:function drag(e,i,s){t.each(s.sortables,function(){var n=!1,o=this;o.positionAbs=s.positionAbs,o.helperProportions=s.helperProportions,o.offset.click=s.offset.click,o._intersectsWith(o.containerCache)&&(n=!0,t.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(n=!1),n;})),n?(o.isOver||(o.isOver=1,s._parent=i.helper.parent(),o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0];},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=s.offset.click.top,o.offset.click.left=s.offset.click.left,o.offset.parent.left-=s.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=s.offset.parent.top-o.offset.parent.top,s._trigger("toSortable",e),s.dropped=o.element,t.each(s.sortables,function(){this.refreshPositions();}),s.currentItem=s.element,o.fromOutside=s),o.currentItem&&(o._mouseDrag(e),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(e),i.position=s._generatePosition(e,!0),s._trigger("fromSortable",e),s.dropped=!1,t.each(s.sortables,function(){this.refreshPositions();}));});}}),t.ui.plugin.add("draggable","cursor",{start:function start(e,i,s){var n=t("body"),o=s.options;n.css("cursor")&&(o._cursor=n.css("cursor")),n.css("cursor",o.cursor);},stop:function stop(e,i,s){var n=s.options;n._cursor&&t("body").css("cursor",n._cursor);}}),t.ui.plugin.add("draggable","opacity",{start:function start(e,i,s){var n=t(i.helper),o=s.options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity);},stop:function stop(e,i,s){var n=s.options;n._opacity&&t(i.helper).css("opacity",n._opacity);}}),t.ui.plugin.add("draggable","scroll",{start:function start(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset());},drag:function drag(e,i,s){var n=s.options,o=!1,a=s.scrollParentNotHidden[0],r=s.document[0];a!==r&&"HTML"!==a.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+a.offsetHeight-e.pageY<n.scrollSensitivity?a.scrollTop=o=a.scrollTop+n.scrollSpeed:e.pageY-s.overflowOffset.top<n.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+a.offsetWidth-e.pageX<n.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+n.scrollSpeed:e.pageX-s.overflowOffset.left<n.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(r).scrollTop()<n.scrollSensitivity?o=t(r).scrollTop(t(r).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(r).scrollTop())<n.scrollSensitivity&&(o=t(r).scrollTop(t(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(r).scrollLeft()<n.scrollSensitivity?o=t(r).scrollLeft(t(r).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(r).scrollLeft())<n.scrollSensitivity&&(o=t(r).scrollLeft(t(r).scrollLeft()+n.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(s,e);}}),t.ui.plugin.add("draggable","snap",{start:function start(e,i,s){var n=s.options;s.snapElements=[],t(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var e=t(this),i=e.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left});});},drag:function drag(e,i,s){var n,o,a,r,h,l,c,u,d,p,f=s.options,g=f.snapTolerance,m=i.offset.left,_=m+s.helperProportions.width,v=i.offset.top,b=v+s.helperProportions.height;for(d=s.snapElements.length-1;d>=0;d--){h=s.snapElements[d].left-s.margins.left,l=h+s.snapElements[d].width,c=s.snapElements[d].top-s.margins.top,u=c+s.snapElements[d].height,h-g>_||m>l+g||c-g>b||v>u+g||!t.contains(s.snapElements[d].item.ownerDocument,s.snapElements[d].item)?(s.snapElements[d].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(n=g>=Math.abs(c-b),o=g>=Math.abs(u-v),a=g>=Math.abs(h-_),r=g>=Math.abs(l-m),n&&(i.position.top=s._convertPositionTo("relative",{top:c-s.helperProportions.height,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left)),p=n||o||a||r,"outer"!==f.snapMode&&(n=g>=Math.abs(c-v),o=g>=Math.abs(u-b),a=g>=Math.abs(h-m),r=g>=Math.abs(l-_),n&&(i.position.top=s._convertPositionTo("relative",{top:c,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left)),!s.snapElements[d].snapping&&(n||o||a||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=n||o||a||r||p);}}}),t.ui.plugin.add("draggable","stack",{start:function start(e,i,s){var n,o=s.options,a=t.makeArray(t(o.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0);});a.length&&(n=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each(function(e){t(this).css("zIndex",n+e);}),this.css("zIndex",n+a.length));}}),t.ui.plugin.add("draggable","zIndex",{start:function start(e,i,s){var n=t(i.helper),o=s.options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex);},stop:function stop(e,i,s){var n=s.options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex);}}),t.ui.draggable,t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function _create(){var e,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(s)?s:function(t){return t.is(s);},this.proportions=function(){return arguments.length?(e=arguments[0],void 0):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable");},_addToManager:function _addToManager(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this);},_splice:function _splice(t){for(var e=0;t.length>e;e++){t[e]===this&&t.splice(e,1);}},_destroy:function _destroy(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e);},_setOption:function _setOption(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i);};else if("scope"===e){var s=t.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i);}this._super(e,i);},_activate:function _activate(e){var i=t.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",e,this.ui(i));},_deactivate:function _deactivate(e){var i=t.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",e,this.ui(i));},_over:function _over(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(i)));},_out:function _out(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(i)));},_drop:function _drop(e,i){var s=i||t.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=t(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&u(s,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e)?(n=!0,!1):void 0;}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(s)),this.element):!1):!1;},ui:function ui(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs};},_addHoverClass:function _addHoverClass(){this._addClass("ui-droppable-hover");},_removeHoverClass:function _removeHoverClass(){this._removeClass("ui-droppable-hover");},_addActiveClass:function _addActiveClass(){this._addClass("ui-droppable-active");},_removeActiveClass:function _removeActiveClass(){this._removeClass("ui-droppable-active");}});var u=t.ui.intersect=function(){function t(t,e,i){return t>=e&&e+i>t;}return function(e,i,s,n){if(!i.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,a=(e.positionAbs||e.position.absolute).top+e.margins.top,r=o+e.helperProportions.width,h=a+e.helperProportions.height,l=i.offset.left,c=i.offset.top,u=l+i.proportions().width,d=c+i.proportions().height;switch(s){case"fit":return o>=l&&u>=r&&a>=c&&d>=h;case"intersect":return o+e.helperProportions.width/2>l&&u>r-e.helperProportions.width/2&&a+e.helperProportions.height/2>c&&d>h-e.helperProportions.height/2;case"pointer":return t(n.pageY,c,i.proportions().height)&&t(n.pageX,l,i.proportions().width);case"touch":return(a>=c&&d>=a||h>=c&&d>=h||c>a&&h>d)&&(o>=l&&u>=o||r>=l&&u>=r||l>o&&r>u);default:return!1;}};}();t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function prepareOffsets(e,i){var s,n,o=t.ui.ddmanager.droppables[e.options.scope]||[],a=i?i.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(s=0;o.length>s;s++){if(!(o[s].options.disabled||e&&!o[s].accept.call(o[s].element[0],e.currentItem||e.element))){for(n=0;r.length>n;n++){if(r[n]===o[s].element[0]){o[s].proportions().height=0;continue t;}}o[s].visible="none"!==o[s].element.css("display"),o[s].visible&&("mousedown"===a&&o[s]._activate.call(o[s],i),o[s].offset=o[s].element.offset(),o[s].proportions({width:o[s].element[0].offsetWidth,height:o[s].element[0].offsetHeight}));}}},drop:function drop(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&u(e,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)));}),s;},dragStart:function dragStart(e,i){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i);});},drag:function drag(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,o,a=u(e,this,this.options.tolerance,i),r=!a&&this.isover?"isout":a&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===n;}),o.length&&(s=t(o[0]).droppable("instance"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)));}});},dragStop:function dragStop(e,i){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i);}},t.uiBackCompat!==!1&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function _addActiveClass(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass);},_removeActiveClass:function _removeActiveClass(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass);},_addHoverClass:function _addHoverClass(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass);},_removeHoverClass:function _removeHoverClass(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);}}),t.ui.droppable,t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function _num(t){return parseFloat(t)||0;},_isNumber:function _isNumber(t){return!isNaN(parseFloat(t));},_hasScroll:function _hasScroll(e,i){if("hidden"===t(e).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return e[s]>0?!0:(e[s]=1,n=e[s]>0,e[s]=0,n);},_create:function _create(){var e,i=this.options,s=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),i.autoHide&&t(this.element).on("mouseenter",function(){i.disabled||(s._removeClass("ui-resizable-autohide"),s._handles.show());}).on("mouseleave",function(){i.disabled||s.resizing||(s._addClass("ui-resizable-autohide"),s._handles.hide());}),this._mouseInit();},_destroy:function _destroy(){this._mouseDestroy();var e,i=function i(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove();};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this;},_setOption:function _setOption(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles();break;default:}},_setupHandles:function _setupHandles(){var e,i,s,n,o,a=this.options,r=this;if(this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),s=this.handles.split(","),this.handles={},i=0;s.length>i;i++){e=t.trim(s[i]),n="ui-resizable-"+e,o=t("<div>"),this._addClass(o,"ui-resizable-handle "+n),o.css({zIndex:a.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(o);}this._renderAxis=function(e){var i,s,n,o;e=e||this.element;for(i in this.handles){this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(n,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i]);}},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){r.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=o&&o[1]?o[1]:"se");}),a.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"));},_removeHandles:function _removeHandles(){this._handles.remove();},_mouseCapture:function _mouseCapture(e){var i,s,n=!1;for(i in this.handles){s=t(this.handles[i])[0],(s===e.target||t.contains(s,e.target))&&(n=!0);}return!this.options.disabled&&n;},_mouseStart:function _mouseStart(e){var i,s,n,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),o.containment&&(i+=t(o.containment).scrollLeft()||0,s+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===n?this.axis+"-resize":n),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0;},_mouseDrag:function _mouseDrag(e){var i,s,n=this.originalMousePosition,o=this.axis,a=e.pageX-n.left||0,r=e.pageY-n.top||0,h=this._change[o];return this._updatePrevProperties(),h?(i=h.apply(this,[e,a,r]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1):!1;},_mouseStop:function _mouseStop(e){this.resizing=!1;var i,s,n,o,a,r,h,l=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],"left")?0:c.sizeDiff.height,o=s?0:c.sizeDiff.width,a={width:c.helper.width()-o,height:c.helper.height()-n},r=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null,h=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css(t.extend(a,{top:h,left:r})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1;},_updatePrevProperties:function _updatePrevProperties(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height};},_applyChanges:function _applyChanges(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t;},_updateVirtualBoundaries:function _updateVirtualBoundaries(t){var e,i,s,n,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,s=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,n=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),s>o.minHeight&&(o.minHeight=s),o.maxWidth>i&&(o.maxWidth=i),o.maxHeight>n&&(o.maxHeight=n)),this._vBoundaries=o;},_updateCache:function _updateCache(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width);},_updateRatio:function _updateRatio(t){var e=this.position,i=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===s&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t;},_respectSize:function _respectSize(t){var e=this._vBoundaries,i=this.axis,s=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,n=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,r=this.originalPosition.left+this.originalSize.width,h=this.originalPosition.top+this.originalSize.height,l=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),n&&(t.height=e.maxHeight),o&&l&&(t.left=r-e.minWidth),s&&l&&(t.left=r-e.maxWidth),a&&c&&(t.top=h-e.minHeight),n&&c&&(t.top=h-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t;},_getPaddingPlusBorderDimensions:function _getPaddingPlusBorderDimensions(t){for(var e=0,i=[],s=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],n=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++){i[e]=parseFloat(s[e])||0,i[e]+=parseFloat(n[e])||0;}return{height:i[0]+i[2],width:i[1]+i[3]};},_proportionallyResize:function _proportionallyResize(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;this._proportionallyResizeElements.length>e;e++){t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0});}},_renderProxy:function _renderProxy(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element;},_change:{e:function e(t,_e){return{width:this.originalSize.width+_e};},w:function w(t,e){var i=this.originalSize,s=this.originalPosition;return{left:s.left+e,width:i.width-e};},n:function n(t,e,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i};},s:function s(t,e,i){return{height:this.originalSize.height+i};},se:function se(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]));},sw:function sw(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]));},ne:function ne(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]));},nw:function nw(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]));}},_propagate:function _propagate(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui());},plugins:{},ui:function ui(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition};}}),t.ui.plugin.add("resizable","animate",{stop:function stop(e){var i=t(this).resizable("instance"),s=i.options,n=i._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),a=o&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=o?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-a},l=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,c=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(h,c&&l?{top:c,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function step(){var s={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};n&&n.length&&t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",e);}});}}),t.ui.plugin.add("resizable","containment",{start:function start(){var e,i,s,n,o,a,r,h=t(this).resizable("instance"),l=h.options,c=h.element,u=l.containment,d=u instanceof t?u.get(0):/parent/.test(u)?c.parent().get(0):u;d&&(h.containerElement=t(d),/document/.test(u)||u===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,s){i[t]=h._num(e.css("padding"+s));}),h.containerOffset=e.offset(),h.containerPosition=e.position(),h.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},s=h.containerOffset,n=h.containerSize.height,o=h.containerSize.width,a=h._hasScroll(d,"left")?d.scrollWidth:o,r=h._hasScroll(d)?d.scrollHeight:n,h.parentData={element:d,left:s.left,top:s.top,width:a,height:r}));},resize:function resize(e){var i,s,n,o,a=t(this).resizable("instance"),r=a.options,h=a.containerOffset,l=a.position,c=a._aspectRatio||e.shiftKey,u={top:0,left:0},d=a.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(u=h),l.left<(a._helper?h.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-h.left:a.position.left-u.left),c&&(a.size.height=a.size.width/a.aspectRatio,p=!1),a.position.left=r.helper?h.left:0),l.top<(a._helper?h.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-h.top:a.position.top),c&&(a.size.width=a.size.height*a.aspectRatio,p=!1),a.position.top=a._helper?h.top:0),n=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),n&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),i=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-u.left:a.offset.left-h.left)),s=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-u.top:a.offset.top-h.top)),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,c&&(a.size.height=a.size.width/a.aspectRatio,p=!1)),s+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-s,c&&(a.size.width=a.size.height*a.aspectRatio,p=!1)),p||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height);},stop:function stop(){var e=t(this).resizable("instance"),i=e.options,s=e.containerOffset,n=e.containerPosition,o=e.containerElement,a=t(e.helper),r=a.offset(),h=a.outerWidth()-e.sizeDiff.width,l=a.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l});}}),t.ui.plugin.add("resizable","alsoResize",{start:function start(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))});});},resize:function resize(e,i){var s=t(this).resizable("instance"),n=s.options,o=s.originalSize,a=s.originalPosition,r={height:s.size.height-o.height||0,width:s.size.width-o.width||0,top:s.position.top-a.top||0,left:s.position.left-a.left||0};t(n.alsoResize).each(function(){var e=t(this),s=t(this).data("ui-resizable-alsoresize"),n={},o=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var i=(s[e]||0)+(r[e]||0);i&&i>=0&&(n[e]=i||null);}),e.css(n);});},stop:function stop(){t(this).removeData("ui-resizable-alsoresize");}}),t.ui.plugin.add("resizable","ghost",{start:function start(){var e=t(this).resizable("instance"),i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),t.uiBackCompat!==!1&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper);},resize:function resize(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width});},stop:function stop(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0));}}),t.ui.plugin.add("resizable","grid",{resize:function resize(){var e,i=t(this).resizable("instance"),s=i.options,n=i.size,o=i.originalSize,a=i.originalPosition,r=i.axis,h="number"==typeof s.grid?[s.grid,s.grid]:s.grid,l=h[0]||1,c=h[1]||1,u=Math.round((n.width-o.width)/l)*l,d=Math.round((n.height-o.height)/c)*c,p=o.width+u,f=o.height+d,g=s.maxWidth&&p>s.maxWidth,m=s.maxHeight&&f>s.maxHeight,_=s.minWidth&&s.minWidth>p,v=s.minHeight&&s.minHeight>f;s.grid=h,_&&(p+=l),v&&(f+=c),g&&(p-=l),m&&(f-=c),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=a.top-d):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=a.left-u):((0>=f-c||0>=p-l)&&(e=i._getPaddingPlusBorderDimensions(this)),f-c>0?(i.size.height=f,i.position.top=a.top-d):(f=c-e.height,i.size.height=f,i.position.top=a.top+o.height-f),p-l>0?(i.size.width=p,i.position.left=a.left-u):(p=l-e.width,i.size.width=p,i.position.left=a.left+o.width-p));}}),t.ui.resizable,t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function _create(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var i=t(this),s=i.offset(),n={left:s.left-e.elementPos.left,top:s.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:i,left:n.left,top:n.top,right:n.left+i.outerWidth(),bottom:n.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")});});},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper");},_destroy:function _destroy(){this.selectees.removeData("selectable-item"),this._mouseDestroy();},_mouseStart:function _mouseStart(e){var i=this,s=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(s.filter,this.element[0]),this._trigger("start",e),t(s.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=t.data(this,"selectable-item");s.startselected=!0,e.metaKey||e.ctrlKey||(i._removeClass(s.$element,"ui-selected"),s.selected=!1,i._addClass(s.$element,"ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",e,{unselecting:s.element}));}),t(e.target).parents().addBack().each(function(){var s,n=t.data(this,"selectable-item");return n?(s=!e.metaKey&&!e.ctrlKey||!n.$element.hasClass("ui-selected"),i._removeClass(n.$element,s?"ui-unselecting":"ui-selected")._addClass(n.$element,s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",e,{selecting:n.element}):i._trigger("unselecting",e,{unselecting:n.element}),!1):void 0;}));},_mouseDrag:function _mouseDrag(e){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,o=this.opos[0],a=this.opos[1],r=e.pageX,h=e.pageY;return o>r&&(i=r,r=o,o=i),a>h&&(i=h,h=a,a=i),this.helper.css({left:o,top:a,width:r-o,height:h-a}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),l=!1,c={};i&&i.element!==s.element[0]&&(c.left=i.left+s.elementPos.left,c.right=i.right+s.elementPos.left,c.top=i.top+s.elementPos.top,c.bottom=i.bottom+s.elementPos.top,"touch"===n.tolerance?l=!(c.left>r||o>c.right||c.top>h||a>c.bottom):"fit"===n.tolerance&&(l=c.left>o&&r>c.right&&c.top>a&&h>c.bottom),l?(i.selected&&(s._removeClass(i.$element,"ui-selected"),i.selected=!1),i.unselecting&&(s._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1),i.selecting||(s._addClass(i.$element,"ui-selecting"),i.selecting=!0,s._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(s._removeClass(i.$element,"ui-selecting"),i.selecting=!1,s._addClass(i.$element,"ui-selected"),i.selected=!0):(s._removeClass(i.$element,"ui-selecting"),i.selecting=!1,i.startselected&&(s._addClass(i.$element,"ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(s._removeClass(i.$element,"ui-selected"),i.selected=!1,s._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",e,{unselecting:i.element})))));}),!1;}},_mouseStop:function _mouseStop(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");i._removeClass(s.$element,"ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",e,{unselected:s.element});}),t(".ui-selecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");i._removeClass(s.$element,"ui-selecting")._addClass(s.$element,"ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",e,{selected:s.element});}),this._trigger("stop",e),this.helper.remove(),!1;}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function _isOverAxis(t,e,i){return t>=e&&e+i>t;},_isFloating:function _isFloating(t){return /left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"));},_create:function _create(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0;},_setOption:function _setOption(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName();},_setHandleClassName:function _setHandleClassName(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle");});},_destroy:function _destroy(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--){this.items[t].item.removeData(this.widgetName+"-item");}return this;},_mouseCapture:function _mouseCapture(e,i){var s=null,n=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(s=t(this),!1):void 0;}),t.data(e.target,o.widgetName+"-item")===o&&(s=t(e.target)),s?!this.options.handle||i||(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(n=!0);}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1);},_mouseStart:function _mouseStart(e,i,s){var n,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--){this.containers[n]._trigger("activate",e,this._uiHash(this));}return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0;},_mouseDrag:function _mouseDrag(e){var i,s,n,o,a=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-this.document.scrollTop()<a.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),e.pageX-this.document.scrollLeft()<a.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--){if(s=this.items[i],n=s.item[0],o=this._intersectsWithPointer(s),o&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==n&&!t.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],n):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break;}}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1;},_mouseStop:function _mouseStop(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){s._clear(e);});}else this._clear(e,i);return!1;}},cancel:function cancel(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--){this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0);}}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this;},serialize:function serialize(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]));}),!s.length&&e.key&&s.push(e.key+"="),s.join("&");},toArray:function toArray(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"");}),s;},_intersectsWith:function _intersectsWith(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,h=r+t.height,l=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||s+l>r&&h>s+l,d="y"===this.options.axis||e+c>o&&a>e+c,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>o&&a>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2;},_intersectsWithPointer:function _intersectsWithPointer(t){var e,i,s="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=s&&n;return o?(e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1)):!1;},_intersectsWithSides:function _intersectsWithSides(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&e||"up"===s&&!e);},_getDragVerticalDirection:function _getDragVerticalDirection(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up");},_getDragHorizontalDirection:function _getDragHorizontalDirection(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left");},refresh:function refresh(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this;},_connectWith:function _connectWith(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith;},_getItemsAsjQuery:function _getItemsAsjQuery(e){function i(){r.push(this);}var s,n,o,a,r=[],h=[],l=this._connectWith();if(l&&e)for(s=l.length-1;s>=0;s--){for(o=t(l[s],this.document[0]),n=o.length-1;n>=0;n--){a=t.data(o[n],this.widgetFullName),a&&a!==this&&!a.options.disabled&&h.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);}}for(h.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=h.length-1;s>=0;s--){h[s][0].each(i);}return t(r);},_removeCurrentsFromItems:function _removeCurrentsFromItems(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++){if(e[i]===t.item[0])return!1;}return!0;});},_refreshItems:function _refreshItems(e){this.items=[],this.containers=[this];var i,s,n,o,a,r,h,l,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--){for(n=t(d[i],this.document[0]),s=n.length-1;s>=0;s--){o=t.data(n[s],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(u.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));}}for(i=u.length-1;i>=0;i--){for(a=u[i][1],r=u[i][0],s=0,l=r.length;l>s;s++){h=t(r[s]),h.data(this.widgetName+"-item",a),c.push({item:h,instance:a,width:0,height:0,left:0,top:0});}}},refreshPositions:function refreshPositions(e){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,o;for(i=this.items.length-1;i>=0;i--){s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),o=n.offset(),s.left=o.left,s.top=o.top);}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--){o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();}return this;},_createPlaceholder:function _createPlaceholder(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function element(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t("<"+s+">",e.document[0]);return e._addClass(n,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(n,"ui-sortable-helper"),"tbody"===s?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(n)):"tr"===s?e._createTrPlaceholder(e.currentItem,n):"img"===s&&n.attr("src",e.currentItem.attr("src")),i||n.css("visibility","hidden"),n;},update:function update(t,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)));}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder);},_createTrPlaceholder:function _createTrPlaceholder(e,i){var s=this;e.children().each(function(){t("<td>&#160;</td>",s.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i);});},_contactContainers:function _contactContainers(e){var i,s,n,o,a,r,h,l,c,u,d=null,p=null;for(i=this.containers.length-1;i>=0;i--){if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&t.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],p=i;}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);}if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,o=null,c=d.floating||this._isFloating(this.currentItem),a=c?"left":"top",r=c?"width":"height",u=c?"pageX":"pageY",s=this.items.length-1;s>=0;s--){t.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(h=this.items[s].item.offset()[a],l=!1,e[u]-h>this.items[s][r]/2&&(l=!0),n>Math.abs(e[u]-h)&&(n=Math.abs(e[u]-h),o=this.items[s],this.direction=l?"up":"down"));}if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1;}},_createHelper:function _createHelper(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s;},_adjustOffsetFromHelper:function _adjustOffsetFromHelper(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top);},_getParentOffset:function _getParentOffset(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};},_getRelativeOffset:function _getRelativeOffset(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()};}return{top:0,left:0};},_cacheMargins:function _cacheMargins(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0};},_cacheHelperProportions:function _cacheHelperProportions(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function _setContainment(){var e,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]);},_convertPositionTo:function _convertPositionTo(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*s};},_generatePosition:function _generatePosition(e){var i,s,n=this.options,o=e.pageX,a=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())};},_rearrange:function _rearrange(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s);});},_clear:function _clear(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e));};}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS){("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");}this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper");}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside));}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash());}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash());}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this));};}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this));};}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--){e||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);}if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(s=0;n.length>s;s++){n[s].call(this,t);}this._trigger("stop",t,this._uiHash());}return this.fromOutside=!1,!this.cancelHelperRemoval;},_trigger:function _trigger(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel();},_uiHash:function _uiHash(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null};}}),t.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function _create(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),0>e.active&&(e.active+=this.headers.length),this._refresh();},_getCreateEventData:function _getCreateEventData(){return{header:this.active,panel:this.active.length?this.active.next():t()};},_createIcons:function _createIcons(){var e,i,s=this.options.icons;s&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+s.header),e.prependTo(this.headers),i=this.active.children(".ui-accordion-header-icon"),this._removeClass(i,s.header)._addClass(i,null,s.activeHeader)._addClass(this.headers,"ui-accordion-icons"));},_destroyIcons:function _destroyIcons(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove();},_destroy:function _destroy(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","");},_setOption:function _setOption(t,e){return"active"===t?(this._activate(e),void 0):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),void 0);},_setOptionDisabled:function _setOptionDisabled(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t);},_keydown:function _keydown(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,s=this.headers.length,n=this.headers.index(e.target),o=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:o=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[s-1];}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),t(o).trigger("focus"),e.preventDefault());}},_panelKeyDown:function _panelKeyDown(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus");},refresh:function refresh(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh();},_processPanels:function _processPanels(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)));},_refresh:function _refresh(){var e,i=this.options,s=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=t(this),i=e.uniqueId().attr("id"),s=e.next(),n=s.uniqueId().attr("id");e.attr("aria-controls",n),s.attr("aria-labelledby",i);}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===s?(e=n.height(),this.element.siblings(":visible").each(function(){var i=t(this),s=i.css("position");"absolute"!==s&&"fixed"!==s&&(e-=i.outerHeight(!0));}),this.headers.each(function(){e-=t(this).outerHeight(!0);}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()));}).css("overflow","auto")):"auto"===s&&(e=0,this.headers.next().each(function(){var i=t(this).is(":visible");i||t(this).show(),e=Math.max(e,t(this).css("height","").height()),i||t(this).hide();}).height(e));},_activate:function _activate(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}));},_findActive:function _findActive(e){return"number"==typeof e?this.headers.eq(e):t();},_setupEvents:function _setupEvents(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler";}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers);},_eventHandler:function _eventHandler(e){var i,s,n=this.options,o=this.active,a=t(e.currentTarget),r=a[0]===o[0],h=r&&n.collapsible,l=h?t():a.next(),c=o.next(),u={oldHeader:o,oldPanel:c,newHeader:h?t():a,newPanel:l};e.preventDefault(),r&&!n.collapsible||this._trigger("beforeActivate",e,u)===!1||(n.active=h?!1:this.headers.index(a),this.active=r?t():a,this._toggle(u),this._removeClass(o,"ui-accordion-header-active","ui-state-active"),n.icons&&(i=o.children(".ui-accordion-header-icon"),this._removeClass(i,null,n.icons.activeHeader)._addClass(i,null,n.icons.header)),r||(this._removeClass(a,"ui-accordion-header-collapsed")._addClass(a,"ui-accordion-header-active","ui-state-active"),n.icons&&(s=a.children(".ui-accordion-header-icon"),this._removeClass(s,null,n.icons.header)._addClass(s,null,n.icons.activeHeader)),this._addClass(a.next(),"ui-accordion-content-active")));},_toggle:function _toggle(e){var i=e.newPanel,s=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,e):(s.hide(),i.show(),this._toggleComplete(e)),s.attr({"aria-hidden":"true"}),s.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&s.length?s.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10);}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0});},_animate:function _animate(t,e,i){var s,n,o,a=this,r=0,h=t.css("box-sizing"),l=t.length&&(!e.length||t.index()<e.index()),c=this.options.animate||{},u=l&&c.down||c,d=function d(){a._toggleComplete(i);};return"number"==typeof u&&(o=u),"string"==typeof u&&(n=u),n=n||u.easing||c.easing,o=o||u.duration||c.duration,e.length?t.length?(s=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:n,step:function step(t,e){e.now=Math.round(t);}}),t.hide().animate(this.showProps,{duration:o,easing:n,complete:d,step:function step(t,i){i.now=Math.round(t),"height"!==i.prop?"content-box"===h&&(r+=i.now):"content"!==a.options.heightStyle&&(i.now=Math.round(s-e.outerHeight()-r),r=0);}}),void 0):e.animate(this.hideProps,o,n,d):t.animate(this.showProps,o,n,d);},_toggleComplete:function _toggleComplete(t){var e=t.oldPanel,i=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t);}}),t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function _create(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function mousedownUiMenuItem(t){t.preventDefault();},"click .ui-menu-item":function clickUiMenuItem(e){var i=t(e.target),s=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&s.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)));},"mouseenter .ui-menu-item":function mouseenterUiMenuItem(e){if(!this.previousFilter){var i=t(e.target).closest(".ui-menu-item"),s=t(e.currentTarget);i[0]===s[0]&&(this._removeClass(s.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,s));}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function focus(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i);},blur:function blur(e){this._delay(function(){var i=!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]));i&&this.collapseAll(e);});},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function click(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1;}});},_destroy:function _destroy(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),i=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),i.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove();});},_keydown:function _keydown(e){var i,s,n,o,a=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,s=this.previousFilter||"",o=!1,n=e.keyCode>=96&&105>=e.keyCode?""+(e.keyCode-96):String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),n===s?o=!0:n=s+n,i=this._filterMenuItems(n),i=o&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(n=String.fromCharCode(e.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(e,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter;},1e3)):delete this.previousFilter;}a&&e.preventDefault();},_activate:function _activate(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t));},refresh:function refresh(){var e,i,s,n,o,a=this,r=this.options.icons.submenu,h=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),s=h.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.prev(),s=t("<span>").data("ui-menu-submenu-caret",!0);a._addClass(s,"ui-menu-icon","ui-icon "+r),i.attr("aria-haspopup","true").prepend(s),e.attr("aria-labelledby",i.attr("id"));}),this._addClass(s,"ui-menu","ui-widget ui-widget-content ui-front"),e=h.add(this.element),i=e.find(this.options.items),i.not(".ui-menu-item").each(function(){var e=t(this);a._isDivider(e)&&a._addClass(e,"ui-menu-divider","ui-widget-content");}),n=i.not(".ui-menu-item, .ui-menu-divider"),o=n.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur();},_itemRole:function _itemRole(){return{menu:"menuitem",listbox:"option"}[this.options.role];},_setOption:function _setOption(t,e){if("icons"===t){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,e.submenu);}this._super(t,e);},_setOptionDisabled:function _setOptionDisabled(t){this._super(t),this.element.attr("aria-disabled",t+""),this._toggleClass(null,"ui-state-disabled",!!t);},focus:function focus(t,e){var i,s,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.children(".ui-menu-item-wrapper"),this._addClass(s,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),n=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close();},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e});},_scrollIntoView:function _scrollIntoView(e){var i,s,n,o,a,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),r=e.outerHeight(),0>n?this.activeMenu.scrollTop(o+n):n+r>a&&this.activeMenu.scrollTop(o+n-a+r));},blur:function blur(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null);},_startOpening:function _startOpening(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t);},this.delay));},_open:function _open(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i);},collapseAll:function collapseAll(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(e),this._removeClass(s.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=s;},this.delay);},_close:function _close(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false");},_closeOnDocumentClick:function _closeOnDocumentClick(e){return!t(e.target).closest(".ui-menu").length;},_isDivider:function _isDivider(t){return!/[^\-\u2014\u2013\s]/.test(t.text());},collapse:function collapse(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e));},expand:function expand(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e);}));},next:function next(t){this._move("next","first",t);},previous:function previous(t){this._move("prev","last",t);},isFirstItem:function isFirstItem(){return this.active&&!this.active.prevAll(".ui-menu-item").length;},isLastItem:function isLastItem(){return this.active&&!this.active.nextAll(".ui-menu-item").length;},_move:function _move(t,e,i){var s;this.active&&(s="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[e]()),this.focus(i,s);},nextPage:function nextPage(e){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),0>i.offset().top-s-n;}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(e),void 0);},previousPage:function previousPage(e){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s+n>0;}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first())),void 0):(this.next(e),void 0);},_hasScroll:function _hasScroll(){return this.element.outerHeight()<this.element.prop("scrollHeight");},select:function select(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i);},_filterMenuItems:function _filterMenuItems(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),s=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return s.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()));});}}),t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function _create(){var e,i,s,n=this.element[0].nodeName.toLowerCase(),o="textarea"===n,a="input"===n;this.isMultiLine=o||!a&&this._isContentEditable(this.element),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function keydown(n){if(this.element.prop("readOnly"))return e=!0,s=!0,i=!0,void 0;e=!1,s=!1,i=!1;var o=t.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",n);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",n);break;case o.UP:e=!0,this._keyEvent("previous",n);break;case o.DOWN:e=!0,this._keyEvent("next",n);break;case o.ENTER:this.menu.active&&(e=!0,n.preventDefault(),this.menu.select(n));break;case o.TAB:this.menu.active&&this.menu.select(n);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n);}},keypress:function keypress(s){if(e)return e=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault(),void 0;if(!i){var n=t.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s);}}},input:function input(t){return s?(s=!1,t.preventDefault(),void 0):(this._searchTimeout(t),void 0);},focus:function focus(){this.selectedItem=null,this.previous=this._value();},blur:function blur(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(t),this._change(t),void 0);}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function mousedown(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus");});},menufocus:function menufocus(e,i){var s,n;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent);}),void 0):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:n})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value),s=i.item.attr("aria-label")||n.value,s&&t.trim(s).length&&(this.liveRegion.children().hide(),t("<div>").text(s).appendTo(this.liveRegion)),void 0);},menuselect:function menuselect(e,i){var s=i.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=s;})),!1!==this._trigger("select",e,{item:s})&&this._value(s.value),this.term=this._value(),this.close(e),this.selectedItem=s;}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function beforeunload(){this.element.removeAttr("autocomplete");}});},_destroy:function _destroy(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove();},_setOption:function _setOption(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort();},_isEventTargetInWidget:function _isEventTargetInWidget(e){var i=this.menu.element[0];return e.target===this.element[0]||e.target===i||t.contains(i,e.target);},_closeOnClickOutside:function _closeOnClickOutside(t){this._isEventTargetInWidget(t)||this.close();},_appendTo:function _appendTo(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e;},_initSource:function _initSource(){var e,i,s=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,s){s(t.ui.autocomplete.filter(e,i.term));}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,n){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:i,data:e,dataType:"json",success:function success(t){n(t);},error:function error(){n([]);}});}):this.source=this.options.source;},_searchTimeout:function _searchTimeout(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),i=this.menu.element.is(":visible"),s=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;(!e||e&&!i&&!s)&&(this.selectedItem=null,this.search(null,t));},this.options.delay);},search:function search(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0;},_search:function _search(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response());},_response:function _response(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading");},this);},__response:function __response(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close();},close:function close(t){this.cancelSearch=!0,this._close(t);},_close:function _close(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t));},_change:function _change(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem});},_normalize:function _normalize(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label});});},_suggest:function _suggest(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"});},_resizeMenu:function _resizeMenu(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()));},_renderMenu:function _renderMenu(e,i){var s=this;t.each(i,function(t,i){s._renderItemData(e,i);});},_renderItemData:function _renderItemData(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e);},_renderItem:function _renderItem(e,i){return t("<li>").append(t("<div>").text(i.label)).appendTo(e);},_move:function _move(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[t](e),void 0):(this.search(null,e),void 0);},widget:function widget(){return this.menu.element;},_value:function _value(){return this.valueMethod.apply(this.element,arguments);},_keyEvent:function _keyEvent(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault());},_isContentEditable:function _isContentEditable(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e;}}),t.extend(t.ui.autocomplete,{escapeRegex:function escapeRegex(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");},filter:function filter(e,i){var s=RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return s.test(t.label||t.value||t);});}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function results(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate.";}}},__response:function __response(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion));}}),t.ui.autocomplete;var d=/ui-corner-([a-z]){2,6}/g;t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function _create(){this._enhance();},_enhance:function _enhance(){this.element.attr("role","toolbar"),this.refresh();},_destroy:function _destroy(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap();},_initWidgets:function _initWidgets(){var e=this,i=[];t.each(this.options.items,function(s,n){var o,a={};return n?"controlgroupLabel"===s?(o=e.element.find(n),o.each(function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>");}),e._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),i=i.concat(o.get()),void 0):(t.fn[s]&&(a=e["_"+s+"Options"]?e["_"+s+"Options"]("middle"):{classes:{}},e.element.find(n).each(function(){var n=t(this),o=n[s]("instance"),r=t.widget.extend({},a);if("button"!==s||!n.parent(".ui-spinner").length){o||(o=n[s]()[s]("instance")),o&&(r.classes=e._resolveClassesValues(r.classes,o)),n[s](r);var h=n[s]("widget");t.data(h[0],"ui-controlgroup-data",o?o:n[s]("instance")),i.push(h[0]);}})),void 0):void 0;}),this.childWidgets=t(t.unique(i)),this._addClass(this.childWidgets,"ui-controlgroup-item");},_callChildMethod:function _callChildMethod(e){this.childWidgets.each(function(){var i=t(this),s=i.data("ui-controlgroup-data");s&&s[e]&&s[e]();});},_updateCornerClass:function _updateCornerClass(t,e){var i="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",s=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,i),this._addClass(t,null,s);},_buildSimpleOptions:function _buildSimpleOptions(t,e){var i="vertical"===this.options.direction,s={classes:{}};return s.classes[e]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[t],s;},_spinnerOptions:function _spinnerOptions(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e;},_buttonOptions:function _buttonOptions(t){return this._buildSimpleOptions(t,"ui-button");},_checkboxradioOptions:function _checkboxradioOptions(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label");},_selectmenuOptions:function _selectmenuOptions(t){var e="vertical"===this.options.direction;return{width:e?"auto":!1,classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]};},_resolveClassesValues:function _resolveClassesValues(e,i){var s={};return t.each(e,function(n){var o=i.options.classes[n]||"";o=t.trim(o.replace(d,"")),s[n]=(o+" "+e[n]).replace(/\s+/g," ");}),s;},_setOption:function _setOption(t,e){return"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"===t?(this._callChildMethod(e?"disable":"enable"),void 0):(this.refresh(),void 0);},refresh:function refresh(){var e,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(t,s){var n=e[s]().data("ui-controlgroup-data");if(n&&i["_"+n.widgetName+"Options"]){var o=i["_"+n.widgetName+"Options"](1===e.length?"only":s);o.classes=i._resolveClassesValues(o.classes,n),n.element[n.widgetName](o);}else i._updateCornerClass(e[s](),s);}),this._callChildMethod("refresh"));}}),t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function _getCreateOptions(){var e,i,s=this,n=this._super()||{};return this._readType(),i=this.element.labels(),this.label=t(i[i.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){s.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML;}),this.originalLabel&&(n.label=this.originalLabel),e=this.element[0].disabled,null!=e&&(n.disabled=e),n;},_create:function _create(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function focus(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus");},blur:function blur(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus");}});},_readType:function _readType(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type);},_enhance:function _enhance(){this._updateIcon(this.element[0].checked);},widget:function widget(){return this.label;},_getRadioGroup:function _getRadioGroup(){var e,i=this.element[0].name,s="input[name='"+t.ui.escapeSelector(i)+"']";return i?(e=this.form.length?t(this.form[0].elements).filter(s):t(s).filter(function(){return 0===t(this).form().length;}),e.not(this.element)):t([]);},_toggleClasses:function _toggleClasses(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active");});},_destroy:function _destroy(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove());},_setOption:function _setOption(t,e){return"label"!==t||e?(this._super(t,e),"disabled"===t?(this._toggleClass(this.label,null,"ui-state-disabled",e),this.element[0].disabled=e,void 0):(this.refresh(),void 0)):void 0;},_updateIcon:function _updateIcon(e){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon);},_updateLabel:function _updateLabel(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label);},refresh:function refresh(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e});}}]),t.ui.checkboxradio,t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function _getCreateOptions(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),t=this.element[0].disabled,null!=t&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e;},_create:function _create(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function keyup(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"));}});},_enhance:function _enhance(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip());},_updateTooltip:function _updateTooltip(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label);},_updateIcon:function _updateIcon(e,i){var s="iconPosition"!==e,n=s?this.options.iconPosition:i,o="top"===n||"bottom"===n;this.icon?s&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),s&&this._addClass(this.icon,null,i),this._attachIcon(n),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(n));},_destroy:function _destroy(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title");},_attachIconSpace:function _attachIconSpace(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace);},_attachIcon:function _attachIcon(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon);},_setOptions:function _setOptions(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,i=void 0===t.icon?this.options.icon:t.icon;e||i||(t.showLabel=!0),this._super(t);},_setOption:function _setOption(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur());},refresh:function refresh(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip();}}),t.uiBackCompat!==!1&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function _create(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super();},_setOption:function _setOption(t,e){return"text"===t?(this._super("showLabel",e),void 0):("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments),void 0);}}),t.fn.button=function(e){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments));};}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==_typeof(arguments[0])&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments));}),t.ui.button,t.extend(t.ui,{datepicker:{version:"1.12.1"}});var p;t.extend(s.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function _widgetDatepicker(){return this.dpDiv;},setDefaults:function setDefaults(t){return a(this._defaults,t||{}),this;},_attachDatepicker:function _attachDatepicker(e,i){var s,n,o;s=e.nodeName.toLowerCase(),n="div"===s||"span"===s,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),n),o.settings=t.extend({},i||{}),"input"===s?this._connectDatepicker(e,o):n&&this._inlineDatepicker(e,o);},_newInst:function _newInst(e,i){var s=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv};},_connectDatepicker:function _connectDatepicker(e,i){var s=t(e);i.append=t([]),i.trigger=t([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e));},_attachments:function _attachments(e,i){var s,n,o,a=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[r?"before":"after"](i.append)),e.off("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,"showOn"),("focus"===s||"both"===s)&&e.on("focus",this._showDatepicker),("button"===s||"both"===s)&&(n=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:n,title:n}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:n,title:n}):n)),e[r?"before":"after"](i.trigger),i.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1;}));},_autoSize:function _autoSize(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,s,n,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function e(t){for(i=0,s=0,n=0;t.length>n;n++){t[n].length>i&&(i=t[n].length,s=n);}return s;},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length);}},_inlineDatepicker:function _inlineDatepicker(e,i){var s=t(e);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"));},_dialogDatepicker:function _dialogDatepicker(e,i,s,n,o){var r,h,l,c,u,d=this._dialogInst;return d||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},t.data(this._dialogInput[0],"datepicker",d)),a(d.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(d,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(h=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+c,l/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",d),this;},_destroyDatepicker:function _destroyDatepicker(e){var i,s=t(e),n=t.data(e,"datepicker");s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===i||"span"===i)&&s.removeClass(this.markerClassName).empty(),p===n&&(p=null));},_enableDatepicker:function _enableDatepicker(e){var i,s,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1;}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t;}));},_disableDatepicker:function _disableDatepicker(e){var i,s,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0;}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t;}),this._disabledInputs[this._disabledInputs.length]=e);},_isDisabledDatepicker:function _isDisabledDatepicker(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++){if(this._disabledInputs[e]===t)return!0;}return!1;},_getInst:function _getInst(e){try{return t.data(e,"datepicker");}catch(i){throw"Missing instance data for this datepicker";}},_optionDatepicker:function _optionDatepicker(e,i,s){var n,o,r,h,l=this._getInst(e);return 2===arguments.length&&"string"==typeof i?"defaults"===i?t.extend({},t.datepicker._defaults):l?"all"===i?t.extend({},l.settings):this._get(l,i):null:(n=i||{},"string"==typeof i&&(n={},n[i]=s),l&&(this._curInst===l&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),r=this._getMinMaxDate(l,"min"),h=this._getMinMaxDate(l,"max"),a(l.settings,n),null!==r&&void 0!==n.dateFormat&&void 0===n.minDate&&(l.settings.minDate=this._formatDate(l,r)),null!==h&&void 0!==n.dateFormat&&void 0===n.maxDate&&(l.settings.maxDate=this._formatDate(l,h)),"disabled"in n&&(n.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),l),this._autoSize(l),this._setDate(l,o),this._updateAlternate(l),this._updateDatepicker(l)),void 0);},_changeDatepicker:function _changeDatepicker(t,e,i){this._optionDatepicker(t,e,i);},_refreshDatepicker:function _refreshDatepicker(t){var e=this._getInst(t);e&&this._updateDatepicker(e);},_setDateDatepicker:function _setDateDatepicker(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i));},_getDateDatepicker:function _getDateDatepicker(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null;},_doKeyDown:function _doKeyDown(e){var i,s,n,o=t.datepicker._getInst(e.target),a=!0,r=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return n=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),n[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,n[0]),i=t.datepicker._get(o,"onSelect"),i?(s=t.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[s,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1;}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation());},_doKeyPress:function _doKeyPress(e){var i,s,n=t.datepicker._getInst(e.target);return t.datepicker._get(n,"constrainInput")?(i=t.datepicker._possibleChars(t.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">s||!i||i.indexOf(s)>-1):void 0;},_doKeyUp:function _doKeyUp(e){var i,s=t.datepicker._getInst(e.target);if(s.input.val()!==s.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,t.datepicker._getFormatConfig(s)),i&&(t.datepicker._setDateFromField(s),t.datepicker._updateAlternate(s),t.datepicker._updateDatepicker(s));}catch(n){}return!0;},_showDatepicker:function _showDatepicker(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var s,n,o,r,h,l,c;s=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==s&&(t.datepicker._curInst.dpDiv.stop(!0,!0),s&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),n=t.datepicker._get(s,"beforeShow"),o=n?n.apply(e,[e,s]):{},o!==!1&&(a(s.settings,o),s.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(s),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),r=!1,t(e).parents().each(function(){return r|="fixed"===t(this).css("position"),!r;}),h={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,s.dpDiv.empty(),s.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(s),h=t.datepicker._checkOffset(s,h,r),s.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":r?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),s.inline||(l=t.datepicker._get(s,"showAnim"),c=t.datepicker._get(s,"duration"),s.dpDiv.css("z-index",i(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?s.dpDiv.show(l,t.datepicker._get(s,"showOptions"),c):s.dpDiv[l||"show"](l?c:null),t.datepicker._shouldFocusInput(s)&&s.input.trigger("focus"),t.datepicker._curInst=s));}},_updateDatepicker:function _updateDatepicker(e){this.maxRows=4,p=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,s=this._getNumberOfMonths(e),n=s[1],a=17,r=e.dpDiv.find("."+this._dayOverClass+" a");r.length>0&&o.apply(r.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&e.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",a*n+"em"),e.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null;},0));},_shouldFocusInput:function _shouldFocusInput(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus");},_checkOffset:function _checkOffset(e,i,s){var n=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:t(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?n-a:0,i.left-=s&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=s&&i.top===e.input.offset().top+r?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>h&&h>n?Math.abs(i.left+n-h):0),i.top-=Math.min(i.top,i.top+o>l&&l>o?Math.abs(o+r):0),i;},_findPos:function _findPos(e){for(var i,s=this._getInst(e),n=this._get(s,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));){e=e[n?"previousSibling":"nextSibling"];}return i=t(e).offset(),[i.left,i.top];},_hideDatepicker:function _hideDatepicker(e){var i,s,n,o,a=this._curInst;!a||e&&a!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(a,"showAnim"),s=this._get(a,"duration"),n=function n(){t.datepicker._tidyDialog(a);},t.effects&&(t.effects.effect[i]||t.effects[i])?a.dpDiv.hide(i,t.datepicker._get(a,"showOptions"),s,n):a.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,o=this._get(a,"onClose"),o&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1);},_tidyDialog:function _tidyDialog(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar");},_checkExternalClick:function _checkExternalClick(e){if(t.datepicker._curInst){var i=t(e.target),s=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==s)&&t.datepicker._hideDatepicker();}},_adjustDate:function _adjustDate(e,i,s){var n=t(e),o=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(o,i+("M"===s?this._get(o,"showCurrentAtPos"):0),s),this._updateDatepicker(o));},_gotoToday:function _gotoToday(e){var i,s=t(e),n=this._getInst(s[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date(),n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s);},_selectMonthYear:function _selectMonthYear(e,i,s){var n=t(e),o=this._getInst(n[0]);o["selected"+("M"===s?"Month":"Year")]=o["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(n);},_selectDay:function _selectDay(e,i,s,n){var o,a=t(e);t(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=t("a",n).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=s,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)));},_clearDate:function _clearDate(e){var i=t(e);this._selectDate(i,"");},_selectDate:function _selectDate(e,i){var s,n=t(e),o=this._getInst(n[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),s=this._get(o,"onSelect"),s?s.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=_typeof(o.input[0])&&o.input.trigger("focus"),this._lastInput=null);},_updateAlternate:function _updateAlternate(e){var i,s,n,o=this._get(e,"altField");o&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),s=this._getDate(e),n=this.formatDate(i,s,this._getFormatConfig(e)),t(o).val(n));},noWeekends:function noWeekends(t){var e=t.getDay();return[e>0&&6>e,""];},iso8601Week:function iso8601Week(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1;},parseDate:function parseDate(e,i,s){if(null==e||null==i)throw"Invalid arguments";if(i="object"==(typeof i==="undefined"?"undefined":_typeof(i))?""+i:i+"",""===i)return null;var n,o,a,r,h=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof l?l:new Date().getFullYear()%100+parseInt(l,10),u=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,d=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,_=-1,v=-1,b=!1,y=function y(t){var i=e.length>n+1&&e.charAt(n+1)===t;return i&&n++,i;},w=function w(t){var e=y(t),s="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,n="y"===t?s:1,o=RegExp("^\\d{"+n+","+s+"}"),a=i.substring(h).match(o);if(!a)throw"Missing number at position "+h;return h+=a[0].length,parseInt(a[0],10);},x=function x(e,s,n){var o=-1,a=t.map(y(e)?n:s,function(t,e){return[[e,t]];}).sort(function(t,e){return-(t[1].length-e[1].length);});if(t.each(a,function(t,e){var s=e[1];return i.substr(h,s.length).toLowerCase()===s.toLowerCase()?(o=e[0],h+=s.length,!1):void 0;}),-1!==o)return o+1;throw"Unknown name at position "+h;},k=function k(){if(i.charAt(h)!==e.charAt(n))throw"Unexpected literal at position "+h;h++;};for(n=0;e.length>n;n++){if(b)"'"!==e.charAt(n)||y("'")?k():b=!1;else switch(e.charAt(n)){case"d":_=w("d");break;case"D":x("D",u,d);break;case"o":v=w("o");break;case"m":m=w("m");break;case"M":m=x("M",p,f);break;case"y":g=w("y");break;case"@":r=new Date(w("@")),g=r.getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case"!":r=new Date((w("!")-this._ticksTo1970)/1e4),g=r.getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case"'":y("'")?k():b=!0;break;default:k();}}if(i.length>h&&(a=i.substr(h),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===g?g=new Date().getFullYear():100>g&&(g+=new Date().getFullYear()-new Date().getFullYear()%100+(c>=g?0:-100)),v>-1)for(m=1,_=v;;){if(o=this._getDaysInMonth(g,m-1),o>=_)break;m++,_-=o;}if(r=this._daylightSavingAdjust(new Date(g,m-1,_)),r.getFullYear()!==g||r.getMonth()+1!==m||r.getDate()!==_)throw"Invalid date";return r;},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function formatDate(t,e,i){if(!e)return"";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,h=function h(e){var i=t.length>s+1&&t.charAt(s+1)===e;return i&&s++,i;},l=function l(t,e,i){var s=""+e;if(h(t))for(;i>s.length;){s="0"+s;}return s;},c=function c(t,e,i,s){return h(t)?s[e]:i[e];},u="",d=!1;if(e)for(s=0;t.length>s;s++){if(d)"'"!==t.charAt(s)||h("'")?u+=t.charAt(s):d=!1;else switch(t.charAt(s)){case"d":u+=l("d",e.getDate(),2);break;case"D":u+=c("D",e.getDay(),n,o);break;case"o":u+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=l("m",e.getMonth()+1,2);break;case"M":u+=c("M",e.getMonth(),a,r);break;case"y":u+=h("y")?e.getFullYear():(10>e.getFullYear()%100?"0":"")+e.getFullYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":h("'")?u+="'":d=!0;break;default:u+=t.charAt(s);}}return u;},_possibleChars:function _possibleChars(t){var e,i="",s=!1,n=function n(i){var s=t.length>e+1&&t.charAt(e+1)===i;return s&&e++,s;};for(e=0;t.length>e;e++){if(s)"'"!==t.charAt(e)||n("'")?i+=t.charAt(e):s=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":s=!0;break;default:i+=t.charAt(e);}}return i;},_get:function _get(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e];},_setDateFromField:function _setDateFromField(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),s=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),o=n,a=this._getFormatConfig(t);try{o=this.parseDate(i,s,a)||n;}catch(r){s=e?"":s;}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=s?o.getDate():0,t.currentMonth=s?o.getMonth():0,t.currentYear=s?o.getFullYear():0,this._adjustInstDate(t);}},_getDefaultDate:function _getDefaultDate(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date()));},_determineDate:function _determineDate(e,i,s){var n=function n(t){var e=new Date();return e.setDate(e.getDate()+t),e;},o=function o(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e));}catch(s){}for(var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date(),o=n.getFullYear(),a=n.getMonth(),r=n.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(i);l;){switch(l[2]||"d"){case"d":case"D":r+=parseInt(l[1],10);break;case"w":case"W":r+=7*parseInt(l[1],10);break;case"m":case"M":a+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a));break;case"y":case"Y":o+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a));}l=h.exec(i);}return new Date(o,a,r);},a=null==i||""===i?s:"string"==typeof i?o(i):"number"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());return a=a&&"Invalid Date"==""+a?s:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a);},_daylightSavingAdjust:function _daylightSavingAdjust(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null;},_setDate:function _setDate(t,e,i){var s=!e,n=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date()));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),n===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(s?"":this._formatDate(t));},_getDate:function _getDate(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e;},_attachHandlers:function _attachHandlers(e){var i=this._get(e,"stepMonths"),s="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function prev(){t.datepicker._adjustDate(s,-i,"M");},next:function next(){t.datepicker._adjustDate(s,+i,"M");},hide:function hide(){t.datepicker._hideDatepicker();},today:function today(){t.datepicker._gotoToday(s);},selectDay:function selectDay(){return t.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1;},selectMonth:function selectMonth(){return t.datepicker._selectMonthYear(s,this,"M"),!1;},selectYear:function selectYear(){return t.datepicker._selectMonthYear(s,this,"Y"),!1;}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")]);});},_generateHTML:function _generateHTML(t){var e,i,s,n,o,a,r,h,l,c,u,d,p,f,g,m,_,v,b,y,w,x,k,C,D,P,I,T,S,z,M,H,O,W,E,A,N,F,R,L=new Date(),B=this._daylightSavingAdjust(new Date(L.getFullYear(),L.getMonth(),L.getDate())),Y=this._get(t,"isRTL"),j=this._get(t,"showButtonPanel"),q=this._get(t,"hideIfNoPrevNext"),K=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),X=this._get(t,"stepMonths"),$=1!==U[0]||1!==U[1],G=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(t,"min"),Z=this._getMinMaxDate(t,"max"),J=t.drawMonth-V,te=t.drawYear;if(0>J&&(J+=12,te--),Z)for(e=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-U[0]*U[1]+1,Z.getDate())),e=Q&&Q>e?Q:e;this._daylightSavingAdjust(new Date(te,J,1))>e;){J--,0>J&&(J=11,te--);}for(t.drawMonth=J,t.drawYear=te,i=this._get(t,"prevText"),i=K?this.formatDate(i,this._daylightSavingAdjust(new Date(te,J-X,1)),this._getFormatConfig(t)):i,s=this._canAdjustMonth(t,-1,te,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>":q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>",n=this._get(t,"nextText"),n=K?this.formatDate(n,this._daylightSavingAdjust(new Date(te,J+X,1)),this._getFormatConfig(t)):n,o=this._canAdjustMonth(t,1,te,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>":q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>",a=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?G:B,a=K?this.formatDate(a,r,this._getFormatConfig(t)):a,h=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",l=j?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Y?h:"")+(this._isInRange(t,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(Y?"":h)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,u=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),_=this._get(t,"showOtherMonths"),v=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),y="",x=0;U[0]>x;x++){for(k="",this.maxRows=4,C=0;U[1]>C;C++){if(D=this._daylightSavingAdjust(new Date(te,J,t.selectedDay)),P=" ui-corner-all",I="",$){if(I+="<div class='ui-datepicker-group",U[1]>1)switch(C){case 0:I+=" ui-datepicker-group-first",P=" ui-corner-"+(Y?"right":"left");break;case U[1]-1:I+=" ui-datepicker-group-last",P=" ui-corner-"+(Y?"left":"right");break;default:I+=" ui-datepicker-group-middle",P="";}I+="'>";}for(I+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+P+"'>"+(/all|left/.test(P)&&0===x?Y?o:s:"")+(/all|right/.test(P)&&0===x?Y?s:o:"")+this._generateMonthYearHeader(t,J,te,Q,Z,x>0||C>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",T=u?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;7>w;w++){S=(w+c)%7,T+="<th scope='col'"+((w+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+d[S]+"'>"+p[S]+"</span></th>";}for(I+=T+"</tr></thead><tbody>",z=this._getDaysInMonth(te,J),te===t.selectedYear&&J===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,z)),M=(this._getFirstDayOfMonth(te,J)-c+7)%7,H=Math.ceil((M+z)/7),O=$?this.maxRows>H?this.maxRows:H:H,this.maxRows=O,W=this._daylightSavingAdjust(new Date(te,J,1-M)),E=0;O>E;E++){for(I+="<tr>",A=u?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(W)+"</td>":"",w=0;7>w;w++){N=m?m.apply(t.input?t.input[0]:null,[W]):[!0,""],F=W.getMonth()!==J,R=F&&!v||!N[0]||Q&&Q>W||Z&&W>Z,A+="<td class='"+((w+c+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(W.getTime()===D.getTime()&&J===t.selectedMonth&&t._keyEvent||b.getTime()===W.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(R?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!_?"":" "+N[1]+(W.getTime()===G.getTime()?" "+this._currentClass:"")+(W.getTime()===B.getTime()?" ui-datepicker-today":""))+"'"+(F&&!_||!N[2]?"":" title='"+N[2].replace(/'/g,"&#39;")+"'")+(R?"":" data-handler='selectDay' data-event='click' data-month='"+W.getMonth()+"' data-year='"+W.getFullYear()+"'")+">"+(F&&!_?"&#xa0;":R?"<span class='ui-state-default'>"+W.getDate()+"</span>":"<a class='ui-state-default"+(W.getTime()===B.getTime()?" ui-state-highlight":"")+(W.getTime()===G.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+W.getDate()+"</a>")+"</td>",W.setDate(W.getDate()+1),W=this._daylightSavingAdjust(W);}I+=A+"</tr>";}J++,J>11&&(J=0,te++),I+="</tbody></table>"+($?"</div>"+(U[0]>0&&C===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=I;}y+=k;}return y+=l,t._keyEvent=!1,y;},_generateMonthYearHeader:function _generateMonthYearHeader(t,e,i,s,n,o,a,r){var h,l,c,u,d,p,f,g,m=this._get(t,"changeMonth"),_=this._get(t,"changeYear"),v=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",y="";if(o||!m)y+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++){(!h||c>=s.getMonth())&&(!l||n.getMonth()>=c)&&(y+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+r[c]+"</option>");}y+="</select>";}if(v||(b+=y+(!o&&m&&_?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!_)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(t,"yearRange").split(":"),d=new Date().getFullYear(),p=function p(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e;},f=p(u[0]),g=Math.max(f,p(u[1]||"")),f=s?Math.max(f,s.getFullYear()):f,g=n?Math.min(g,n.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=f;f++){t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";}t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null;}return b+=this._get(t,"yearSuffix"),v&&(b+=(!o&&m&&_?"":"&#xa0;")+y),b+="</div>";},_adjustInstDate:function _adjustInstDate(t,e,i){var s=t.selectedYear+("Y"===i?e:0),n=t.selectedMonth+("M"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(s,n))+("D"===i?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(s,n,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t);},_restrictMinMax:function _restrictMinMax(t,e){var i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),n=i&&i>e?i:e;return s&&n>s?s:n;},_notifyChange:function _notifyChange(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t]);},_getNumberOfMonths:function _getNumberOfMonths(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e;},_getMinMaxDate:function _getMinMaxDate(t,e){return this._determineDate(t,this._get(t,e+"Date"),null);},_getDaysInMonth:function _getDaysInMonth(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate();},_getFirstDayOfMonth:function _getFirstDayOfMonth(t,e){return new Date(t,e,1).getDay();},_canAdjustMonth:function _canAdjustMonth(t,e,i,s){var n=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,s+(0>e?e:n[0]*n[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o);},_isInRange:function _isInRange(t,e){var i,s,n=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,r=null,h=this._get(t,"yearRange");return h&&(i=h.split(":"),s=new Date().getFullYear(),a=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||e.getTime()>=n.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!r||r>=e.getFullYear());},_getFormatConfig:function _getFormatConfig(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:new Date().getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")};},_formatDate:function _formatDate(t,e,i,s){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var n=e?"object"==(typeof e==="undefined"?"undefined":_typeof(e))?e:this._daylightSavingAdjust(new Date(s,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),n,this._getFormatConfig(t));}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e);}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i));},t.datepicker=new s(),t.datepicker.initialized=!1,t.datepicker.uuid=new Date().getTime(),t.datepicker.version="1.12.1",t.datepicker,t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function using(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i);}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function _create(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus();},_init:function _init(){this.options.autoOpen&&this.open();},_appendTo:function _appendTo(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0);},_destroy:function _destroy(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element);},widget:function widget(){return this.uiDialog;},disable:t.noop,enable:t.noop,close:function close(e){var i=this;this._isOpen&&this._trigger("beforeClose",e)!==!1&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e);}));},isOpen:function isOpen(){return this._isOpen;},moveToTop:function moveToTop(){this._moveToTop();},_moveToTop:function _moveToTop(e,i){var s=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index");}).get(),o=Math.max.apply(null,n);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),s=!0),s&&!i&&this._trigger("focus",e),s;},open:function open(){var e=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus");}),this._makeFocusTarget(),this._trigger("open"),void 0);},_focusTabbable:function _focusTabbable(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus");},_keepFocus:function _keepFocus(e){function i(){var e=t.ui.safeActiveElement(this.document[0]),i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable();}e.preventDefault(),i.call(this),this._delay(i);},_createWrapper:function _createWrapper(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function keydown(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),this.close(e),void 0;if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),n=i.filter(":last");e.target!==n[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==s[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){n.trigger("focus");}),e.preventDefault()):(this._delay(function(){s.trigger("focus");}),e.preventDefault());}},mousedown:function mousedown(t){this._moveToTop(t)&&this._focusTabbable();}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")});},_createTitlebar:function _createTitlebar(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function mousedown(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus");}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function click(t){t.preventDefault(),this.close(t);}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")});},_title:function _title(t){this.options.title?t.text(this.options.title):t.html("&#160;");},_createButtonPane:function _createButtonPane(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons();},_createButtons:function _createButtons(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?(this._removeClass(this.uiDialog,"ui-dialog-buttons"),void 0):(t.each(i,function(i,s){var n,o;s=t.isFunction(s)?{click:s,text:i}:s,s=t.extend({type:"button"},s),n=s.click,o={icon:s.icon,iconPosition:s.iconPosition,showLabel:s.showLabel,icons:s.icons,text:s.text},delete s.click,delete s.icon,delete s.iconPosition,delete s.showLabel,delete s.icons,"boolean"==typeof s.text&&delete s.text,t("<button></button>",s).button(o).appendTo(e.uiButtonSet).on("click",function(){n.apply(e.element[0],arguments);});}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0);},_makeDraggable:function _makeDraggable(){function e(t){return{position:t.position,offset:t.offset};}var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function start(s,n){i._addClass(t(this),"ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",s,e(n));},drag:function drag(t,s){i._trigger("drag",t,e(s));},stop:function stop(n,o){var a=o.offset.left-i.document.scrollLeft(),r=o.offset.top-i.document.scrollTop();s.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" "+"top"+(r>=0?"+":"")+r,of:i.window},i._removeClass(t(this),"ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,e(o));}});},_makeResizable:function _makeResizable(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size};}var i=this,s=this.options,n=s.resizable,o=this.uiDialog.css("position"),a="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:a,start:function start(s,n){i._addClass(t(this),"ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",s,e(n));},resize:function resize(t,s){i._trigger("resize",t,e(s));},stop:function stop(n,o){var a=i.uiDialog.offset(),r=a.left-i.document.scrollLeft(),h=a.top-i.document.scrollTop();s.height=i.uiDialog.height(),s.width=i.uiDialog.width(),s.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" "+"top"+(h>=0?"+":"")+h,of:i.window},i._removeClass(t(this),"ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,e(o));}}).css("position",o);},_trackFocus:function _trackFocus(){this._on(this.widget(),{focusin:function focusin(e){this._makeFocusTarget(),this._focusedElement=t(e.target);}});},_makeFocusTarget:function _makeFocusTarget(){this._untrackInstance(),this._trackingInstances().unshift(this);},_untrackInstance:function _untrackInstance(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1);},_trackingInstances:function _trackingInstances(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t;},_minHeight:function _minHeight(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height);},_position:function _position(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide();},_setOptions:function _setOptions(e){var i=this,s=!1,n={};t.each(e,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(s=!0),t in i.resizableRelatedOptions&&(n[t]=e);}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n);},_setOption:function _setOption(e,i){var s,n,o=this.uiDialog;"disabled"!==e&&(this._super(e,i),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&(s=o.is(":data(ui-draggable)"),s&&!i&&o.draggable("destroy"),!s&&i&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(n=o.is(":data(ui-resizable)"),n&&!i&&o.resizable("destroy"),n&&"string"==typeof i&&o.resizable("option","handles",i),n||i===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")));},_size:function _size(){var t,e,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),e=Math.max(0,s.minHeight-t),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-t):"none","auto"===s.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight());},_blockFrames:function _blockFrames(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0];});},_unblockFrames:function _unblockFrames(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks);},_allowInteraction:function _allowInteraction(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length;},_createOverlay:function _createOverlay(){if(this.options.modal){var e=!0;this._delay(function(){e=!1;}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function focusin(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable());}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1);}},_destroyOverlay:function _destroyOverlay(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null;}}}),t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function _createWrapper(){this._super(),this.uiDialog.addClass(this.options.dialogClass);},_setOption:function _setOption(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments);}}),t.ui.dialog,t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function _create(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue();},_destroy:function _destroy(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove();},value:function value(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),this._refreshValue(),void 0);},_constrainedValue:function _constrainedValue(t){return void 0===t&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t));},_setOptions:function _setOptions(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue();},_setOption:function _setOption(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e);},_setOptionDisabled:function _setOptionDisabled(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t);},_percentage:function _percentage(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min);},_refreshValue:function _refreshValue(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(i.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete");}}),t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function _create(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t();},_drawButton:function _drawButton(){var e,i=this,s=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function click(t){this.button.focus(),t.preventDefault();}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(s).appendTo(this.button),this.options.width!==!1&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){i._rendered||i._refreshMenu();});},_drawMenu:function _drawMenu(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function select(t,i){t.preventDefault(),e._setSelection(),e._select(i.item.data("ui-selectmenu-item"),t);},focus:function focus(t,i){var s=i.item.data("ui-selectmenu-item");null!=e.focusIndex&&s.index!==e.focusIndex&&(e._trigger("focus",t,{item:s}),e.isOpen||e._select(s,t)),e.focusIndex=s.index,e.button.attr("aria-activedescendant",e.menuItems.eq(s.index).attr("id"));}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1;},this.menuInstance._isDivider=function(){return!1;};},refresh:function refresh(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton();},_refreshMenu:function _refreshMenu(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")));},open:function open(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)));},_position:function _position(){this.menuWrap.position(t.extend({of:this.button},this.options.position));},close:function close(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t));},widget:function widget(){return this.button;},menuWidget:function menuWidget(){return this.menu;},_renderButtonItem:function _renderButtonItem(e){var i=t("<span>");return this._setText(i,e.label),this._addClass(i,"ui-selectmenu-text"),i;},_renderMenu:function _renderMenu(e,i){var s=this,n="";t.each(i,function(i,o){var a;o.optgroup!==n&&(a=t("<li>",{text:o.optgroup}),s._addClass(a,"ui-selectmenu-optgroup","ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),a.appendTo(e),n=o.optgroup),s._renderItemData(e,o);});},_renderItemData:function _renderItemData(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e);},_renderItem:function _renderItem(e,i){var s=t("<li>"),n=t("<div>",{title:i.element.attr("title")});return i.disabled&&this._addClass(s,null,"ui-state-disabled"),this._setText(n,i.label),s.append(n).appendTo(e);},_setText:function _setText(t,e){e?t.text(e):t.html("&#160;");},_move:function _move(t,e){var i,s,n=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent("li"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),n+=":not(.ui-state-disabled)"),s="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](n).eq(-1):i[t+"All"](n).eq(0),s.length&&this.menuInstance.focus(e,s);},_getSelectedItem:function _getSelectedItem(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li");},_toggle:function _toggle(t){this[this.isOpen?"close":"open"](t);},_setSelection:function _setSelection(){var t;this.range&&(window.getSelection?(t=window.getSelection(),t.removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus());},_documentClick:{mousedown:function mousedown(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e));}},_buttonEvents:{mousedown:function mousedown(){var t;window.getSelection?(t=window.getSelection(),t.rangeCount&&(this.range=t.getRangeAt(0))):this.range=document.selection.createRange();},click:function click(t){this._setSelection(),this._toggle(t);},keydown:function keydown(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1;}i&&e.preventDefault();}},_selectFocusedItem:function _selectFocusedItem(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t);},_select:function _select(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e);},_setAria:function _setAria(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e);},_setOption:function _setOption(t,e){if("icons"===t){var i=this.button.find("span.ui-icon");this._removeClass(i,null,this.options.icons.button)._addClass(i,null,e.button);}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton();},_setOptionDisabled:function _setOptionDisabled(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0);},_appendTo:function _appendTo(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e;},_toggleAttr:function _toggleAttr(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen);},_resizeButton:function _resizeButton(){var t=this.options.width;return t===!1?(this.button.css("width",""),void 0):(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t),void 0);},_resizeMenu:function _resizeMenu(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1));},_getCreateOptions:function _getCreateOptions(){var t=this._super();return t.disabled=this.element.prop("disabled"),t;},_parseOptions:function _parseOptions(e){var i=this,s=[];e.each(function(e,n){s.push(i._parseOption(t(n),e));}),this.items=s;},_parseOption:function _parseOption(t,e){var i=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||t.prop("disabled")};},_destroy:function _destroy(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element);}}]),t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function _create(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1;},_refresh:function _refresh(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue();},_createHandles:function _createHandles(){var e,i,s=this.options,n=this.element.find(".ui-slider-handle"),o="<span tabindex='0'></span>",a=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),e=n.length;i>e;e++){a.push(o);}this.handles=n.add(t(a.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0);});},_createRange:function _createRange(){var e=this.options;e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),("min"===e.range||"max"===e.range)&&this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null);},_setupEvents:function _setupEvents(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles);},_destroy:function _destroy(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy();},_mouseCapture:function _mouseCapture(e){var i,s,n,o,a,r,h,l,c=this,u=this.options;return u.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-c.values(e));(n>i||n===i&&(e===c._lastChangedValue||c.values(e)===u.min))&&(n=i,o=t(this),a=e);}),r=this._start(e,a),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),h=o.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-h.left-o.width()/2,top:e.pageY-h.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,s),this._animateOff=!0,!0));},_mouseStart:function _mouseStart(){return!0;},_mouseDrag:function _mouseDrag(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1;},_mouseStop:function _mouseStop(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1;},_detectOrientation:function _detectOrientation(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal";},_normValueFromMouse:function _normValueFromMouse(t){var e,i,s,n,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/e,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),o=this._valueMin()+s*n,this._trimAlignValue(o);},_uiHash:function _uiHash(t,e,i){var s={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(s.value=void 0!==e?e:this.values(t),s.values=i||this.values()),s;},_hasMultipleValues:function _hasMultipleValues(){return this.options.values&&this.options.values.length;},_start:function _start(t,e){return this._trigger("start",t,this._uiHash(e));},_slide:function _slide(t,e,i){var s,n,o=this.value(),a=this.values();this._hasMultipleValues()&&(n=this.values(e?0:1),o=this.values(e),2===this.options.values.length&&this.options.range===!0&&(i=0===e?Math.min(n,i):Math.max(n,i)),a[e]=i),i!==o&&(s=this._trigger("slide",t,this._uiHash(e,i,a)),s!==!1&&(this._hasMultipleValues()?this.values(e,i):this.value(i)));},_stop:function _stop(t,e){this._trigger("stop",t,this._uiHash(e));},_change:function _change(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)));},value:function value(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),this._change(null,0),void 0):this._value();},values:function values(e,i){var s,n,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e),void 0;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(s=this.options.values,n=arguments[0],o=0;s.length>o;o+=1){s[o]=this._trimAlignValue(n[o]),this._change(null,o);}this._refreshValue();},_setOption:function _setOption(e,i){var s,n=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(n=this.options.values.length),this._super(e,i),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=n-1;s>=0;s--){this._change(null,s);}this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1;}},_setOptionDisabled:function _setOptionDisabled(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t);},_value:function _value(){var t=this.options.value;return t=this._trimAlignValue(t);},_values:function _values(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(i=this.options.values.slice(),s=0;i.length>s;s+=1){i[s]=this._trimAlignValue(i[s]);}return i;}return[];},_trimAlignValue:function _trimAlignValue(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5));},_calculateNewMax:function _calculateNewMax(){var t=this.options.max,e=this._valueMin(),i=this.options.step,s=Math.round((t-e)/i)*i;t=s+e,t>this.options.max&&(t-=i),this.max=parseFloat(t.toFixed(this._precision()));},_precision:function _precision(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t;},_precisionOf:function _precisionOf(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1;},_valueMin:function _valueMin(){return this.options.min;},_valueMax:function _valueMax(){return this.max;},_refreshRange:function _refreshRange(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""});},_refreshValue:function _refreshValue(){var e,i,s,n,o,a=this.options.range,r=this.options,h=this,l=this._animateOff?!1:r.animate,c={};this._hasMultipleValues()?this.handles.each(function(s){i=100*((h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())),c["horizontal"===h.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[l?"animate":"css"](c,r.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i;}):(s=this.value(),n=this._valueMin(),o=this._valueMax(),i=o!==n?100*((s-n)/(o-n)):0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](c,r.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:100-i+"%"},r.animate),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:100-i+"%"},r.animate));},_handleEvents:{keydown:function keydown(e){var i,s,n,o,a=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),i=this._start(e,a),i===!1))return;}switch(o=this.options.step,s=n=this._hasMultipleValues()?this.values(a):this.value(),e.keyCode){case t.ui.keyCode.HOME:n=this._valueMin();break;case t.ui.keyCode.END:n=this._valueMax();break;case t.ui.keyCode.PAGE_UP:n=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(s===this._valueMax())return;n=this._trimAlignValue(s+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(s===this._valueMin())return;n=this._trimAlignValue(s-o);}this._slide(e,a,n);},keyup:function keyup(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),this._removeClass(t(e.target),null,"ui-state-active"));}}}),t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function _create(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function beforeunload(){this.element.removeAttr("autocomplete");}});},_getCreateOptions:function _getCreateOptions(){var e=this._super(),i=this.element;return t.each(["min","max","step"],function(t,s){var n=i.attr(s);null!=n&&n.length&&(e[s]=n);}),e;},_events:{keydown:function keydown(t){this._start(t)&&this._keydown(t)&&t.preventDefault();},keyup:"_stop",focus:function focus(){this.previous=this.element.val();},blur:function blur(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t),void 0);},mousewheel:function mousewheel(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t);},100),t.preventDefault();}},"mousedown .ui-spinner-button":function mousedownUiSpinnerButton(e){function i(){var e=this.element[0]===t.ui.safeActiveElement(this.document[0]);e||(this.element.trigger("focus"),this.previous=s,this._delay(function(){this.previous=s;}));}var s;s=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this);}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e);},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function mouseenterUiSpinnerButton(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)===!1?!1:(this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e),void 0):void 0;},"mouseleave .ui-spinner-button":"_stop"},_enhance:function _enhance(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>");},_draw:function _draw(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height());},_keydown:function _keydown(e){var i=this.options,s=t.ui.keyCode;switch(e.keyCode){case s.UP:return this._repeat(null,1,e),!0;case s.DOWN:return this._repeat(null,-1,e),!0;case s.PAGE_UP:return this._repeat(null,i.page,e),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,e),!0;}return!1;},_start:function _start(t){return this.spinning||this._trigger("start",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1;},_repeat:function _repeat(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i);},t),this._spin(e*this.options.step,i);},_spin:function _spin(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++);},_increment:function _increment(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1;},_precision:function _precision(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t;},_precisionOf:function _precisionOf(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1;},_adjustValue:function _adjustValue(t){var e,i,s=this.options;return e=null!==s.min?s.min:0,i=t-e,i=Math.round(i/s.step)*s.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==s.max&&t>s.max?s.max:null!==s.min&&s.min>t?s.min:t;},_stop:function _stop(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t));},_setOption:function _setOption(t,e){var i,s,n;return"culture"===t||"numberFormat"===t?(i=this._parse(this.element.val()),this.options[t]=e,this.element.val(this._format(i)),void 0):(("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(s=this.buttons.first().find(".ui-icon"),this._removeClass(s,null,this.options.icons.up),this._addClass(s,null,e.up),n=this.buttons.last().find(".ui-icon"),this._removeClass(n,null,this.options.icons.down),this._addClass(n,null,e.down)),this._super(t,e),void 0);},_setOptionDisabled:function _setOptionDisabled(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable");},_setOptions:r(function(t){this._super(t);}),_parse:function _parse(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t;},_format:function _format(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t;},_refresh:function _refresh(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())});},isValid:function isValid(){var t=this.value();return null===t?!1:t===this._adjustValue(t);},_value:function _value(t,e){var i;""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh();},_destroy:function _destroy(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element);},stepUp:r(function(t){this._stepUp(t);}),_stepUp:function _stepUp(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop());},stepDown:r(function(t){this._stepDown(t);}),_stepDown:function _stepDown(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop());},pageUp:r(function(t){this._stepUp((t||1)*this.options.page);}),pageDown:r(function(t){this._stepDown((t||1)*this.options.page);}),value:function value(t){return arguments.length?(r(this._value).call(this,t),void 0):this._parse(this.element.val());},widget:function widget(){return this.uiSpinner;}}),t.uiBackCompat!==!1&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function _enhance(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());},_uiSpinnerHtml:function _uiSpinnerHtml(){return"<span>";},_buttonHtml:function _buttonHtml(){return"<a></a><a></a>";}}),t.ui.spinner,t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var i,s;i=e.href.replace(t,""),s=location.href.replace(t,"");try{i=decodeURIComponent(i);}catch(n){}try{s=decodeURIComponent(s);}catch(n){}return e.hash.length>1&&i===s;};}(),_create:function _create(){var e=this,i=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,i.collapsible),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t);}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active);},_initialActive:function _initialActive(){var e=this.options.active,i=this.options.collapsible,s=location.hash.substring(1);return null===e&&(s&&this.tabs.each(function(i,n){return t(n).attr("aria-controls")===s?(e=i,!1):void 0;}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&(e=i?!1:0)),!i&&e===!1&&this.anchors.length&&(e=0),e;},_getCreateEventData:function _getCreateEventData(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()};},_tabKeydown:function _tabKeydown(e){var i=t(t.ui.safeActiveElement(this.document[0])).closest("li"),s=this.tabs.index(i),n=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:s++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:n=!1,s--;break;case t.ui.keyCode.END:s=this.anchors.length-1;break;case t.ui.keyCode.HOME:s=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),this._activate(s),void 0;case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),this._activate(s===this.options.active?!1:s),void 0;default:return;}e.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,n),e.ctrlKey||e.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(s).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",s);},this.delay));}},_panelKeydown:function _panelKeydown(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"));},_handlePageNav:function _handlePageNav(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0;},_findNextTab:function _findNextTab(e,i){function s(){return e>n&&(e=0),0>e&&(e=n),e;}for(var n=this.tabs.length-1;-1!==t.inArray(s(),this.options.disabled);){e=i?e+1:e-1;}return e;},_focusNextTab:function _focusNextTab(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t;},_setOption:function _setOption(t,e){return"active"===t?(this._activate(e),void 0):(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e),void 0);},_sanitizeSelector:function _sanitizeSelector(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):"";},refresh:function refresh(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t);}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh();},_refresh:function _refresh(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0);},_processTabs:function _processTabs(){var e=this,i=this.tabs,s=this.anchors,n=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){t(this).is(".ui-state-disabled")&&e.preventDefault();}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur();}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0];}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(i,s){var n,o,a,r=t(s).uniqueId().attr("id"),h=t(s).closest("li"),l=h.attr("aria-controls");e._isLocal(s)?(n=s.hash,a=n.substring(1),o=e.element.find(e._sanitizeSelector(n))):(a=h.attr("aria-controls")||t({}).uniqueId()[0].id,n="#"+a,o=e.element.find(n),o.length||(o=e._createPanel(a),o.insertAfter(e.panels[i-1]||e.tablist)),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),l&&h.data("ui-tabs-aria-controls",l),h.attr({"aria-controls":a,"aria-labelledby":r}),o.attr("aria-labelledby",r);}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),i&&(this._off(i.not(this.tabs)),this._off(s.not(this.anchors)),this._off(n.not(this.panels)));},_getList:function _getList(){return this.tablist||this.element.find("ol, ul").eq(0);},_createPanel:function _createPanel(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0);},_setOptionDisabled:function _setOptionDisabled(e){var i,s,n;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),n=0;s=this.tabs[n];n++){i=t(s),e===!0||-1!==t.inArray(n,e)?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));}this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,e===!0);},_setupEvents:function _setupEvents(e){var i={};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler";}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function click(t){t.preventDefault();}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs);},_setupHeightStyle:function _setupHeightStyle(e){var i,s=this.element.parent();"fill"===e?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),s=e.css("position");"absolute"!==s&&"fixed"!==s&&(i-=e.outerHeight(!0));}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0);}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()));}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height());}).height(i));},_eventHandler:function _eventHandler(e){var i=this.options,s=this.active,n=t(e.currentTarget),o=n.closest("li"),a=o[0]===s[0],r=a&&i.collapsible,h=r?t():this._getPanelForTab(o),l=s.length?this._getPanelForTab(s):t(),c={oldTab:s,oldPanel:l,newTab:r?t():o,newPanel:h};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||a&&!i.collapsible||this._trigger("beforeActivate",e,c)===!1||(i.active=r?!1:this.tabs.index(o),this.active=a?t():o,this.xhr&&this.xhr.abort(),l.length||h.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(o),e),this._toggle(e,c));},_toggle:function _toggle(e,i){function s(){o.running=!1,o._trigger("activate",e,i);}function n(){o._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active"),a.length&&o.options.show?o._show(a,o.options.show,s):(a.show(),s());}var o=this,a=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){o._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),n();}):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r.hide(),n()),r.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),a.length&&r.length?i.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex");}).attr("tabIndex",-1),a.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0});},_activate:function _activate(e){var i,s=this._findActive(e);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}));},_findActive:function _findActive(e){return e===!1?t():this.tabs.eq(e);},_getIndex:function _getIndex(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e;},_destroy:function _destroy(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded");}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls");}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","");},enable:function enable(e){var i=this.options.disabled;i!==!1&&(void 0===e?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,function(t){return t!==e?t:null;}):t.map(this.tabs,function(t,i){return i!==e?i:null;})),this._setOptionDisabled(i));},disable:function disable(e){var i=this.options.disabled;if(i!==!0){if(void 0===e)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=t.isArray(i)?t.merge([e],i).sort():[e];}this._setOptionDisabled(i);}},load:function load(e,i){e=this._getIndex(e);var s=this,n=this.tabs.eq(e),o=n.find(".ui-tabs-anchor"),a=this._getPanelForTab(n),r={tab:n,panel:a},h=function h(t,e){"abort"===e&&s.panels.stop(!1,!0),s._removeClass(n,"ui-tabs-loading"),a.removeAttr("aria-busy"),t===s.xhr&&delete s.xhr;};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(n,"ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done(function(t,e,n){setTimeout(function(){a.html(t),s._trigger("load",i,r),h(n,e);},1);}).fail(function(t,e){setTimeout(function(){h(t,e);},1);})));},_ajaxSettings:function _ajaxSettings(e,i,s){var n=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function beforeSend(e,o){return n._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:o},s));}};},_getPanelForTab:function _getPanelForTab(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i));}}),t.uiBackCompat!==!1&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function _processTabs(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab");}}),t.ui.tabs,t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function content(){var e=t(this).attr("title")||"";return t("<a>").text(e).html();},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function _addDescribedBy(e,i){var s=(e.attr("aria-describedby")||"").split(/\s+/);s.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(s.join(" ")));},_removeDescribedBy:function _removeDescribedBy(e){var i=e.data("ui-tooltip-id"),s=(e.attr("aria-describedby")||"").split(/\s+/),n=t.inArray(i,s);-1!==n&&s.splice(n,1),e.removeData("ui-tooltip-id"),s=t.trim(s.join(" ")),s?e.attr("aria-describedby",s):e.removeAttr("aria-describedby");},_create:function _create(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([]);},_setOption:function _setOption(e,i){var s=this;this._super(e,i),"content"===e&&t.each(this.tooltips,function(t,e){s._updateContent(e.element);});},_setOptionDisabled:function _setOptionDisabled(t){this[t?"_disable":"_enable"]();},_disable:function _disable(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur");n.target=n.currentTarget=s.element[0],e.close(n,!0);}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=t(this);return e.is("[title]")?e.data("ui-tooltip-title",e.attr("title")).removeAttr("title"):void 0;}));},_enable:function _enable(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"));}),this.disabledTitles=t([]);},open:function open(e){var i=this,s=t(e?e.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&s.parents().each(function(){var e,s=t(this);s.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""));}),this._registerCloseHandlers(e,s),this._updateContent(s,e));},_updateContent:function _updateContent(t,e){var i,s=this.options.content,n=this,o=e?e.type:null;return"string"==typeof s||s.nodeType||s.jquery?this._open(e,t,s):(i=s.call(t[0],function(i){n._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,i));});}),i&&this._open(e,t,i),void 0);},_open:function _open(e,i,s){function n(t){l.of=t,a.is(":hidden")||a.position(l);}var o,a,r,h,l=t.extend({},this.options.position);if(s){if(o=this._find(i))return o.tooltip.find(".ui-tooltip-content").html(s),void 0;i.is("[title]")&&(e&&"mouseover"===e.type?i.attr("title",""):i.removeAttr("title")),o=this._tooltip(i),a=o.tooltip,this._addDescribedBy(i,a.attr("id")),a.find(".ui-tooltip-content").html(s),this.liveRegion.children().hide(),h=t("<div>").html(a.find(".ui-tooltip-content").html()),h.removeAttr("name").find("[name]").removeAttr("name"),h.removeAttr("id").find("[id]").removeAttr("id"),h.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:n}),n(e)):a.position(t.extend({of:i},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){a.is(":visible")&&(n(l.of),clearInterval(r));},t.fx.interval)),this._trigger("open",e,{tooltip:a});}},_registerCloseHandlers:function _registerCloseHandlers(e,i){var s={keyup:function keyup(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var s=t.Event(e);s.currentTarget=i[0],this.close(s,!0);}}};i[0]!==this.element[0]&&(s.remove=function(){this._removeTooltip(this._find(i).tooltip);}),e&&"mouseover"!==e.type||(s.mouseleave="close"),e&&"focusin"!==e.type||(s.focusout="close"),this._on(!0,i,s);},close:function close(e){var i,s=this,n=t(e?e.currentTarget:this.element),o=this._find(n);return o?(i=o.tooltip,o.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&!n.attr("title")&&n.attr("title",n.data("ui-tooltip-title")),this._removeDescribedBy(n),o.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){s._removeTooltip(t(this));}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete s.parents[e];}),o.closing=!0,this._trigger("close",e,{tooltip:i}),o.hiding||(o.closing=!1)),void 0):(n.removeData("ui-tooltip-open"),void 0);},_tooltip:function _tooltip(e){var i=t("<div>").attr("role","tooltip"),s=t("<div>").appendTo(i),n=i.uniqueId().attr("id");return this._addClass(s,"ui-tooltip-content"),this._addClass(i,"ui-tooltip","ui-widget ui-widget-content"),i.appendTo(this._appendTo(e)),this.tooltips[n]={element:e,tooltip:i};},_find:function _find(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null;},_removeTooltip:function _removeTooltip(t){t.remove(),delete this.tooltips[t.attr("id")];},_appendTo:function _appendTo(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e;},_destroy:function _destroy(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur"),o=s.element;n.target=n.currentTarget=o[0],e.close(n,!0),t("#"+i).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"));}),this.liveRegion.remove();}}),t.uiBackCompat!==!1&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function _tooltip(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t;}}),t.ui.tooltip;var f="ui-effects-",g="ui-effects-style",m="ui-effects-animated",_=t;t.effects={effect:{}},function(t,e){function i(t,e,i){var s=u[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:0>t?0:t>s.max?s.max:t);}function s(i){var s=l(),n=s._rgba=[];return i=i.toLowerCase(),f(h,function(t,o){var a,r=o.re.exec(i),h=r&&o.parse(r),l=o.space||"rgba";return h?(a=s[l](h),s[c[l].cache]=a[c[l].cache],n=s._rgba=a._rgba,!1):e;}),n.length?("0,0,0,0"===n.join()&&t.extend(n,o.transparent),s):o[i];}function n(t,e,i){return i=(i+1)%1,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t;}var o,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function parse(t){return[t[1],t[2],t[3],t[4]];}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function parse(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]];}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function parse(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)];}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function parse(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)];}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function parse(t){return[t[1],t[2]/100,t[3]/100,t[4]];}}],l=t.Color=function(e,i,s,n){return new t.Color.fn.parse(e,i,s,n);},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=l.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1};}),l.fn=t.extend(l.prototype,{parse:function parse(n,a,r,h){if(n===e)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=t(n).css(a),a=e);var u=this,d=t.type(n),p=this._rgba=[];return a!==e&&(n=[n,a,r,h],d="array"),"string"===d?this.parse(s(n)||o._default):"array"===d?(f(c.rgba.props,function(t,e){p[e.idx]=i(n[e.idx],e);}),this):"object"===d?(n instanceof l?f(c,function(t,e){n[e.cache]&&(u[e.cache]=n[e.cache].slice());}):f(c,function(e,s){var o=s.cache;f(s.props,function(t,e){if(!u[o]&&s.to){if("alpha"===t||null==n[t])return;u[o]=s.to(u._rgba);}u[o][e.idx]=i(n[t],e,!0);}),u[o]&&0>t.inArray(null,u[o].slice(0,3))&&(u[o][3]=1,s.from&&(u._rgba=s.from(u[o])));}),this):e;},is:function is(t){var i=l(t),s=!0,n=this;return f(c,function(t,o){var a,r=i[o.cache];return r&&(a=n[o.cache]||o.to&&o.to(n._rgba)||[],f(o.props,function(t,i){return null!=r[i.idx]?s=r[i.idx]===a[i.idx]:e;})),s;}),s;},_space:function _space(){var t=[],e=this;return f(c,function(i,s){e[s.cache]&&t.push(i);}),t.pop();},transition:function transition(t,e){var s=l(t),n=s._space(),o=c[n],a=0===this.alpha()?l("transparent"):this,r=a[o.cache]||o.to(a._rgba),h=r.slice();return s=s[o.cache],f(o.props,function(t,n){var o=n.idx,a=r[o],l=s[o],c=u[n.type]||{};null!==l&&(null===a?h[o]=l:(c.mod&&(l-a>c.mod/2?a+=c.mod:a-l>c.mod/2&&(a-=c.mod)),h[o]=i((l-a)*e+a,n)));}),this[n](h);},blend:function blend(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=l(e)._rgba;return l(t.map(i,function(t,e){return(1-s)*n[e]+s*t;}));},toRgbaString:function toRgbaString(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t;});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")";},toHslaString:function toHslaString(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t;});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")";},toHexString:function toHexString(e){var i=this._rgba.slice(),s=i.pop();return e&&i.push(~~(255*s)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t;}).join("");},toString:function toString(){return 0===this._rgba[3]?"transparent":this.toRgbaString();}}),l.fn.parse.prototype=l.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,s=t[0]/255,n=t[1]/255,o=t[2]/255,a=t[3],r=Math.max(s,n,o),h=Math.min(s,n,o),l=r-h,c=r+h,u=.5*c;return e=h===r?0:s===r?60*(n-o)/l+360:n===r?60*(o-s)/l+120:60*(s-n)/l+240,i=0===l?0:.5>=u?l/c:l/(2-c),[Math.round(e)%360,i,u,null==a?1:a];},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],o=t[3],a=.5>=s?s*(1+i):s+i-s*i,r=2*s-a;return[Math.round(255*n(r,a,e+1/3)),Math.round(255*n(r,a,e)),Math.round(255*n(r,a,e-1/3)),o];},f(c,function(s,n){var o=n.props,a=n.cache,h=n.to,c=n.from;l.fn[s]=function(s){if(h&&!this[a]&&(this[a]=h(this._rgba)),s===e)return this[a].slice();var n,r=t.type(s),u="array"===r||"object"===r?s:arguments,d=this[a].slice();return f(o,function(t,e){var s=u["object"===r?t:e.idx];null==s&&(s=d[e.idx]),d[e.idx]=i(s,e);}),c?(n=l(c(d)),n[a]=d,n):l(d);},f(o,function(e,i){l.fn[e]||(l.fn[e]=function(n){var o,a=t.type(n),h="alpha"===e?this._hsla?"hsla":"rgba":s,l=this[h](),c=l[i.idx];return"undefined"===a?c:("function"===a&&(n=n.call(this,c),a=t.type(n)),null==n&&i.empty?this:("string"===a&&(o=r.exec(n),o&&(n=c+parseFloat(o[2])*("+"===o[1]?1:-1))),l[i.idx]=n,this[h](l)));});});}),l.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function set(e,n){var o,a,r="";if("transparent"!==n&&("string"!==t.type(n)||(o=s(n)))){if(n=l(o||n),!d.rgba&&1!==n._rgba[3]){for(a="backgroundColor"===i?e.parentNode:e;(""===r||"transparent"===r)&&a&&a.style;){try{r=t.css(a,"backgroundColor"),a=a.parentNode;}catch(h){}}n=n.blend(r&&"transparent"!==r?r:"_default");}n=n.toRgbaString();}try{e.style[i]=n;}catch(h){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=l(e.elem,i),e.end=l(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos));};});},l.hook(a),t.cssHooks.borderColor={expand:function expand(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,s){e["border"+s+"Color"]=t;}),e;}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"};}(_),function(){function e(e){var i,s,n=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;){i=n[s],"string"==typeof n[i]&&(o[t.camelCase(i)]=n[i]);}else for(i in n){"string"==typeof n[i]&&(o[i]=n[i]);}return o;}function i(e,i){var s,o,a={};for(s in i){o=i[s],e[s]!==o&&(n[s]||(t.fx.step[s]||!isNaN(parseFloat(o)))&&(a[s]=o));}return a;}var s=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(_.style(t.elem,i,t.end),t.setAttr=!0);};}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t));}),t.effects.animateClass=function(n,o,a,r){var h=t.speed(o,a,r);return this.queue(function(){var o,a=t(this),r=a.attr("class")||"",l=h.children?a.find("*").addBack():a;l=l.map(function(){var i=t(this);return{el:i,start:e(this)};}),o=function o(){t.each(s,function(t,e){n[e]&&a[e+"Class"](n[e]);});},o(),l=l.map(function(){return this.end=e(this.el[0]),this.diff=i(this.start,this.end),this;}),a.attr("class",r),l=l.map(function(){var e=this,i=t.Deferred(),s=t.extend({},h,{queue:!1,complete:function complete(){i.resolve(e);}});return this.el.animate(this.diff,s),i.promise();}),t.when.apply(t,l.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"");});}),h.complete.call(a[0]);});});},t.fn.extend({addClass:function(e){return function(i,s,n,o){return s?t.effects.animateClass.call(this,{add:i},s,n,o):e.apply(this,arguments);};}(t.fn.addClass),removeClass:function(e){return function(i,s,n,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},s,n,o):e.apply(this,arguments);};}(t.fn.removeClass),toggleClass:function(e){return function(i,s,n,o,a){return"boolean"==typeof s||void 0===s?n?t.effects.animateClass.call(this,s?{add:i}:{remove:i},n,o,a):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},s,n,o);};}(t.fn.toggleClass),switchClass:function switchClass(e,i,s,n,o){return t.effects.animateClass.call(this,{add:i,remove:e},s,n,o);}});}(),function(){function e(e,i,s,n){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(n=s,s=i,i={}),t.isFunction(s)&&(n=s,s=null),i&&t.extend(e,i),s=s||i.duration,e.duration=t.fx.off?0:"number"==typeof s?s:s in t.fx.speeds?t.fx.speeds[s]:t.fx.speeds._default,e.complete=n||i.complete,e;}function i(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=(typeof e==="undefined"?"undefined":_typeof(e))||e.effect?!1:!0:!0;}function s(t,e){var i=e.outerWidth(),s=e.outerHeight(),n=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,o=n.exec(t)||["",0,i,s,0];return{top:parseFloat(o[1])||0,right:"auto"===o[2]?i:parseFloat(o[2]),bottom:"auto"===o[3]?s:parseFloat(o[3]),left:parseFloat(o[4])||0};}t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=function(e){return function(i){return!!t(i).data(m)||e(i);};}(t.expr.filters.animated)),t.uiBackCompat!==!1&&t.extend(t.effects,{save:function save(t,e){for(var i=0,s=e.length;s>i;i++){null!==e[i]&&t.data(f+e[i],t[0].style[e[i]]);}},restore:function restore(t,e){for(var i,s=0,n=e.length;n>s;s++){null!==e[s]&&(i=t.data(f+e[s]),t.css(e[s],i));}},setMode:function setMode(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e;},createWrapper:function createWrapper(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},s=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:e.width(),height:e.height()},o=document.activeElement;try{o.id;}catch(a){o=document.body;}return e.wrap(s),(e[0]===o||t.contains(e[0],o))&&t(o).trigger("focus"),s=e.parent(),"static"===e.css("position")?(s.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,s){i[s]=e.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto");}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(n),s.css(i).show();},removeWrapper:function removeWrapper(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).trigger("focus")),e;}}),t.extend(t.effects,{version:"1.12.1",define:function define(e,i,s){return s||(s=i,i="effect"),t.effects.effect[e]=s,t.effects.effect[e].mode=i,s;},scaledDimensions:function scaledDimensions(t,e,i){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var s="horizontal"!==i?(e||100)/100:1,n="vertical"!==i?(e||100)/100:1;return{height:t.height()*n,width:t.width()*s,outerHeight:t.outerHeight()*n,outerWidth:t.outerWidth()*s};},clipToBox:function clipToBox(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top};},unshift:function unshift(t,e,i){var s=t.queue();e>1&&s.splice.apply(s,[1,0].concat(s.splice(e,i))),t.dequeue();},saveStyle:function saveStyle(t){t.data(g,t[0].style.cssText);},restoreStyle:function restoreStyle(t){t[0].style.cssText=t.data(g)||"",t.removeData(g);},mode:function mode(t,e){var i=t.is(":hidden");return"toggle"===e&&(e=i?"show":"hide"),(i?"hide"===e:"show"===e)&&(e="none"),e;},getBaseline:function getBaseline(t,e){var i,s;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height;}switch(t[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=t[1]/e.width;}return{x:s,y:i};},createPlaceholder:function createPlaceholder(e){var i,s=e.css("position"),n=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(s)&&(s="absolute",i=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),"float":e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(f+"placeholder",i)),e.css({position:s,left:n.left,top:n.top}),i;},removePlaceholder:function removePlaceholder(t){var e=f+"placeholder",i=t.data(e);i&&(i.remove(),t.removeData(e));},cleanUp:function cleanUp(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e);},setTransition:function setTransition(e,i,s,n){return n=n||{},t.each(i,function(t,i){var o=e.cssUnit(i);o[0]>0&&(n[i]=o[0]*s+o[1]);}),n;}}),t.fn.extend({effect:function effect(){function i(e){function i(){r.removeData(m),t.effects.cleanUp(r),"hide"===s.mode&&r.hide(),a();}function a(){t.isFunction(h)&&h.call(r[0]),t.isFunction(e)&&e();}var r=t(this);s.mode=c.shift(),t.uiBackCompat===!1||o?"none"===s.mode?(r[l](),a()):n.call(r[0],s,i):(r.is(":hidden")?"hide"===l:"show"===l)?(r[l](),a()):n.call(r[0],s,a);}var s=e.apply(this,arguments),n=t.effects.effect[s.effect],o=n.mode,a=s.queue,r=a||"fx",h=s.complete,l=s.mode,c=[],u=function u(e){var i=t(this),s=t.effects.mode(i,l)||o;i.data(m,!0),c.push(s),o&&("show"===s||s===o&&"hide"===s)&&i.show(),o&&"none"===s||t.effects.saveStyle(i),t.isFunction(e)&&e();};return t.fx.off||!n?l?this[l](s.duration,h):this.each(function(){h&&h.call(this);}):a===!1?this.each(u).each(i):this.queue(r,u).queue(r,i);},show:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="show",this.effect.call(this,n);};}(t.fn.show),hide:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="hide",this.effect.call(this,n);};}(t.fn.hide),toggle:function(t){return function(s){if(i(s)||"boolean"==typeof s)return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n);};}(t.fn.toggle),cssUnit:function cssUnit(e){var i=this.css(e),s=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(s=[parseFloat(i),e]);}),s;},cssClip:function cssClip(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):s(this.css("clip"),this);},transfer:function transfer(e,i){var s=t(this),n=t(e.to),o="fixed"===n.css("position"),a=t("body"),r=o?a.scrollTop():0,h=o?a.scrollLeft():0,l=n.offset(),c={top:l.top-r,left:l.left-h,height:n.innerHeight(),width:n.innerWidth()},u=s.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:u.top-r,left:u.left-h,height:s.innerHeight(),width:s.innerWidth(),position:o?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){d.remove(),t.isFunction(i)&&i();});}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=s(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left});};}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2);};}),t.extend(e,{Sine:function Sine(t){return 1-Math.cos(t*Math.PI/2);},Circ:function Circ(t){return 1-Math.sqrt(1-t*t);},Elastic:function Elastic(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15);},Back:function Back(t){return t*t*(3*t-2);},Bounce:function Bounce(t){for(var e,i=4;((e=Math.pow(2,--i))-1)/11>t;){}return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2);}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t);},t.easing["easeInOut"+e]=function(t){return .5>t?i(2*t)/2:1-i(-2*t+2)/2;};});}();var v=t.effects;t.effects.define("blind","hide",function(e,i){var s={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},n=t(this),o=e.direction||"up",a=n.cssClip(),r={clip:t.extend({},a)},h=t.effects.createPlaceholder(n);r.clip[s[o][0]]=r.clip[s[o][1]],"show"===e.mode&&(n.cssClip(r.clip),h&&h.css(t.effects.clipToBox(r)),r.clip=a),h&&h.animate(t.effects.clipToBox(r),e.duration,e.easing),n.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:i});}),t.effects.define("bounce",function(e,i){var s,n,o,a=t(this),r=e.mode,h="hide"===r,l="show"===r,c=e.direction||"up",u=e.distance,d=e.times||5,p=2*d+(l||h?1:0),f=e.duration/p,g=e.easing,m="up"===c||"down"===c?"top":"left",_="up"===c||"left"===c,v=0,b=a.queue().length;for(t.effects.createPlaceholder(a),o=a.css(m),u||(u=a["top"===m?"outerHeight":"outerWidth"]()/3),l&&(n={opacity:1},n[m]=o,a.css("opacity",0).css(m,_?2*-u:2*u).animate(n,f,g)),h&&(u/=Math.pow(2,d-1)),n={},n[m]=o;d>v;v++){s={},s[m]=(_?"-=":"+=")+u,a.animate(s,f,g).animate(n,f,g),u=h?2*u:u/2;}h&&(s={opacity:0},s[m]=(_?"-=":"+=")+u,a.animate(s,f,g)),a.queue(i),t.effects.unshift(a,b,p+1);}),t.effects.define("clip","hide",function(e,i){var s,n={},o=t(this),a=e.direction||"vertical",r="both"===a,h=r||"horizontal"===a,l=r||"vertical"===a;s=o.cssClip(),n.clip={top:l?(s.bottom-s.top)/2:s.top,right:h?(s.right-s.left)/2:s.right,bottom:l?(s.bottom-s.top)/2:s.bottom,left:h?(s.right-s.left)/2:s.left},t.effects.createPlaceholder(o),"show"===e.mode&&(o.cssClip(n.clip),n.clip=s),o.animate(n,{queue:!1,duration:e.duration,easing:e.easing,complete:i});}),t.effects.define("drop","hide",function(e,i){var s,n=t(this),o=e.mode,a="show"===o,r=e.direction||"left",h="up"===r||"down"===r?"top":"left",l="up"===r||"left"===r?"-=":"+=",c="+="===l?"-=":"+=",u={opacity:0};t.effects.createPlaceholder(n),s=e.distance||n["top"===h?"outerHeight":"outerWidth"](!0)/2,u[h]=l+s,a&&(n.css(u),u[h]=c+s,u.opacity=1),n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:i});}),t.effects.define("explode","hide",function(e,i){function s(){b.push(this),b.length===u*d&&n();}function n(){p.css({visibility:"visible"}),t(b).remove(),i();}var o,a,r,h,l,c,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=u,p=t(this),f=e.mode,g="show"===f,m=p.show().css("visibility","hidden").offset(),_=Math.ceil(p.outerWidth()/d),v=Math.ceil(p.outerHeight()/u),b=[];for(o=0;u>o;o++){for(h=m.top+o*v,c=o-(u-1)/2,a=0;d>a;a++){r=m.left+a*_,l=a-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*_,top:-o*v}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:_,height:v,left:r+(g?l*_:0),top:h+(g?c*v:0),opacity:g?0:1}).animate({left:r+(g?0:l*_),top:h+(g?0:c*v),opacity:g?1:0},e.duration||500,e.easing,s);}}}),t.effects.define("fade","toggle",function(e,i){var s="show"===e.mode;t(this).css("opacity",s?0:1).animate({opacity:s?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:i});}),t.effects.define("fold","hide",function(e,i){var s=t(this),n=e.mode,o="show"===n,a="hide"===n,r=e.size||15,h=/([0-9]+)%/.exec(r),l=!!e.horizFirst,c=l?["right","bottom"]:["bottom","right"],u=e.duration/2,d=t.effects.createPlaceholder(s),p=s.cssClip(),f={clip:t.extend({},p)},g={clip:t.extend({},p)},m=[p[c[0]],p[c[1]]],_=s.queue().length;h&&(r=parseInt(h[1],10)/100*m[a?0:1]),f.clip[c[0]]=r,g.clip[c[0]]=r,g.clip[c[1]]=0,o&&(s.cssClip(g.clip),d&&d.css(t.effects.clipToBox(g)),g.clip=p),s.queue(function(i){d&&d.animate(t.effects.clipToBox(f),u,e.easing).animate(t.effects.clipToBox(g),u,e.easing),i();}).animate(f,u,e.easing).animate(g,u,e.easing).queue(i),t.effects.unshift(s,_,4);}),t.effects.define("highlight","show",function(e,i){var s=t(this),n={backgroundColor:s.css("backgroundColor")};"hide"===e.mode&&(n.opacity=0),t.effects.saveStyle(s),s.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(n,{queue:!1,duration:e.duration,easing:e.easing,complete:i});}),t.effects.define("size",function(e,i){var s,n,o,a=t(this),r=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=e.mode,u="effect"!==c,d=e.scale||"both",p=e.origin||["middle","center"],f=a.css("position"),g=a.position(),m=t.effects.scaledDimensions(a),_=e.from||m,v=e.to||t.effects.scaledDimensions(a,0);t.effects.createPlaceholder(a),"show"===c&&(o=_,_=v,v=o),n={from:{y:_.height/m.height,x:_.width/m.width},to:{y:v.height/m.height,x:v.width/m.width}},("box"===d||"both"===d)&&(n.from.y!==n.to.y&&(_=t.effects.setTransition(a,h,n.from.y,_),v=t.effects.setTransition(a,h,n.to.y,v)),n.from.x!==n.to.x&&(_=t.effects.setTransition(a,l,n.from.x,_),v=t.effects.setTransition(a,l,n.to.x,v))),("content"===d||"both"===d)&&n.from.y!==n.to.y&&(_=t.effects.setTransition(a,r,n.from.y,_),v=t.effects.setTransition(a,r,n.to.y,v)),p&&(s=t.effects.getBaseline(p,m),_.top=(m.outerHeight-_.outerHeight)*s.y+g.top,_.left=(m.outerWidth-_.outerWidth)*s.x+g.left,v.top=(m.outerHeight-v.outerHeight)*s.y+g.top,v.left=(m.outerWidth-v.outerWidth)*s.x+g.left),a.css(_),("content"===d||"both"===d)&&(h=h.concat(["marginTop","marginBottom"]).concat(r),l=l.concat(["marginLeft","marginRight"]),a.find("*[width]").each(function(){var i=t(this),s=t.effects.scaledDimensions(i),o={height:s.height*n.from.y,width:s.width*n.from.x,outerHeight:s.outerHeight*n.from.y,outerWidth:s.outerWidth*n.from.x},a={height:s.height*n.to.y,width:s.width*n.to.x,outerHeight:s.height*n.to.y,outerWidth:s.width*n.to.x};n.from.y!==n.to.y&&(o=t.effects.setTransition(i,h,n.from.y,o),a=t.effects.setTransition(i,h,n.to.y,a)),n.from.x!==n.to.x&&(o=t.effects.setTransition(i,l,n.from.x,o),a=t.effects.setTransition(i,l,n.to.x,a)),u&&t.effects.saveStyle(i),i.css(o),i.animate(a,e.duration,e.easing,function(){u&&t.effects.restoreStyle(i);});})),a.animate(v,{queue:!1,duration:e.duration,easing:e.easing,complete:function complete(){var e=a.offset();0===v.opacity&&a.css("opacity",_.opacity),u||(a.css("position","static"===f?"relative":f).offset(e),t.effects.saveStyle(a)),i();}});}),t.effects.define("scale",function(e,i){var s=t(this),n=e.mode,o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"effect"!==n?0:100),a=t.extend(!0,{from:t.effects.scaledDimensions(s),to:t.effects.scaledDimensions(s,o,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(a.from.opacity=1,a.to.opacity=0),t.effects.effect.size.call(this,a,i);}),t.effects.define("puff","hide",function(e,i){var s=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,s,i);}),t.effects.define("pulsate","show",function(e,i){var s=t(this),n=e.mode,o="show"===n,a="hide"===n,r=o||a,h=2*(e.times||5)+(r?1:0),l=e.duration/h,c=0,u=1,d=s.queue().length;for((o||!s.is(":visible"))&&(s.css("opacity",0).show(),c=1);h>u;u++){s.animate({opacity:c},l,e.easing),c=1-c;}s.animate({opacity:c},l,e.easing),s.queue(i),t.effects.unshift(s,d,h+1);}),t.effects.define("shake",function(e,i){var s=1,n=t(this),o=e.direction||"left",a=e.distance||20,r=e.times||3,h=2*r+1,l=Math.round(e.duration/h),c="up"===o||"down"===o?"top":"left",u="up"===o||"left"===o,d={},p={},f={},g=n.queue().length;for(t.effects.createPlaceholder(n),d[c]=(u?"-=":"+=")+a,p[c]=(u?"+=":"-=")+2*a,f[c]=(u?"-=":"+=")+2*a,n.animate(d,l,e.easing);r>s;s++){n.animate(p,l,e.easing).animate(f,l,e.easing);}n.animate(p,l,e.easing).animate(d,l/2,e.easing).queue(i),t.effects.unshift(n,g,h+1);}),t.effects.define("slide","show",function(e,i){var s,n,o=t(this),a={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},r=e.mode,h=e.direction||"left",l="up"===h||"down"===h?"top":"left",c="up"===h||"left"===h,u=e.distance||o["top"===l?"outerHeight":"outerWidth"](!0),d={};t.effects.createPlaceholder(o),s=o.cssClip(),n=o.position()[l],d[l]=(c?-1:1)*u+n,d.clip=o.cssClip(),d.clip[a[h][1]]=d.clip[a[h][0]],"show"===r&&(o.cssClip(d.clip),o.css(l,d[l]),d.clip=s,d[l]=n),o.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:i});});var v;t.uiBackCompat!==!1&&(v=t.effects.define("transfer",function(e,i){t(this).transfer(e,i);}));});/*!
 * jQuery UI Touch Punch 0.2.3
 *
 * Copyright 2011–2014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */!function(a){function f(a,b){if(!(a.originalEvent.touches.length>1)){a.preventDefault();var c=a.originalEvent.changedTouches[0],d=document.createEvent("MouseEvents");d.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(d);}}if(a.support.touch="ontouchend"in document,a.support.touch){var e,b=a.ui.mouse.prototype,c=b._mouseInit,d=b._mouseDestroy;b._touchStart=function(a){var b=this;!e&&b._mouseCapture(a.originalEvent.changedTouches[0])&&(e=!0,b._touchMoved=!1,f(a,"mouseover"),f(a,"mousemove"),f(a,"mousedown"));},b._touchMove=function(a){e&&(this._touchMoved=!0,f(a,"mousemove"));},b._touchEnd=function(a){e&&(f(a,"mouseup"),f(a,"mouseout"),this._touchMoved||f(a,"click"),e=!1);},b._mouseInit=function(){var b=this;b.element.bind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),c.call(b);},b._mouseDestroy=function(){var b=this;b.element.unbind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),d.call(b);};}}(jQuery);/*
 * transform: A jQuery cssHooks adding cross-browser 2d transform capabilities to $.fn.css() and $.fn.animate()
 *
 * limitations:
 * - requires jQuery 1.4.3+
 * - Should you use the *translate* property, then your elements need to be absolutely positionned in a relatively positionned wrapper **or it will fail in IE678**.
 * - transformOrigin is not accessible
 *
 * latest version and complete README available on Github:
 * https://github.com/louisremi/jquery.transform.js
 *
 * Copyright 2011 @louis_remi
 * Licensed under the MIT license.
 *
 * This saved you an hour of work?
 * Send me music http://www.amazon.co.uk/wishlist/HNTU0468LQON
 *
 */(function($,window,document,Math,undefined){/*
 * Feature tests and global variables
 */var div=document.createElement("div"),divStyle=div.style,suffix="Transform",testProperties=["O"+suffix,"ms"+suffix,"Webkit"+suffix,"Moz"+suffix],i=testProperties.length,supportProperty,supportMatrixFilter,supportFloat32Array="Float32Array"in window,propertyHook,propertyGet,rMatrix=/Matrix([^)]*)/,rAffine=/^\s*matrix\(\s*1\s*,\s*0\s*,\s*0\s*,\s*1\s*(?:,\s*0(?:px)?\s*){2}\)\s*$/,_transform="transform",_transformOrigin="transformOrigin",_translate="translate",_rotate="rotate",_scale="scale",_skew="skew",_matrix="matrix";// test different vendor prefixes of these properties
while(i--){if(testProperties[i]in divStyle){$.support[_transform]=supportProperty=testProperties[i];$.support[_transformOrigin]=supportProperty+"Origin";continue;}}// IE678 alternative
if(!supportProperty){$.support.matrixFilter=supportMatrixFilter=divStyle.filter==="";}// px isn't the default unit of these properties
$.cssNumber[_transform]=$.cssNumber[_transformOrigin]=true;/*
 * fn.css() hooks
 */if(supportProperty&&supportProperty!=_transform){// Modern browsers can use jQuery.cssProps as a basic hook
$.cssProps[_transform]=supportProperty;$.cssProps[_transformOrigin]=supportProperty+"Origin";// Firefox needs a complete hook because it stuffs matrix with "px"
if(supportProperty=="Moz"+suffix){propertyHook={get:function get(elem,computed){return computed?// remove "px" from the computed matrix
$.css(elem,supportProperty).split("px").join(""):elem.style[supportProperty];},set:function set(elem,value){// add "px" to matrices
elem.style[supportProperty]=/matrix\([^)p]*\)/.test(value)?value.replace(/matrix((?:[^,]*,){4})([^,]*),([^)]*)/,_matrix+"$1$2px,$3px"):value;}};/* Fix two jQuery bugs still present in 1.5.1
	 * - rupper is incompatible with IE9, see http://jqbug.com/8346
	 * - jQuery.css is not really jQuery.cssProps aware, see http://jqbug.com/8402
	 */}else if(/^1\.[0-5](?:\.|$)/.test($.fn.jquery)){propertyHook={get:function get(elem,computed){return computed?$.css(elem,supportProperty.replace(/^ms/,"Ms")):elem.style[supportProperty];}};}/* TODO: leverage hardware acceleration of 3d transform in Webkit only
	else if ( supportProperty == "Webkit" + suffix && support3dTransform ) {
		propertyHook = {
			set: function( elem, value ) {
				elem.style[supportProperty] = 
					value.replace();
			}
		}
	}*/}else if(supportMatrixFilter){propertyHook={get:function get(elem,computed,asArray){var elemStyle=computed&&elem.currentStyle?elem.currentStyle:elem.style,matrix,data;if(elemStyle&&rMatrix.test(elemStyle.filter)){matrix=RegExp.$1.split(",");matrix=[matrix[0].split("=")[1],matrix[2].split("=")[1],matrix[1].split("=")[1],matrix[3].split("=")[1]];}else{matrix=[1,0,0,1];}if(!$.cssHooks[_transformOrigin]){matrix[4]=elemStyle?parseInt(elemStyle.left,10)||0:0;matrix[5]=elemStyle?parseInt(elemStyle.top,10)||0:0;}else{data=$._data(elem,"transformTranslate",undefined);matrix[4]=data?data[0]:0;matrix[5]=data?data[1]:0;}return asArray?matrix:_matrix+"("+matrix+")";},set:function set(elem,value,animate){var elemStyle=elem.style,currentStyle,Matrix,filter,centerOrigin;if(!animate){elemStyle.zoom=1;}value=matrix(value);// rotate, scale and skew
Matrix=["Matrix("+"M11="+value[0],"M12="+value[2],"M21="+value[1],"M22="+value[3],"SizingMethod='auto expand'"].join();filter=(currentStyle=elem.currentStyle)&&currentStyle.filter||elemStyle.filter||"";elemStyle.filter=rMatrix.test(filter)?filter.replace(rMatrix,Matrix):filter+" progid:DXImageTransform.Microsoft."+Matrix+")";if(!$.cssHooks[_transformOrigin]){// center the transform origin, from pbakaus's Transformie http://github.com/pbakaus/transformie
if(centerOrigin=$.transform.centerOrigin){elemStyle[centerOrigin=="margin"?"marginLeft":"left"]=-(elem.offsetWidth/2)+elem.clientWidth/2+"px";elemStyle[centerOrigin=="margin"?"marginTop":"top"]=-(elem.offsetHeight/2)+elem.clientHeight/2+"px";}// translate
// We assume that the elements are absolute positionned inside a relative positionned wrapper
elemStyle.left=value[4]+"px";elemStyle.top=value[5]+"px";}else{$.cssHooks[_transformOrigin].set(elem,value);}}};}// populate jQuery.cssHooks with the appropriate hook if necessary
if(propertyHook){$.cssHooks[_transform]=propertyHook;}// we need a unique setter for the animation logic
propertyGet=propertyHook&&propertyHook.get||$.css;/*
 * fn.animate() hooks
 */$.fx.step.transform=function(fx){var elem=fx.elem,start=fx.start,end=fx.end,pos=fx.pos,transform="",precision=1E5,i,startVal,endVal,unit;// fx.end and fx.start need to be converted to interpolation lists
if(!start||typeof start==="string"){// the following block can be commented out with jQuery 1.5.1+, see #7912
if(!start){start=propertyGet(elem,supportProperty);}// force layout only once per animation
if(supportMatrixFilter){elem.style.zoom=1;}// replace "+=" in relative animations (-= is meaningless with transforms)
end=end.split("+=").join(start);// parse both transform to generate interpolation list of same length
$.extend(fx,interpolationList(start,end));start=fx.start;end=fx.end;}i=start.length;// interpolate functions of the list one by one
while(i--){startVal=start[i];endVal=end[i];unit=+false;switch(startVal[0]){case _translate:unit="px";case _scale:unit||(unit="");transform=startVal[0]+"("+Math.round((startVal[1][0]+(endVal[1][0]-startVal[1][0])*pos)*precision)/precision+unit+","+Math.round((startVal[1][1]+(endVal[1][1]-startVal[1][1])*pos)*precision)/precision+unit+")"+transform;break;case _skew+"X":case _skew+"Y":case _rotate:transform=startVal[0]+"("+Math.round((startVal[1]+(endVal[1]-startVal[1])*pos)*precision)/precision+"rad)"+transform;break;}}fx.origin&&(transform=fx.origin+transform);propertyHook&&propertyHook.set?propertyHook.set(elem,transform,+true):elem.style[supportProperty]=transform;};/*
 * Utility functions
 */// turns a transform string into its "matrix(A,B,C,D,X,Y)" form (as an array, though)
function matrix(transform){transform=transform.split(")");var trim=$.trim,i=-1// last element of the array is an empty string, get rid of it
,l=transform.length-1,split,prop,val,prev=supportFloat32Array?new Float32Array(6):[],curr=supportFloat32Array?new Float32Array(6):[],rslt=supportFloat32Array?new Float32Array(6):[1,0,0,1,0,0];prev[0]=prev[3]=rslt[0]=rslt[3]=1;prev[1]=prev[2]=prev[4]=prev[5]=0;// Loop through the transform properties, parse and multiply them
while(++i<l){split=transform[i].split("(");prop=trim(split[0]);val=split[1];curr[0]=curr[3]=1;curr[1]=curr[2]=curr[4]=curr[5]=0;switch(prop){case _translate+"X":curr[4]=parseInt(val,10);break;case _translate+"Y":curr[5]=parseInt(val,10);break;case _translate:val=val.split(",");curr[4]=parseInt(val[0],10);curr[5]=parseInt(val[1]||0,10);break;case _rotate:val=toRadian(val);curr[0]=Math.cos(val);curr[1]=Math.sin(val);curr[2]=-Math.sin(val);curr[3]=Math.cos(val);break;case _scale+"X":curr[0]=+val;break;case _scale+"Y":curr[3]=val;break;case _scale:val=val.split(",");curr[0]=val[0];curr[3]=val.length>1?val[1]:val[0];break;case _skew+"X":curr[2]=Math.tan(toRadian(val));break;case _skew+"Y":curr[1]=Math.tan(toRadian(val));break;case _matrix:val=val.split(",");curr[0]=val[0];curr[1]=val[1];curr[2]=val[2];curr[3]=val[3];curr[4]=parseInt(val[4],10);curr[5]=parseInt(val[5],10);break;}// Matrix product (array in column-major order)
rslt[0]=prev[0]*curr[0]+prev[2]*curr[1];rslt[1]=prev[1]*curr[0]+prev[3]*curr[1];rslt[2]=prev[0]*curr[2]+prev[2]*curr[3];rslt[3]=prev[1]*curr[2]+prev[3]*curr[3];rslt[4]=prev[0]*curr[4]+prev[2]*curr[5]+prev[4];rslt[5]=prev[1]*curr[4]+prev[3]*curr[5]+prev[5];prev=[rslt[0],rslt[1],rslt[2],rslt[3],rslt[4],rslt[5]];}return rslt;}// turns a matrix into its rotate, scale and skew components
// algorithm from http://hg.mozilla.org/mozilla-central/file/7cb3e9795d04/layout/style/nsStyleAnimation.cpp
function unmatrix(matrix){var scaleX,scaleY,skew,A=matrix[0],B=matrix[1],C=matrix[2],D=matrix[3];// Make sure matrix is not singular
if(A*D-B*C){// step (3)
scaleX=Math.sqrt(A*A+B*B);A/=scaleX;B/=scaleX;// step (4)
skew=A*C+B*D;C-=A*skew;D-=B*skew;// step (5)
scaleY=Math.sqrt(C*C+D*D);C/=scaleY;D/=scaleY;skew/=scaleY;// step (6)
if(A*D<B*C){A=-A;B=-B;skew=-skew;scaleX=-scaleX;}// matrix is singular and cannot be interpolated
}else{// In this case the elem shouldn't be rendered, hence scale == 0
scaleX=scaleY=skew=0;}// The recomposition order is very important
// see http://hg.mozilla.org/mozilla-central/file/7cb3e9795d04/layout/style/nsStyleAnimation.cpp#l971
return[[_translate,[+matrix[4],+matrix[5]]],[_rotate,Math.atan2(B,A)],[_skew+"X",Math.atan(skew)],[_scale,[scaleX,scaleY]]];}// build the list of transform functions to interpolate
// use the algorithm described at http://dev.w3.org/csswg/css3-2d-transforms/#animation
function interpolationList(start,end){var list={start:[],end:[]},i=-1,l,currStart,currEnd,currType;// get rid of affine transform matrix
(start=="none"||isAffine(start))&&(start="");(end=="none"||isAffine(end))&&(end="");// if end starts with the current computed style, this is a relative animation
// store computed style as the origin, remove it from start and end
if(start&&end&&!end.indexOf("matrix")&&toArray(start).join()==toArray(end.split(")")[0]).join()){list.origin=start;start="";end=end.slice(end.indexOf(")")+1);}if(!start&&!end){return;}// start or end are affine, or list of transform functions are identical
// => functions will be interpolated individually
if(!start||!end||functionList(start)==functionList(end)){start&&(start=start.split(")"))&&(l=start.length);end&&(end=end.split(")"))&&(l=end.length);while(++i<l-1){start[i]&&(currStart=start[i].split("("));end[i]&&(currEnd=end[i].split("("));currType=$.trim((currStart||currEnd)[0]);append(list.start,parseFunction(currType,currStart?currStart[1]:0));append(list.end,parseFunction(currType,currEnd?currEnd[1]:0));}// otherwise, functions will be composed to a single matrix
}else{list.start=unmatrix(matrix(start));list.end=unmatrix(matrix(end));}return list;}function parseFunction(type,value){var// default value is 1 for scale, 0 otherwise
defaultValue=+!type.indexOf(_scale),scaleX,// remove X/Y from scaleX/Y & translateX/Y, not from skew
cat=type.replace(/e[XY]/,"e");switch(type){case _translate+"Y":case _scale+"Y":value=[defaultValue,value?parseFloat(value):defaultValue];break;case _translate+"X":case _translate:case _scale+"X":scaleX=1;case _scale:value=value?(value=value.split(","))&&[parseFloat(value[0]),parseFloat(value.length>1?value[1]:type==_scale?scaleX||value[0]:defaultValue+"")]:[defaultValue,defaultValue];break;case _skew+"X":case _skew+"Y":case _rotate:value=value?toRadian(value):0;break;case _matrix:return unmatrix(value?toArray(value):[1,0,0,1,0,0]);break;}return[[cat,value]];}function isAffine(matrix){return rAffine.test(matrix);}function functionList(transform){return transform.replace(/(?:\([^)]*\))|\s/g,"");}function append(arr1,arr2,value){while(value=arr2.shift()){arr1.push(value);}}// converts an angle string in any unit to a radian Float
function toRadian(value){return~value.indexOf("deg")?parseInt(value,10)*(Math.PI*2/360):~value.indexOf("grad")?parseInt(value,10)*(Math.PI/200):parseFloat(value);}// Converts "matrix(A,B,C,D,X,Y)" to [A,B,C,D,X,Y]
function toArray(matrix){// remove the unit of X and Y for Firefox
matrix=/([^,]*),([^,]*),([^,]*),([^,]*),([^,p]*)(?:px)?,([^)p]*)(?:px)?/.exec(matrix);return[matrix[1],matrix[2],matrix[3],matrix[4],matrix[5],matrix[6]];}$.transform={centerOrigin:"margin"};})(jQuery,window,document,Math);/**
 * jQuery CSS Customizable Scrollbar
 *
 * Copyright 2015, Yuriy Khabarov
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * If you found bug, please contact me via email <13real008@gmail.com>
 *
 * @author Yuriy Khabarov aka Gromo
 * @version 0.2.10
 * @url https://github.com/gromo/jquery.scrollbar/
 *
 */;(function(root,factory){if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else{factory(root.jQuery);}})(this,function($){'use strict';// init flags & variables
var debug=false;var browser={data:{index:0,name:'scrollbar'},macosx:/mac/i.test(navigator.platform),mobile:/android|webos|iphone|ipad|ipod|blackberry/i.test(navigator.userAgent),overlay:null,scroll:null,scrolls:[],webkit:/webkit/i.test(navigator.userAgent)&&!/edge\/\d+/i.test(navigator.userAgent)};browser.scrolls.add=function(instance){this.remove(instance).push(instance);};browser.scrolls.remove=function(instance){while($.inArray(instance,this)>=0){this.splice($.inArray(instance,this),1);}return this;};var defaults={"autoScrollSize":true,// automatically calculate scrollsize
"autoUpdate":true,// update scrollbar if content/container size changed
"debug":false,// debug mode
"disableBodyScroll":false,// disable body scroll if mouse over container
"duration":200,// scroll animate duration in ms
"ignoreMobile":false,// ignore mobile devices
"ignoreOverlay":false,// ignore browsers with overlay scrollbars (mobile, MacOS)
"scrollStep":30,// scroll step for scrollbar arrows
"showArrows":false,// add class to show arrows
"stepScrolling":true,// when scrolling to scrollbar mousedown position
"scrollx":null,// horizontal scroll element
"scrolly":null,// vertical scroll element
"onDestroy":null,// callback function on destroy,
"onInit":null,// callback function on first initialization
"onScroll":null,// callback function on content scrolling
"onUpdate":null// callback function on init/resize (before scrollbar size calculation)
};var BaseScrollbar=function BaseScrollbar(container){if(!browser.scroll){browser.overlay=isScrollOverlaysContent();browser.scroll=getBrowserScrollSize();updateScrollbars();$(window).resize(function(){var forceUpdate=false;if(browser.scroll&&(browser.scroll.height||browser.scroll.width)){var scroll=getBrowserScrollSize();if(scroll.height!==browser.scroll.height||scroll.width!==browser.scroll.width){browser.scroll=scroll;forceUpdate=true;// handle page zoom
}}updateScrollbars(forceUpdate);});}this.container=container;this.namespace='.scrollbar_'+browser.data.index++;this.options=$.extend({},defaults,window.jQueryScrollbarOptions||{});this.scrollTo=null;this.scrollx={};this.scrolly={};container.data(browser.data.name,this);browser.scrolls.add(this);};BaseScrollbar.prototype={destroy:function destroy(){if(!this.wrapper){return;}this.container.removeData(browser.data.name);browser.scrolls.remove(this);// init variables
var scrollLeft=this.container.scrollLeft();var scrollTop=this.container.scrollTop();this.container.insertBefore(this.wrapper).css({"height":"","margin":"","max-height":""}).removeClass('scroll-content scroll-scrollx_visible scroll-scrolly_visible').off(this.namespace).scrollLeft(scrollLeft).scrollTop(scrollTop);this.scrollx.scroll.removeClass('scroll-scrollx_visible').find('div').andSelf().off(this.namespace);this.scrolly.scroll.removeClass('scroll-scrolly_visible').find('div').andSelf().off(this.namespace);this.wrapper.remove();$(document).add('body').off(this.namespace);if($.isFunction(this.options.onDestroy)){this.options.onDestroy.apply(this,[this.container]);}},init:function init(options){// init variables
var S=this,c=this.container,cw=this.containerWrapper||c,namespace=this.namespace,o=$.extend(this.options,options||{}),s={x:this.scrollx,y:this.scrolly},w=this.wrapper;var initScroll={"scrollLeft":c.scrollLeft(),"scrollTop":c.scrollTop()};// do not init if in ignorable browser
if(browser.mobile&&o.ignoreMobile||browser.overlay&&o.ignoreOverlay||browser.macosx&&!browser.webkit// still required to ignore nonWebKit browsers on Mac
){return false;}// init scroll container
if(!w){this.wrapper=w=$('<div>').addClass('scroll-wrapper').addClass(c.attr('class')).css('position',c.css('position')=='absolute'?'absolute':'relative').insertBefore(c).append(c);if(c.is('textarea')){this.containerWrapper=cw=$('<div>').insertBefore(c).append(c);w.addClass('scroll-textarea');}cw.addClass('scroll-content').css({"height":"auto","margin-bottom":browser.scroll.height*-1+'px',"margin-right":browser.scroll.width*-1+'px',"max-height":""});c.on('scroll'+namespace,function(event){if($.isFunction(o.onScroll)){o.onScroll.call(S,{"maxScroll":s.y.maxScrollOffset,"scroll":c.scrollTop(),"size":s.y.size,"visible":s.y.visible},{"maxScroll":s.x.maxScrollOffset,"scroll":c.scrollLeft(),"size":s.x.size,"visible":s.x.visible});}s.x.isVisible&&s.x.scroll.bar.css('left',c.scrollLeft()*s.x.kx+'px');s.y.isVisible&&s.y.scroll.bar.css('top',c.scrollTop()*s.y.kx+'px');});/* prevent native scrollbars to be visible on #anchor click */w.on('scroll'+namespace,function(){w.scrollTop(0).scrollLeft(0);});if(o.disableBodyScroll){var handleMouseScroll=function handleMouseScroll(event){isVerticalScroll(event)?s.y.isVisible&&s.y.mousewheel(event):s.x.isVisible&&s.x.mousewheel(event);};w.on('MozMousePixelScroll'+namespace,handleMouseScroll);w.on('mousewheel'+namespace,handleMouseScroll);if(browser.mobile){w.on('touchstart'+namespace,function(event){var touch=event.originalEvent.touches&&event.originalEvent.touches[0]||event;var originalTouch={"pageX":touch.pageX,"pageY":touch.pageY};var originalScroll={"left":c.scrollLeft(),"top":c.scrollTop()};$(document).on('touchmove'+namespace,function(event){var touch=event.originalEvent.targetTouches&&event.originalEvent.targetTouches[0]||event;c.scrollLeft(originalScroll.left+originalTouch.pageX-touch.pageX);c.scrollTop(originalScroll.top+originalTouch.pageY-touch.pageY);event.preventDefault();});$(document).on('touchend'+namespace,function(){$(document).off(namespace);});});}}if($.isFunction(o.onInit)){o.onInit.apply(this,[c]);}}else{cw.css({"height":"auto","margin-bottom":browser.scroll.height*-1+'px',"margin-right":browser.scroll.width*-1+'px',"max-height":""});}// init scrollbars & recalculate sizes
$.each(s,function(d,scrollx){var scrollCallback=null;var scrollForward=1;var scrollOffset=d==='x'?'scrollLeft':'scrollTop';var scrollStep=o.scrollStep;var scrollTo=function scrollTo(){var currentOffset=c[scrollOffset]();c[scrollOffset](currentOffset+scrollStep);if(scrollForward==1&&currentOffset+scrollStep>=scrollToValue)currentOffset=c[scrollOffset]();if(scrollForward==-1&&currentOffset+scrollStep<=scrollToValue)currentOffset=c[scrollOffset]();if(c[scrollOffset]()==currentOffset&&scrollCallback){scrollCallback();}};var scrollToValue=0;if(!scrollx.scroll){scrollx.scroll=S._getScroll(o['scroll'+d]).addClass('scroll-'+d);if(o.showArrows){scrollx.scroll.addClass('scroll-element_arrows_visible');}scrollx.mousewheel=function(event){if(!scrollx.isVisible||d==='x'&&isVerticalScroll(event)){return true;}if(d==='y'&&!isVerticalScroll(event)){s.x.mousewheel(event);return true;}var delta=event.originalEvent.wheelDelta*-1||event.originalEvent.detail;var maxScrollValue=scrollx.size-scrollx.visible-scrollx.offset;if(delta>0&&scrollToValue<maxScrollValue||delta<0&&scrollToValue>0){scrollToValue=scrollToValue+delta;if(scrollToValue<0)scrollToValue=0;if(scrollToValue>maxScrollValue)scrollToValue=maxScrollValue;S.scrollTo=S.scrollTo||{};S.scrollTo[scrollOffset]=scrollToValue;setTimeout(function(){if(S.scrollTo){c.stop().animate(S.scrollTo,240,'linear',function(){scrollToValue=c[scrollOffset]();});S.scrollTo=null;}},1);}event.preventDefault();return false;};scrollx.scroll.on('MozMousePixelScroll'+namespace,scrollx.mousewheel).on('mousewheel'+namespace,scrollx.mousewheel).on('mouseenter'+namespace,function(){scrollToValue=c[scrollOffset]();});// handle arrows & scroll inner mousedown event
scrollx.scroll.find('.scroll-arrow, .scroll-element_track').on('mousedown'+namespace,function(event){if(event.which!=1)// lmb
return true;scrollForward=1;var data={"eventOffset":event[d==='x'?'pageX':'pageY'],"maxScrollValue":scrollx.size-scrollx.visible-scrollx.offset,"scrollbarOffset":scrollx.scroll.bar.offset()[d==='x'?'left':'top'],"scrollbarSize":scrollx.scroll.bar[d==='x'?'outerWidth':'outerHeight']()};var timeout=0,timer=0;if($(this).hasClass('scroll-arrow')){scrollForward=$(this).hasClass("scroll-arrow_more")?1:-1;scrollStep=o.scrollStep*scrollForward;scrollToValue=scrollForward>0?data.maxScrollValue:0;}else{scrollForward=data.eventOffset>data.scrollbarOffset+data.scrollbarSize?1:data.eventOffset<data.scrollbarOffset?-1:0;scrollStep=Math.round(scrollx.visible*0.75)*scrollForward;scrollToValue=data.eventOffset-data.scrollbarOffset-(o.stepScrolling?scrollForward==1?data.scrollbarSize:0:Math.round(data.scrollbarSize/2));scrollToValue=c[scrollOffset]()+scrollToValue/scrollx.kx;}S.scrollTo=S.scrollTo||{};S.scrollTo[scrollOffset]=o.stepScrolling?c[scrollOffset]()+scrollStep:scrollToValue;if(o.stepScrolling){scrollCallback=function scrollCallback(){scrollToValue=c[scrollOffset]();clearInterval(timer);clearTimeout(timeout);timeout=0;timer=0;};timeout=setTimeout(function(){timer=setInterval(scrollTo,40);},o.duration+100);}setTimeout(function(){if(S.scrollTo){c.animate(S.scrollTo,o.duration);S.scrollTo=null;}},1);return S._handleMouseDown(scrollCallback,event);});// handle scrollbar drag'n'drop
scrollx.scroll.bar.on('mousedown'+namespace,function(event){if(event.which!=1)// lmb
return true;var eventPosition=event[d==='x'?'pageX':'pageY'];var initOffset=c[scrollOffset]();scrollx.scroll.addClass('scroll-draggable');$(document).on('mousemove'+namespace,function(event){var diff=parseInt((event[d==='x'?'pageX':'pageY']-eventPosition)/scrollx.kx,10);c[scrollOffset](initOffset+diff);});return S._handleMouseDown(function(){scrollx.scroll.removeClass('scroll-draggable');scrollToValue=c[scrollOffset]();},event);});}});// remove classes & reset applied styles
$.each(s,function(d,scrollx){var scrollClass='scroll-scroll'+d+'_visible';var scrolly=d=="x"?s.y:s.x;scrollx.scroll.removeClass(scrollClass);scrolly.scroll.removeClass(scrollClass);cw.removeClass(scrollClass);});// calculate init sizes
$.each(s,function(d,scrollx){$.extend(scrollx,d=="x"?{"offset":parseInt(c.css('left'),10)||0,"size":c.prop('scrollWidth'),"visible":w.width()}:{"offset":parseInt(c.css('top'),10)||0,"size":c.prop('scrollHeight'),"visible":w.height()});});// update scrollbar visibility/dimensions
this._updateScroll('x',this.scrollx);this._updateScroll('y',this.scrolly);if($.isFunction(o.onUpdate)){o.onUpdate.apply(this,[c]);}// calculate scroll size
$.each(s,function(d,scrollx){var cssOffset=d==='x'?'left':'top';var cssFullSize=d==='x'?'outerWidth':'outerHeight';var cssSize=d==='x'?'width':'height';var offset=parseInt(c.css(cssOffset),10)||0;var AreaSize=scrollx.size;var AreaVisible=scrollx.visible+offset;var scrollSize=scrollx.scroll.size[cssFullSize]()+(parseInt(scrollx.scroll.size.css(cssOffset),10)||0);if(o.autoScrollSize){scrollx.scrollbarSize=parseInt(scrollSize*AreaVisible/AreaSize,10);scrollx.scroll.bar.css(cssSize,scrollx.scrollbarSize+'px');}scrollx.scrollbarSize=scrollx.scroll.bar[cssFullSize]();scrollx.kx=(scrollSize-scrollx.scrollbarSize)/(AreaSize-AreaVisible)||1;scrollx.maxScrollOffset=AreaSize-AreaVisible;});c.scrollLeft(initScroll.scrollLeft).scrollTop(initScroll.scrollTop).trigger('scroll');},/**
         * Get scrollx/scrolly object
         *
         * @param {Mixed} scroll
         * @returns {jQuery} scroll object
         */_getScroll:function _getScroll(scroll){var types={advanced:['<div class="scroll-element">','<div class="scroll-element_corner"></div>','<div class="scroll-arrow scroll-arrow_less"></div>','<div class="scroll-arrow scroll-arrow_more"></div>','<div class="scroll-element_outer">','<div class="scroll-element_size"></div>',// required! used for scrollbar size calculation !
'<div class="scroll-element_inner-wrapper">','<div class="scroll-element_inner scroll-element_track">',// used for handling scrollbar click
'<div class="scroll-element_inner-bottom"></div>','</div>','</div>','<div class="scroll-bar">',// required
'<div class="scroll-bar_body">','<div class="scroll-bar_body-inner"></div>','</div>','<div class="scroll-bar_bottom"></div>','<div class="scroll-bar_center"></div>','</div>','</div>','</div>'].join(''),simple:['<div class="scroll-element">','<div class="scroll-element_outer">','<div class="scroll-element_size"></div>',// required! used for scrollbar size calculation !
'<div class="scroll-element_track"></div>',// used for handling scrollbar click
'<div class="scroll-bar"></div>',// required
'</div>','</div>'].join('')};if(types[scroll]){scroll=types[scroll];}if(!scroll){scroll=types['simple'];}if(typeof scroll=='string'){scroll=$(scroll).appendTo(this.wrapper);}else{scroll=$(scroll);}$.extend(scroll,{bar:scroll.find('.scroll-bar'),size:scroll.find('.scroll-element_size'),track:scroll.find('.scroll-element_track')});return scroll;},_handleMouseDown:function _handleMouseDown(callback,event){var namespace=this.namespace;$(document).on('blur'+namespace,function(){$(document).add('body').off(namespace);callback&&callback();});$(document).on('dragstart'+namespace,function(event){event.preventDefault();return false;});$(document).on('mouseup'+namespace,function(){$(document).add('body').off(namespace);callback&&callback();});$('body').on('selectstart'+namespace,function(event){event.preventDefault();return false;});event&&event.preventDefault();return false;},_updateScroll:function _updateScroll(d,scrollx){var container=this.container,containerWrapper=this.containerWrapper||container,scrollClass='scroll-scroll'+d+'_visible',scrolly=d==='x'?this.scrolly:this.scrollx,offset=parseInt(this.container.css(d==='x'?'left':'top'),10)||0,wrapper=this.wrapper;var AreaSize=scrollx.size;var AreaVisible=scrollx.visible+offset;scrollx.isVisible=AreaSize-AreaVisible>1;// bug in IE9/11 with 1px diff
if(scrollx.isVisible){scrollx.scroll.addClass(scrollClass);scrolly.scroll.addClass(scrollClass);containerWrapper.addClass(scrollClass);}else{scrollx.scroll.removeClass(scrollClass);scrolly.scroll.removeClass(scrollClass);containerWrapper.removeClass(scrollClass);}if(d==='y'){if(container.is('textarea')||AreaSize<AreaVisible){containerWrapper.css({"height":AreaVisible+browser.scroll.height+'px',"max-height":"none"});}else{containerWrapper.css({//"height": "auto", // do not reset height value: issue with height:100%!
"max-height":AreaVisible+browser.scroll.height+'px'});}}if(scrollx.size!=container.prop('scrollWidth')||scrolly.size!=container.prop('scrollHeight')||scrollx.visible!=wrapper.width()||scrolly.visible!=wrapper.height()||scrollx.offset!=(parseInt(container.css('left'),10)||0)||scrolly.offset!=(parseInt(container.css('top'),10)||0)){$.extend(this.scrollx,{"offset":parseInt(container.css('left'),10)||0,"size":container.prop('scrollWidth'),"visible":wrapper.width()});$.extend(this.scrolly,{"offset":parseInt(container.css('top'),10)||0,"size":this.container.prop('scrollHeight'),"visible":wrapper.height()});this._updateScroll(d==='x'?'y':'x',scrolly);}}};var CustomScrollbar=BaseScrollbar;/*
     * Extend jQuery as plugin
     *
     * @param {Mixed} command to execute
     * @param {Mixed} arguments as Array
     * @return {jQuery}
     */$.fn.scrollbar=function(command,args){if(typeof command!=='string'){args=command;command='init';}if(typeof args==='undefined'){args=[];}if(!$.isArray(args)){args=[args];}this.not('body, .scroll-wrapper').each(function(){var element=$(this),instance=element.data(browser.data.name);if(instance||command==='init'){if(!instance){instance=new CustomScrollbar(element);}if(instance[command]){instance[command].apply(instance,args);}}});return this;};/**
     * Connect default options to global object
     */$.fn.scrollbar.options=defaults;/**
     * Check if scroll content/container size is changed
     */var updateScrollbars=function(){var timer=0,timerCounter=0;return function(force){var i,container,options,scroll,wrapper,scrollx,scrolly;for(i=0;i<browser.scrolls.length;i++){scroll=browser.scrolls[i];container=scroll.container;options=scroll.options;wrapper=scroll.wrapper;scrollx=scroll.scrollx;scrolly=scroll.scrolly;if(force||options.autoUpdate&&wrapper&&wrapper.is(':visible')&&(container.prop('scrollWidth')!=scrollx.size||container.prop('scrollHeight')!=scrolly.size||wrapper.width()!=scrollx.visible||wrapper.height()!=scrolly.visible)){scroll.init();if(options.debug){window.console&&console.log({scrollHeight:container.prop('scrollHeight')+':'+scroll.scrolly.size,scrollWidth:container.prop('scrollWidth')+':'+scroll.scrollx.size,visibleHeight:wrapper.height()+':'+scroll.scrolly.visible,visibleWidth:wrapper.width()+':'+scroll.scrollx.visible},true);timerCounter++;}}}if(debug&&timerCounter>10){window.console&&console.log('Scroll updates exceed 10');updateScrollbars=function updateScrollbars(){};}else{clearTimeout(timer);timer=setTimeout(updateScrollbars,300);}};}();/* ADDITIONAL FUNCTIONS *//**
     * Get native browser scrollbar size (height/width)
     *
     * @param {Boolean} actual size or CSS size, default - CSS size
     * @returns {Object} with height, width
     */function getBrowserScrollSize(actualSize){if(browser.webkit&&!actualSize){return{"height":0,"width":0};}if(!browser.data.outer){var css={"border":"none","box-sizing":"content-box","height":"200px","margin":"0","padding":"0","width":"200px"};browser.data.inner=$("<div>").css($.extend({},css));browser.data.outer=$("<div>").css($.extend({"left":"-1000px","overflow":"scroll","position":"absolute","top":"-1000px"},css)).append(browser.data.inner).appendTo("body");}browser.data.outer.scrollLeft(1000).scrollTop(1000);return{"height":Math.ceil(browser.data.outer.offset().top-browser.data.inner.offset().top||0),"width":Math.ceil(browser.data.outer.offset().left-browser.data.inner.offset().left||0)};}/**
     * Check if native browser scrollbars overlay content
     *
     * @returns {Boolean}
     */function isScrollOverlaysContent(){var scrollSize=getBrowserScrollSize(true);return!(scrollSize.height||scrollSize.width);}function isVerticalScroll(event){var e=event.originalEvent;if(e.axis&&e.axis===e.HORIZONTAL_AXIS)return false;if(e.wheelDeltaX)return false;return true;}/**
     * Extend AngularJS as UI directive
     * and expose a provider for override default config
     *
     */if(window.angular){(function(angular){angular.module('jQueryScrollbar',[]).provider('jQueryScrollbar',function(){var defaultOptions=defaults;return{setOptions:function setOptions(options){angular.extend(defaultOptions,options);},$get:function $get(){return{options:angular.copy(defaultOptions)};}};}).directive('jqueryScrollbar',['jQueryScrollbar','$parse',function(jQueryScrollbar,$parse){return{"restrict":"AC","link":function link(scope,element,attrs){var model=$parse(attrs.jqueryScrollbar),options=model(scope);element.scrollbar(options||jQueryScrollbar.options).on('$destroy',function(){element.scrollbar('destroy');});}};}]);})(window.angular);}});(function(factory){if(typeof define==='function'&&define.amd){// AMD. Register as an anonymous module.
define(['jquery'],factory);}else if((typeof exports==="undefined"?"undefined":_typeof(exports))==='object'){// Node/CommonJS
factory(require('jquery'));}else{// Browser globals
factory(jQuery);}})(function($){var ua=navigator.userAgent,iPhone=/iphone/i.test(ua),chrome=/chrome/i.test(ua),android=/android/i.test(ua),caretTimeoutId;$.mask={//Predefined character definitions
definitions:{'9':"[0-9]",'a':"[A-Za-z]",'*':"[A-Za-z0-9]"},autoclear:true,dataName:"rawMaskFn",placeholder:'_'};$.fn.extend({//Helper Function for Caret positioning
caret:function caret(begin,end){var range;if(this.length===0||this.is(":hidden")||this.get(0)!==document.activeElement){return;}if(typeof begin=='number'){end=typeof end==='number'?end:begin;return this.each(function(){if(this.setSelectionRange){this.setSelectionRange(begin,end);}else if(this.createTextRange){range=this.createTextRange();range.collapse(true);range.moveEnd('character',end);range.moveStart('character',begin);range.select();}});}else{if(this[0].setSelectionRange){begin=this[0].selectionStart;end=this[0].selectionEnd;}else if(document.selection&&document.selection.createRange){range=document.selection.createRange();begin=0-range.duplicate().moveStart('character',-100000);end=begin+range.text.length;}return{begin:begin,end:end};}},unmask:function unmask(){return this.trigger("unmask");},mask:function mask(_mask,settings){var input,defs,tests,partialPosition,firstNonMaskPos,lastRequiredNonMaskPos,len,oldVal;if(!_mask&&this.length>0){input=$(this[0]);var fn=input.data($.mask.dataName);return fn?fn():undefined;}settings=$.extend({autoclear:$.mask.autoclear,placeholder:$.mask.placeholder,// Load default placeholder
completed:null},settings);defs=$.mask.definitions;tests=[];partialPosition=len=_mask.length;firstNonMaskPos=null;_mask=String(_mask);$.each(_mask.split(""),function(i,c){if(c=='?'){len--;partialPosition=i;}else if(defs[c]){tests.push(new RegExp(defs[c]));if(firstNonMaskPos===null){firstNonMaskPos=tests.length-1;}if(i<partialPosition){lastRequiredNonMaskPos=tests.length-1;}}else{tests.push(null);}});return this.trigger("unmask").each(function(){var input=$(this),buffer=$.map(_mask.split(""),function(c,i){if(c!='?'){return defs[c]?getPlaceholder(i):c;}}),defaultBuffer=buffer.join(''),focusText=input.val();function tryFireCompleted(){if(!settings.completed){return;}for(var i=firstNonMaskPos;i<=lastRequiredNonMaskPos;i++){if(tests[i]&&buffer[i]===getPlaceholder(i)){return;}}settings.completed.call(input);}function getPlaceholder(i){if(i<settings.placeholder.length)return settings.placeholder.charAt(i);return settings.placeholder.charAt(0);}function seekNext(pos){while(++pos<len&&!tests[pos]){}return pos;}function seekPrev(pos){while(--pos>=0&&!tests[pos]){}return pos;}function shiftL(begin,end){var i,j;if(begin<0){return;}for(i=begin,j=seekNext(end);i<len;i++){if(tests[i]){if(j<len&&tests[i].test(buffer[j])){buffer[i]=buffer[j];buffer[j]=getPlaceholder(j);}else{break;}j=seekNext(j);}}writeBuffer();input.caret(Math.max(firstNonMaskPos,begin));}function shiftR(pos){var i,c,j,t;for(i=pos,c=getPlaceholder(pos);i<len;i++){if(tests[i]){j=seekNext(i);t=buffer[i];buffer[i]=c;if(j<len&&tests[j].test(t)){c=t;}else{break;}}}}function androidInputEvent(e){var curVal=input.val();var pos=input.caret();if(oldVal&&oldVal.length&&oldVal.length>curVal.length){// a deletion or backspace happened
checkVal(true);while(pos.begin>0&&!tests[pos.begin-1]){pos.begin--;}if(pos.begin===0){while(pos.begin<firstNonMaskPos&&!tests[pos.begin]){pos.begin++;}}input.caret(pos.begin,pos.begin);}else{var pos2=checkVal(true);var lastEnteredValue=curVal.charAt(pos.begin);if(pos.begin<len){if(!tests[pos.begin]){pos.begin++;if(tests[pos.begin].test(lastEnteredValue)){pos.begin++;}}else{if(tests[pos.begin].test(lastEnteredValue)){pos.begin++;}}}input.caret(pos.begin,pos.begin);}tryFireCompleted();}function blurEvent(e){checkVal();if(input.val()!=focusText)input.change();}function keydownEvent(e){if(input.prop("readonly")){return;}var k=e.which||e.keyCode,pos,begin,end;oldVal=input.val();//backspace, delete, and escape get special treatment
if(k===8||k===46||iPhone&&k===127){pos=input.caret();begin=pos.begin;end=pos.end;if(end-begin===0){begin=k!==46?seekPrev(begin):end=seekNext(begin-1);end=k===46?seekNext(end):end;}clearBuffer(begin,end);shiftL(begin,end-1);e.preventDefault();}else if(k===13){// enter
blurEvent.call(this,e);}else if(k===27){// escape
input.val(focusText);input.caret(0,checkVal());e.preventDefault();}}function keypressEvent(e){if(input.prop("readonly")){return;}var k=e.which||e.keyCode,pos=input.caret(),p,c,next;if(e.ctrlKey||e.altKey||e.metaKey||k<32){//Ignore
return;}else if(k&&k!==13){if(pos.end-pos.begin!==0){clearBuffer(pos.begin,pos.end);shiftL(pos.begin,pos.end-1);}p=seekNext(pos.begin-1);if(p<len){c=String.fromCharCode(k);if(tests[p].test(c)){shiftR(p);buffer[p]=c;writeBuffer();next=seekNext(p);if(android){//Path for CSP Violation on FireFox OS 1.1
var proxy=function proxy(){$.proxy($.fn.caret,input,next)();};setTimeout(proxy,0);}else{input.caret(next);}if(pos.begin<=lastRequiredNonMaskPos){tryFireCompleted();}}}e.preventDefault();}}function clearBuffer(start,end){var i;for(i=start;i<end&&i<len;i++){if(tests[i]){buffer[i]=getPlaceholder(i);}}}function writeBuffer(){input.val(buffer.join(''));}function checkVal(allow){//try to place characters where they belong
var test=input.val(),lastMatch=-1,i,c,pos;for(i=0,pos=0;i<len;i++){if(tests[i]){buffer[i]=getPlaceholder(i);while(pos++<test.length){c=test.charAt(pos-1);if(tests[i].test(c)){buffer[i]=c;lastMatch=i;break;}}if(pos>test.length){clearBuffer(i+1,len);break;}}else{if(buffer[i]===test.charAt(pos)){pos++;}if(i<partialPosition){lastMatch=i;}}}if(allow){writeBuffer();}else if(lastMatch+1<partialPosition){if(settings.autoclear||buffer.join('')===defaultBuffer){// Invalid value. Remove it and replace it with the
// mask, which is the default behavior.
// if(input.val()) input.val("");
// clearBuffer(0, len);
}else{// Invalid value, but we opt to show the value to the
// user and allow them to correct their mistake.
writeBuffer();}}else{writeBuffer();input.val(input.val().substring(0,lastMatch+1));}return partialPosition?i:firstNonMaskPos;}input.data($.mask.dataName,function(){return $.map(buffer,function(c,i){return tests[i]&&c!=getPlaceholder(i)?c:null;}).join('');});input.one("unmask",function(){input.off(".mask").removeData($.mask.dataName);}).on("focus.mask",function(){if(input.prop("readonly")){return;}clearTimeout(caretTimeoutId);var pos;focusText=input.val();pos=checkVal();caretTimeoutId=setTimeout(function(){if(input.get(0)!==document.activeElement){return;}writeBuffer();if(pos==_mask.replace("?","").length){input.caret(0,pos);}else{input.caret(pos);}},10);}).on("blur.mask",blurEvent).on("keydown.mask",keydownEvent).on("keypress.mask",keypressEvent).on("input.mask paste.mask",function(){if(input.prop("readonly")){return;}setTimeout(function(){var pos=checkVal(true);input.caret(pos);tryFireCompleted();},0);});if(chrome&&android){input.off('input.mask').on('input.mask',androidInputEvent);}checkVal();//Perform initial check for existing values
});}});});/* 
 * throwable
 * JQuery plugin 
 *//**------------------------------------**///              CREDITS
/**------------------------------------**//*
 - Mr. Doobs :: http://mrdoob.com/92/Google_Gravity
 - Alex Arnell's inheritance.js :: http://code.google.com/p/inheritance/
 - Box2Djs :: http://box2d-js.sourceforge.net/
*//**
 * JQuery throwable plugin
 * @param {type} $
 * @param {type} window
 * @param {type} document
 * @param {type} undefined
 * @returns {undefined}
 */(function($,window,document,undefined){/********* libraries *********//* Based on Alex Arnell's inheritance implementation. */function $A(e){if(!e)return[];if(e.toArray)return e.toArray();var t=e.length||0,n=new Array(t);while(t--){n[t]=e[t];}return n;}var Class={create:function create(){function n(){this.initialize.apply(this,arguments);}var e=null,t=$A(arguments);if($.isFunction(t[0]))e=t.shift();Object.extend(n,Class.Methods);n.superclass=e;n.subclasses=[];if(e){var r=function r(){};r.prototype=e.prototype;n.prototype=new r();e.subclasses.push(n);}for(var i=0;i<t.length;i++){n.addMethods(t[i]);}if(!n.prototype.initialize)n.prototype.initialize=this.emptyFunction;n.prototype.constructor=n;return n;},emptyFunction:function emptyFunction(){}};Class.Methods={addMethods:function addMethods(e){var t=this.superclass&&this.superclass.prototype;var n=Object.keys(e);if(!Object.keys({toString:true}).length)n.push("toString","valueOf");for(var r=0,i=n.length;r<i;r++){var s=n[r],o=e[s];if(t&&$.isFunction(o)&&o.argumentNames().first()=="$super"){var u=o,o=Object.extend(function(e){return function(){return t[e].apply(this,arguments);};}(s).wrap(u),{valueOf:function valueOf(){return u;},toString:function toString(){return u.toString();}});}this.prototype[s]=o;}return this;}};Object.extend=function(e,t){for(var n in t){e[n]=t[n];}return e;};Object.extend(Object,{inspect:function inspect(e){try{if(Object.isUndefined(e))return"undefined";if(e===null)return"null";return e.inspect?e.inspect():String(e);}catch(t){if(t instanceof RangeError)return"...";throw t;}},toJSON:function toJSON(e){var t=typeof e==="undefined"?"undefined":_typeof(e);switch(t){case"undefined":case"function":case"unknown":return;case"boolean":return e.toString();}if(e===null)return"null";if(e.toJSON)return e.toJSON();if(Object.isElement(e))return;var n=[];for(var r in e){var i=Object.toJSON(e[r]);if(!Object.isUndefined(i))n.push(r.toJSON()+": "+i);}return"{"+n.join(", ")+"}";},toQueryString:function toQueryString(e){return $H(e).toQueryString();},toHTML:function toHTML(e){return e&&e.toHTML?e.toHTML():String.interpret(e);},keys:function keys(e){var t=[];for(var n in e){t.push(n);}return t;},values:function values(e){var t=[];for(var n in e){t.push(e[n]);}return t;},clone:function clone(e){return Object.extend({},e);},isElement:function isElement(e){return e&&e.nodeType==1;},isHash:function isHash(e){return e instanceof Hash;},isString:function isString(e){return typeof e=="string";},isUndefined:function isUndefined(e){return typeof e=="undefined";}});if(WebKit=navigator.userAgent.indexOf('AppleWebKit/index.html')>-1){$A=function $A(iterable){if(!iterable)return[];if(!($.isFunction(iterable)&&iterable=='[object NodeList]')&&iterable.toArray)return iterable.toArray();var length=iterable.length||0,results=new Array(length);while(length--){results[length]=iterable[length];}return results;};}///==============================================================================================
/* 
    * Box2Djs 
    * Minified version
    */var b2Settings=Class.create();b2Settings.prototype={initialize:function initialize(){}};b2Settings.USHRT_MAX=65535;b2Settings.b2_pi=Math.PI;b2Settings.b2_massUnitsPerKilogram=1;b2Settings.b2_timeUnitsPerSecond=1;b2Settings.b2_lengthUnitsPerMeter=30;b2Settings.b2_maxManifoldPoints=2;b2Settings.b2_maxShapesPerBody=64;b2Settings.b2_maxPolyVertices=8;b2Settings.b2_maxProxies=1024;b2Settings.b2_maxPairs=8*b2Settings.b2_maxProxies;b2Settings.b2_linearSlop=.005*b2Settings.b2_lengthUnitsPerMeter;b2Settings.b2_angularSlop=2/180*b2Settings.b2_pi;b2Settings.b2_velocityThreshold=1*b2Settings.b2_lengthUnitsPerMeter/b2Settings.b2_timeUnitsPerSecond;b2Settings.b2_maxLinearCorrection=.2*b2Settings.b2_lengthUnitsPerMeter;b2Settings.b2_maxAngularCorrection=8/180*b2Settings.b2_pi;b2Settings.b2_contactBaumgarte=.2;b2Settings.b2_timeToSleep=.5*b2Settings.b2_timeUnitsPerSecond;b2Settings.b2_linearSleepTolerance=.01*b2Settings.b2_lengthUnitsPerMeter/b2Settings.b2_timeUnitsPerSecond;b2Settings.b2_angularSleepTolerance=2/180/b2Settings.b2_timeUnitsPerSecond;b2Settings.b2Assert=function(e){if(!e){var t;t.x++;}};var b2Vec2=Class.create();b2Vec2.prototype={initialize:function initialize(e,t){this.x=e;this.y=t;},SetZero:function SetZero(){this.x=0;this.y=0;},Set:function Set(e,t){this.x=e;this.y=t;},SetV:function SetV(e){this.x=e.x;this.y=e.y;},Negative:function Negative(){return new b2Vec2(-this.x,-this.y);},Copy:function Copy(){return new b2Vec2(this.x,this.y);},Add:function Add(e){this.x+=e.x;this.y+=e.y;},Subtract:function Subtract(e){this.x-=e.x;this.y-=e.y;},Multiply:function Multiply(e){this.x*=e;this.y*=e;},MulM:function MulM(e){var t=this.x;this.x=e.col1.x*t+e.col2.x*this.y;this.y=e.col1.y*t+e.col2.y*this.y;},MulTM:function MulTM(e){var t=b2Math.b2Dot(this,e.col1);this.y=b2Math.b2Dot(this,e.col2);this.x=t;},CrossVF:function CrossVF(e){var t=this.x;this.x=e*this.y;this.y=-e*t;},CrossFV:function CrossFV(e){var t=this.x;this.x=-e*this.y;this.y=e*t;},MinV:function MinV(e){this.x=this.x<e.x?this.x:e.x;this.y=this.y<e.y?this.y:e.y;},MaxV:function MaxV(e){this.x=this.x>e.x?this.x:e.x;this.y=this.y>e.y?this.y:e.y;},Abs:function Abs(){this.x=Math.abs(this.x);this.y=Math.abs(this.y);},Length:function Length(){return Math.sqrt(this.x*this.x+this.y*this.y);},Normalize:function Normalize(){var e=this.Length();if(e<Number.MIN_VALUE){return 0;}var t=1/e;this.x*=t;this.y*=t;return e;},IsValid:function IsValid(){return b2Math.b2IsValid(this.x)&&b2Math.b2IsValid(this.y);},x:null,y:null};b2Vec2.Make=function(e,t){return new b2Vec2(e,t);};var b2Mat22=Class.create();b2Mat22.prototype={initialize:function initialize(e,t,n){if(e==null)e=0;this.col1=new b2Vec2();this.col2=new b2Vec2();if(t!=null&&n!=null){this.col1.SetV(t);this.col2.SetV(n);}else{var r=Math.cos(e);var i=Math.sin(e);this.col1.x=r;this.col2.x=-i;this.col1.y=i;this.col2.y=r;}},Set:function Set(e){var t=Math.cos(e);var n=Math.sin(e);this.col1.x=t;this.col2.x=-n;this.col1.y=n;this.col2.y=t;},SetVV:function SetVV(e,t){this.col1.SetV(e);this.col2.SetV(t);},Copy:function Copy(){return new b2Mat22(0,this.col1,this.col2);},SetM:function SetM(e){this.col1.SetV(e.col1);this.col2.SetV(e.col2);},AddM:function AddM(e){this.col1.x+=e.col1.x;this.col1.y+=e.col1.y;this.col2.x+=e.col2.x;this.col2.y+=e.col2.y;},SetIdentity:function SetIdentity(){this.col1.x=1;this.col2.x=0;this.col1.y=0;this.col2.y=1;},SetZero:function SetZero(){this.col1.x=0;this.col2.x=0;this.col1.y=0;this.col2.y=0;},Invert:function Invert(e){var t=this.col1.x;var n=this.col2.x;var r=this.col1.y;var i=this.col2.y;var s=t*i-n*r;s=1/s;e.col1.x=s*i;e.col2.x=-s*n;e.col1.y=-s*r;e.col2.y=s*t;return e;},Solve:function Solve(e,t,n){var r=this.col1.x;var i=this.col2.x;var s=this.col1.y;var o=this.col2.y;var u=r*o-i*s;u=1/u;e.x=u*(o*t-i*n);e.y=u*(r*n-s*t);return e;},Abs:function Abs(){this.col1.Abs();this.col2.Abs();},col1:new b2Vec2(),col2:new b2Vec2()};var b2Math=Class.create();b2Math.prototype={initialize:function initialize(){}};b2Math.b2IsValid=function(e){return isFinite(e);};b2Math.b2Dot=function(e,t){return e.x*t.x+e.y*t.y;};b2Math.b2CrossVV=function(e,t){return e.x*t.y-e.y*t.x;};b2Math.b2CrossVF=function(e,t){var n=new b2Vec2(t*e.y,-t*e.x);return n;};b2Math.b2CrossFV=function(e,t){var n=new b2Vec2(-e*t.y,e*t.x);return n;};b2Math.b2MulMV=function(e,t){var n=new b2Vec2(e.col1.x*t.x+e.col2.x*t.y,e.col1.y*t.x+e.col2.y*t.y);return n;};b2Math.b2MulTMV=function(e,t){var n=new b2Vec2(b2Math.b2Dot(t,e.col1),b2Math.b2Dot(t,e.col2));return n;};b2Math.AddVV=function(e,t){var n=new b2Vec2(e.x+t.x,e.y+t.y);return n;};b2Math.SubtractVV=function(e,t){var n=new b2Vec2(e.x-t.x,e.y-t.y);return n;};b2Math.MulFV=function(e,t){var n=new b2Vec2(e*t.x,e*t.y);return n;};b2Math.AddMM=function(e,t){var n=new b2Mat22(0,b2Math.AddVV(e.col1,t.col1),b2Math.AddVV(e.col2,t.col2));return n;};b2Math.b2MulMM=function(e,t){var n=new b2Mat22(0,b2Math.b2MulMV(e,t.col1),b2Math.b2MulMV(e,t.col2));return n;};b2Math.b2MulTMM=function(e,t){var n=new b2Vec2(b2Math.b2Dot(e.col1,t.col1),b2Math.b2Dot(e.col2,t.col1));var r=new b2Vec2(b2Math.b2Dot(e.col1,t.col2),b2Math.b2Dot(e.col2,t.col2));var i=new b2Mat22(0,n,r);return i;};b2Math.b2Abs=function(e){return e>0?e:-e;};b2Math.b2AbsV=function(e){var t=new b2Vec2(b2Math.b2Abs(e.x),b2Math.b2Abs(e.y));return t;};b2Math.b2AbsM=function(e){var t=new b2Mat22(0,b2Math.b2AbsV(e.col1),b2Math.b2AbsV(e.col2));return t;};b2Math.b2Min=function(e,t){return e<t?e:t;};b2Math.b2MinV=function(e,t){var n=new b2Vec2(b2Math.b2Min(e.x,t.x),b2Math.b2Min(e.y,t.y));return n;};b2Math.b2Max=function(e,t){return e>t?e:t;};b2Math.b2MaxV=function(e,t){var n=new b2Vec2(b2Math.b2Max(e.x,t.x),b2Math.b2Max(e.y,t.y));return n;};b2Math.b2Clamp=function(e,t,n){return b2Math.b2Max(t,b2Math.b2Min(e,n));};b2Math.b2ClampV=function(e,t,n){return b2Math.b2MaxV(t,b2Math.b2MinV(e,n));};b2Math.b2Swap=function(e,t){var n=e[0];e[0]=t[0];t[0]=n;};b2Math.b2Random=function(){return Math.random()*2-1;};b2Math.b2NextPowerOfTwo=function(e){e|=e>>1&2147483647;e|=e>>2&1073741823;e|=e>>4&268435455;e|=e>>8&16777215;e|=e>>16&65535;return e+1;};b2Math.b2IsPowerOfTwo=function(e){var t=e>0&&(e&e-1)==0;return t;};b2Math.tempVec2=new b2Vec2();b2Math.tempVec3=new b2Vec2();b2Math.tempVec4=new b2Vec2();b2Math.tempVec5=new b2Vec2();b2Math.tempMat=new b2Mat22();var b2AABB=Class.create();b2AABB.prototype={IsValid:function IsValid(){var e=this.maxVertex.x;var t=this.maxVertex.y;e=this.maxVertex.x;t=this.maxVertex.y;e-=this.minVertex.x;t-=this.minVertex.y;var n=e>=0&&t>=0;n=n&&this.minVertex.IsValid()&&this.maxVertex.IsValid();return n;},minVertex:new b2Vec2(),maxVertex:new b2Vec2(),initialize:function initialize(){this.minVertex=new b2Vec2();this.maxVertex=new b2Vec2();}};var b2Bound=Class.create();b2Bound.prototype={IsLower:function IsLower(){return(this.value&1)==0;},IsUpper:function IsUpper(){return(this.value&1)==1;},Swap:function Swap(e){var t=this.value;var n=this.proxyId;var r=this.stabbingCount;this.value=e.value;this.proxyId=e.proxyId;this.stabbingCount=e.stabbingCount;e.value=t;e.proxyId=n;e.stabbingCount=r;},value:0,proxyId:0,stabbingCount:0,initialize:function initialize(){}};var b2BoundValues=Class.create();b2BoundValues.prototype={lowerValues:[0,0],upperValues:[0,0],initialize:function initialize(){this.lowerValues=[0,0];this.upperValues=[0,0];}};var b2Pair=Class.create();b2Pair.prototype={SetBuffered:function SetBuffered(){this.status|=b2Pair.e_pairBuffered;},ClearBuffered:function ClearBuffered(){this.status&=~b2Pair.e_pairBuffered;},IsBuffered:function IsBuffered(){return(this.status&b2Pair.e_pairBuffered)==b2Pair.e_pairBuffered;},SetRemoved:function SetRemoved(){this.status|=b2Pair.e_pairRemoved;},ClearRemoved:function ClearRemoved(){this.status&=~b2Pair.e_pairRemoved;},IsRemoved:function IsRemoved(){return(this.status&b2Pair.e_pairRemoved)==b2Pair.e_pairRemoved;},SetFinal:function SetFinal(){this.status|=b2Pair.e_pairFinal;},IsFinal:function IsFinal(){return(this.status&b2Pair.e_pairFinal)==b2Pair.e_pairFinal;},userData:null,proxyId1:0,proxyId2:0,next:0,status:0,initialize:function initialize(){}};b2Pair.b2_nullPair=b2Settings.USHRT_MAX;b2Pair.b2_nullProxy=b2Settings.USHRT_MAX;b2Pair.b2_tableCapacity=b2Settings.b2_maxPairs;b2Pair.b2_tableMask=b2Pair.b2_tableCapacity-1;b2Pair.e_pairBuffered=1;b2Pair.e_pairRemoved=2;b2Pair.e_pairFinal=4;var b2PairCallback=Class.create();b2PairCallback.prototype={PairAdded:function PairAdded(e,t){return null;},PairRemoved:function PairRemoved(e,t,n){},initialize:function initialize(){}};var b2BufferedPair=Class.create();b2BufferedPair.prototype={proxyId1:0,proxyId2:0,initialize:function initialize(){}};var b2PairManager=Class.create();b2PairManager.prototype={initialize:function initialize(){var e=0;this.m_hashTable=new Array(b2Pair.b2_tableCapacity);for(e=0;e<b2Pair.b2_tableCapacity;++e){this.m_hashTable[e]=b2Pair.b2_nullPair;}this.m_pairs=new Array(b2Settings.b2_maxPairs);for(e=0;e<b2Settings.b2_maxPairs;++e){this.m_pairs[e]=new b2Pair();}this.m_pairBuffer=new Array(b2Settings.b2_maxPairs);for(e=0;e<b2Settings.b2_maxPairs;++e){this.m_pairBuffer[e]=new b2BufferedPair();}for(e=0;e<b2Settings.b2_maxPairs;++e){this.m_pairs[e].proxyId1=b2Pair.b2_nullProxy;this.m_pairs[e].proxyId2=b2Pair.b2_nullProxy;this.m_pairs[e].userData=null;this.m_pairs[e].status=0;this.m_pairs[e].next=e+1;}this.m_pairs[b2Settings.b2_maxPairs-1].next=b2Pair.b2_nullPair;this.m_pairCount=0;},Initialize:function Initialize(e,t){this.m_broadPhase=e;this.m_callback=t;},AddBufferedPair:function AddBufferedPair(e,t){var n=this.AddPair(e,t);if(n.IsBuffered()==false){n.SetBuffered();this.m_pairBuffer[this.m_pairBufferCount].proxyId1=n.proxyId1;this.m_pairBuffer[this.m_pairBufferCount].proxyId2=n.proxyId2;++this.m_pairBufferCount;}n.ClearRemoved();if(b2BroadPhase.s_validate){this.ValidateBuffer();}},RemoveBufferedPair:function RemoveBufferedPair(e,t){var n=this.Find(e,t);if(n==null){return;}if(n.IsBuffered()==false){n.SetBuffered();this.m_pairBuffer[this.m_pairBufferCount].proxyId1=n.proxyId1;this.m_pairBuffer[this.m_pairBufferCount].proxyId2=n.proxyId2;++this.m_pairBufferCount;}n.SetRemoved();if(b2BroadPhase.s_validate){this.ValidateBuffer();}},Commit:function Commit(){var e=0;var t=0;var n=this.m_broadPhase.m_proxyPool;for(e=0;e<this.m_pairBufferCount;++e){var r=this.Find(this.m_pairBuffer[e].proxyId1,this.m_pairBuffer[e].proxyId2);r.ClearBuffered();var i=n[r.proxyId1];var s=n[r.proxyId2];if(r.IsRemoved()){if(r.IsFinal()==true){this.m_callback.PairRemoved(i.userData,s.userData,r.userData);}this.m_pairBuffer[t].proxyId1=r.proxyId1;this.m_pairBuffer[t].proxyId2=r.proxyId2;++t;}else{if(r.IsFinal()==false){r.userData=this.m_callback.PairAdded(i.userData,s.userData);r.SetFinal();}}}for(e=0;e<t;++e){this.RemovePair(this.m_pairBuffer[e].proxyId1,this.m_pairBuffer[e].proxyId2);}this.m_pairBufferCount=0;if(b2BroadPhase.s_validate){this.ValidateTable();}},AddPair:function AddPair(e,t){if(e>t){var n=e;e=t;t=n;}var r=b2PairManager.Hash(e,t)&b2Pair.b2_tableMask;var i=i=this.FindHash(e,t,r);if(i!=null){return i;}var s=this.m_freePair;i=this.m_pairs[s];this.m_freePair=i.next;i.proxyId1=e;i.proxyId2=t;i.status=0;i.userData=null;i.next=this.m_hashTable[r];this.m_hashTable[r]=s;++this.m_pairCount;return i;},RemovePair:function RemovePair(e,t){if(e>t){var n=e;e=t;t=n;}var r=b2PairManager.Hash(e,t)&b2Pair.b2_tableMask;var i=this.m_hashTable[r];var s=null;while(i!=b2Pair.b2_nullPair){if(b2PairManager.Equals(this.m_pairs[i],e,t)){var o=i;if(s){s.next=this.m_pairs[i].next;}else{this.m_hashTable[r]=this.m_pairs[i].next;}var u=this.m_pairs[o];var a=u.userData;u.next=this.m_freePair;u.proxyId1=b2Pair.b2_nullProxy;u.proxyId2=b2Pair.b2_nullProxy;u.userData=null;u.status=0;this.m_freePair=o;--this.m_pairCount;return a;}else{s=this.m_pairs[i];i=s.next;}}return null;},Find:function Find(e,t){if(e>t){var n=e;e=t;t=n;}var r=b2PairManager.Hash(e,t)&b2Pair.b2_tableMask;return this.FindHash(e,t,r);},FindHash:function FindHash(e,t,n){var r=this.m_hashTable[n];while(r!=b2Pair.b2_nullPair&&b2PairManager.Equals(this.m_pairs[r],e,t)==false){r=this.m_pairs[r].next;}if(r==b2Pair.b2_nullPair){return null;}return this.m_pairs[r];},ValidateBuffer:function ValidateBuffer(){},ValidateTable:function ValidateTable(){},m_broadPhase:null,m_callback:null,m_pairs:null,m_freePair:0,m_pairCount:0,m_pairBuffer:null,m_pairBufferCount:0,m_hashTable:null};b2PairManager.Hash=function(e,t){var n=t<<16&4294901760|e;n=~n+(n<<15&4294934528);n=n^n>>12&1048575;n=n+(n<<2&4294967292);n=n^n>>4&268435455;n=n*2057;n=n^n>>16&65535;return n;};b2PairManager.Equals=function(e,t,n){return e.proxyId1==t&&e.proxyId2==n;};b2PairManager.EqualsPair=function(e,t){return e.proxyId1==t.proxyId1&&e.proxyId2==t.proxyId2;};var b2BroadPhase=Class.create();b2BroadPhase.prototype={initialize:function initialize(e,t){this.m_pairManager=new b2PairManager();this.m_proxyPool=new Array(b2Settings.b2_maxPairs);this.m_bounds=new Array(2*b2Settings.b2_maxProxies);this.m_queryResults=new Array(b2Settings.b2_maxProxies);this.m_quantizationFactor=new b2Vec2();var n=0;this.m_pairManager.Initialize(this,t);this.m_worldAABB=e;this.m_proxyCount=0;for(n=0;n<b2Settings.b2_maxProxies;n++){this.m_queryResults[n]=0;}this.m_bounds=new Array(2);for(n=0;n<2;n++){this.m_bounds[n]=new Array(2*b2Settings.b2_maxProxies);for(var r=0;r<2*b2Settings.b2_maxProxies;r++){this.m_bounds[n][r]=new b2Bound();}}var i=e.maxVertex.x;var s=e.maxVertex.y;i-=e.minVertex.x;s-=e.minVertex.y;this.m_quantizationFactor.x=b2Settings.USHRT_MAX/i;this.m_quantizationFactor.y=b2Settings.USHRT_MAX/s;var o;for(n=0;n<b2Settings.b2_maxProxies-1;++n){o=new b2Proxy();this.m_proxyPool[n]=o;o.SetNext(n+1);o.timeStamp=0;o.overlapCount=b2BroadPhase.b2_invalid;o.userData=null;}o=new b2Proxy();this.m_proxyPool[b2Settings.b2_maxProxies-1]=o;o.SetNext(b2Pair.b2_nullProxy);o.timeStamp=0;o.overlapCount=b2BroadPhase.b2_invalid;o.userData=null;this.m_freeProxy=0;this.m_timeStamp=1;this.m_queryResultCount=0;},InRange:function InRange(e){var t;var n;var r;var i;t=e.minVertex.x;n=e.minVertex.y;t-=this.m_worldAABB.maxVertex.x;n-=this.m_worldAABB.maxVertex.y;r=this.m_worldAABB.minVertex.x;i=this.m_worldAABB.minVertex.y;r-=e.maxVertex.x;i-=e.maxVertex.y;t=b2Math.b2Max(t,r);n=b2Math.b2Max(n,i);return b2Math.b2Max(t,n)<0;},GetProxy:function GetProxy(e){if(e==b2Pair.b2_nullProxy||this.m_proxyPool[e].IsValid()==false){return null;}return this.m_proxyPool[e];},CreateProxy:function CreateProxy(e,t){var n=0;var r;var i=this.m_freeProxy;r=this.m_proxyPool[i];this.m_freeProxy=r.GetNext();r.overlapCount=0;r.userData=t;var s=2*this.m_proxyCount;var o=new Array();var u=new Array();this.ComputeBounds(o,u,e);for(var a=0;a<2;++a){var f=this.m_bounds[a];var l=0;var c=0;var h=[l];var p=[c];this.Query(h,p,o[a],u[a],f,s,a);l=h[0];c=p[0];var d=new Array();var v=0;var m=s-c;var g;var y;for(v=0;v<m;v++){d[v]=new b2Bound();g=d[v];y=f[c+v];g.value=y.value;g.proxyId=y.proxyId;g.stabbingCount=y.stabbingCount;}m=d.length;var b=c+2;for(v=0;v<m;v++){y=d[v];g=f[b+v];g.value=y.value;g.proxyId=y.proxyId;g.stabbingCount=y.stabbingCount;}d=new Array();m=c-l;for(v=0;v<m;v++){d[v]=new b2Bound();g=d[v];y=f[l+v];g.value=y.value;g.proxyId=y.proxyId;g.stabbingCount=y.stabbingCount;}m=d.length;b=l+1;for(v=0;v<m;v++){y=d[v];g=f[b+v];g.value=y.value;g.proxyId=y.proxyId;g.stabbingCount=y.stabbingCount;}++c;f[l].value=o[a];f[l].proxyId=i;f[c].value=u[a];f[c].proxyId=i;f[l].stabbingCount=l==0?0:f[l-1].stabbingCount;f[c].stabbingCount=f[c-1].stabbingCount;for(n=l;n<c;++n){f[n].stabbingCount++;}for(n=l;n<s+2;++n){var w=this.m_proxyPool[f[n].proxyId];if(f[n].IsLower()){w.lowerBounds[a]=n;}else{w.upperBounds[a]=n;}}}++this.m_proxyCount;for(var E=0;E<this.m_queryResultCount;++E){this.m_pairManager.AddBufferedPair(i,this.m_queryResults[E]);}this.m_pairManager.Commit();this.m_queryResultCount=0;this.IncrementTimeStamp();return i;},DestroyProxy:function DestroyProxy(e){var t=this.m_proxyPool[e];var n=2*this.m_proxyCount;for(var r=0;r<2;++r){var i=this.m_bounds[r];var s=t.lowerBounds[r];var o=t.upperBounds[r];var u=i[s].value;var a=i[o].value;var f=new Array();var l=0;var c=o-s-1;var h;var p;for(l=0;l<c;l++){f[l]=new b2Bound();h=f[l];p=i[s+1+l];h.value=p.value;h.proxyId=p.proxyId;h.stabbingCount=p.stabbingCount;}c=f.length;var d=s;for(l=0;l<c;l++){p=f[l];h=i[d+l];h.value=p.value;h.proxyId=p.proxyId;h.stabbingCount=p.stabbingCount;}f=new Array();c=n-o-1;for(l=0;l<c;l++){f[l]=new b2Bound();h=f[l];p=i[o+1+l];h.value=p.value;h.proxyId=p.proxyId;h.stabbingCount=p.stabbingCount;}c=f.length;d=o-1;for(l=0;l<c;l++){p=f[l];h=i[d+l];h.value=p.value;h.proxyId=p.proxyId;h.stabbingCount=p.stabbingCount;}c=n-2;for(var v=s;v<c;++v){var m=this.m_proxyPool[i[v].proxyId];if(i[v].IsLower()){m.lowerBounds[r]=v;}else{m.upperBounds[r]=v;}}c=o-1;for(var g=s;g<c;++g){i[g].stabbingCount--;}this.Query([0],[0],u,a,i,n-2,r);}for(var y=0;y<this.m_queryResultCount;++y){this.m_pairManager.RemoveBufferedPair(e,this.m_queryResults[y]);}this.m_pairManager.Commit();this.m_queryResultCount=0;this.IncrementTimeStamp();t.userData=null;t.overlapCount=b2BroadPhase.b2_invalid;t.lowerBounds[0]=b2BroadPhase.b2_invalid;t.lowerBounds[1]=b2BroadPhase.b2_invalid;t.upperBounds[0]=b2BroadPhase.b2_invalid;t.upperBounds[1]=b2BroadPhase.b2_invalid;t.SetNext(this.m_freeProxy);this.m_freeProxy=e;--this.m_proxyCount;},MoveProxy:function MoveProxy(e,t){var n=0;var r=0;var i;var s;var o;var u=0;var a;if(e==b2Pair.b2_nullProxy||b2Settings.b2_maxProxies<=e){return;}if(t.IsValid()==false){return;}var f=2*this.m_proxyCount;var l=this.m_proxyPool[e];var c=new b2BoundValues();this.ComputeBounds(c.lowerValues,c.upperValues,t);var h=new b2BoundValues();for(n=0;n<2;++n){h.lowerValues[n]=this.m_bounds[n][l.lowerBounds[n]].value;h.upperValues[n]=this.m_bounds[n][l.upperBounds[n]].value;}for(n=0;n<2;++n){var p=this.m_bounds[n];var d=l.lowerBounds[n];var v=l.upperBounds[n];var m=c.lowerValues[n];var g=c.upperValues[n];var y=m-p[d].value;var b=g-p[v].value;p[d].value=m;p[v].value=g;if(y<0){r=d;while(r>0&&m<p[r-1].value){i=p[r];s=p[r-1];var w=s.proxyId;var E=this.m_proxyPool[s.proxyId];s.stabbingCount++;if(s.IsUpper()==true){if(this.TestOverlap(c,E)){this.m_pairManager.AddBufferedPair(e,w);}E.upperBounds[n]++;i.stabbingCount++;}else{E.lowerBounds[n]++;i.stabbingCount--;}l.lowerBounds[n]--;i.Swap(s);--r;}}if(b>0){r=v;while(r<f-1&&p[r+1].value<=g){i=p[r];o=p[r+1];u=o.proxyId;a=this.m_proxyPool[u];o.stabbingCount++;if(o.IsLower()==true){if(this.TestOverlap(c,a)){this.m_pairManager.AddBufferedPair(e,u);}a.lowerBounds[n]--;i.stabbingCount++;}else{a.upperBounds[n]--;i.stabbingCount--;}l.upperBounds[n]++;i.Swap(o);r++;}}if(y>0){r=d;while(r<f-1&&p[r+1].value<=m){i=p[r];o=p[r+1];u=o.proxyId;a=this.m_proxyPool[u];o.stabbingCount--;if(o.IsUpper()){if(this.TestOverlap(h,a)){this.m_pairManager.RemoveBufferedPair(e,u);}a.upperBounds[n]--;i.stabbingCount--;}else{a.lowerBounds[n]--;i.stabbingCount++;}l.lowerBounds[n]++;i.Swap(o);r++;}}if(b<0){r=v;while(r>0&&g<p[r-1].value){i=p[r];s=p[r-1];w=s.proxyId;E=this.m_proxyPool[w];s.stabbingCount--;if(s.IsLower()==true){if(this.TestOverlap(h,E)){this.m_pairManager.RemoveBufferedPair(e,w);}E.lowerBounds[n]++;i.stabbingCount--;}else{E.upperBounds[n]++;i.stabbingCount++;}l.upperBounds[n]--;i.Swap(s);r--;}}}},Commit:function Commit(){this.m_pairManager.Commit();},QueryAABB:function QueryAABB(e,t,n){var r=new Array();var i=new Array();this.ComputeBounds(r,i,e);var s=0;var o=0;var u=[s];var a=[o];this.Query(u,a,r[0],i[0],this.m_bounds[0],2*this.m_proxyCount,0);this.Query(u,a,r[1],i[1],this.m_bounds[1],2*this.m_proxyCount,1);var f=0;for(var l=0;l<this.m_queryResultCount&&f<n;++l,++f){var c=this.m_proxyPool[this.m_queryResults[l]];t[l]=c.userData;}this.m_queryResultCount=0;this.IncrementTimeStamp();return f;},Validate:function Validate(){var e;var t;var n;var r;for(var i=0;i<2;++i){var s=this.m_bounds[i];var o=2*this.m_proxyCount;var u=0;for(var a=0;a<o;++a){var f=s[a];if(f.IsLower()==true){u++;}else{u--;}}}},ComputeBounds:function ComputeBounds(e,t,n){var r=n.minVertex.x;var i=n.minVertex.y;r=b2Math.b2Min(r,this.m_worldAABB.maxVertex.x);i=b2Math.b2Min(i,this.m_worldAABB.maxVertex.y);r=b2Math.b2Max(r,this.m_worldAABB.minVertex.x);i=b2Math.b2Max(i,this.m_worldAABB.minVertex.y);var s=n.maxVertex.x;var o=n.maxVertex.y;s=b2Math.b2Min(s,this.m_worldAABB.maxVertex.x);o=b2Math.b2Min(o,this.m_worldAABB.maxVertex.y);s=b2Math.b2Max(s,this.m_worldAABB.minVertex.x);o=b2Math.b2Max(o,this.m_worldAABB.minVertex.y);e[0]=this.m_quantizationFactor.x*(r-this.m_worldAABB.minVertex.x)&b2Settings.USHRT_MAX-1;t[0]=this.m_quantizationFactor.x*(s-this.m_worldAABB.minVertex.x)&65535|1;e[1]=this.m_quantizationFactor.y*(i-this.m_worldAABB.minVertex.y)&b2Settings.USHRT_MAX-1;t[1]=this.m_quantizationFactor.y*(o-this.m_worldAABB.minVertex.y)&65535|1;},TestOverlapValidate:function TestOverlapValidate(e,t){for(var n=0;n<2;++n){var r=this.m_bounds[n];if(r[e.lowerBounds[n]].value>r[t.upperBounds[n]].value)return false;if(r[e.upperBounds[n]].value<r[t.lowerBounds[n]].value)return false;}return true;},TestOverlap:function TestOverlap(e,t){for(var n=0;n<2;++n){var r=this.m_bounds[n];if(e.lowerValues[n]>r[t.upperBounds[n]].value)return false;if(e.upperValues[n]<r[t.lowerBounds[n]].value)return false;}return true;},Query:function Query(e,t,n,r,i,s,o){var u=b2BroadPhase.BinarySearch(i,s,n);var a=b2BroadPhase.BinarySearch(i,s,r);for(var f=u;f<a;++f){if(i[f].IsLower()){this.IncrementOverlapCount(i[f].proxyId);}}if(u>0){var l=u-1;var c=i[l].stabbingCount;while(c){if(i[l].IsLower()){var h=this.m_proxyPool[i[l].proxyId];if(u<=h.upperBounds[o]){this.IncrementOverlapCount(i[l].proxyId);--c;}}--l;}}e[0]=u;t[0]=a;},IncrementOverlapCount:function IncrementOverlapCount(e){var t=this.m_proxyPool[e];if(t.timeStamp<this.m_timeStamp){t.timeStamp=this.m_timeStamp;t.overlapCount=1;}else{t.overlapCount=2;this.m_queryResults[this.m_queryResultCount]=e;++this.m_queryResultCount;}},IncrementTimeStamp:function IncrementTimeStamp(){if(this.m_timeStamp==b2Settings.USHRT_MAX){for(var e=0;e<b2Settings.b2_maxProxies;++e){this.m_proxyPool[e].timeStamp=0;}this.m_timeStamp=1;}else{++this.m_timeStamp;}},m_pairManager:new b2PairManager(),m_proxyPool:new Array(b2Settings.b2_maxPairs),m_freeProxy:0,m_bounds:new Array(2*b2Settings.b2_maxProxies),m_queryResults:new Array(b2Settings.b2_maxProxies),m_queryResultCount:0,m_worldAABB:null,m_quantizationFactor:new b2Vec2(),m_proxyCount:0,m_timeStamp:0};b2BroadPhase.s_validate=false;b2BroadPhase.b2_invalid=b2Settings.USHRT_MAX;b2BroadPhase.b2_nullEdge=b2Settings.USHRT_MAX;b2BroadPhase.BinarySearch=function(e,t,n){var r=0;var i=t-1;while(r<=i){var s=Math.floor((r+i)/2);if(e[s].value>n){i=s-1;}else if(e[s].value<n){r=s+1;}else{return s;}}return r;};var b2Collision=Class.create();b2Collision.prototype={initialize:function initialize(){}};b2Collision.b2_nullFeature=255;b2Collision.ClipSegmentToLine=function(e,t,n,r){var i=0;var s=t[0].v;var o=t[1].v;var u=b2Math.b2Dot(n,t[0].v)-r;var a=b2Math.b2Dot(n,t[1].v)-r;if(u<=0)e[i++]=t[0];if(a<=0)e[i++]=t[1];if(u*a<0){var f=u/(u-a);var l=e[i].v;l.x=s.x+f*(o.x-s.x);l.y=s.y+f*(o.y-s.y);if(u>0){e[i].id=t[0].id;}else{e[i].id=t[1].id;}++i;}return i;};b2Collision.EdgeSeparation=function(e,t,n){var r=e.m_vertices;var i=n.m_vertexCount;var s=n.m_vertices;var o=e.m_normals[t].x;var u=e.m_normals[t].y;var a=o;var f=e.m_R;o=f.col1.x*a+f.col2.x*u;u=f.col1.y*a+f.col2.y*u;var l=o;var c=u;f=n.m_R;a=l*f.col1.x+c*f.col1.y;c=l*f.col2.x+c*f.col2.y;l=a;var h=0;var p=Number.MAX_VALUE;for(var d=0;d<i;++d){var v=s[d];var m=v.x*l+v.y*c;if(m<p){p=m;h=d;}}f=e.m_R;var g=e.m_position.x+(f.col1.x*r[t].x+f.col2.x*r[t].y);var y=e.m_position.y+(f.col1.y*r[t].x+f.col2.y*r[t].y);f=n.m_R;var b=n.m_position.x+(f.col1.x*s[h].x+f.col2.x*s[h].y);var w=n.m_position.y+(f.col1.y*s[h].x+f.col2.y*s[h].y);b-=g;w-=y;var E=b*o+w*u;return E;};b2Collision.FindMaxSeparation=function(e,t,n,r){var i=t.m_vertexCount;var s=n.m_position.x-t.m_position.x;var o=n.m_position.y-t.m_position.y;var u=s*t.m_R.col1.x+o*t.m_R.col1.y;var a=s*t.m_R.col2.x+o*t.m_R.col2.y;var f=0;var l=-Number.MAX_VALUE;for(var c=0;c<i;++c){var h=t.m_normals[c].x*u+t.m_normals[c].y*a;if(h>l){l=h;f=c;}}var p=b2Collision.EdgeSeparation(t,f,n);if(p>0&&r==false){return p;}var d=f-1>=0?f-1:i-1;var v=b2Collision.EdgeSeparation(t,d,n);if(v>0&&r==false){return v;}var m=f+1<i?f+1:0;var g=b2Collision.EdgeSeparation(t,m,n);if(g>0&&r==false){return g;}var y=0;var b;var w=0;if(v>p&&v>g){w=-1;y=d;b=v;}else if(g>p){w=1;y=m;b=g;}else{e[0]=f;return p;}while(true){if(w==-1)f=y-1>=0?y-1:i-1;else f=y+1<i?y+1:0;p=b2Collision.EdgeSeparation(t,f,n);if(p>0&&r==false){return p;}if(p>b){y=f;b=p;}else{break;}}e[0]=y;return b;};b2Collision.FindIncidentEdge=function(e,t,n,r){var i=t.m_vertexCount;var s=t.m_vertices;var o=r.m_vertexCount;var u=r.m_vertices;var a=n;var f=n+1==i?0:n+1;var l=s[f];var c=l.x;var h=l.y;l=s[a];c-=l.x;h-=l.y;var p=c;c=h;h=-p;var d=1/Math.sqrt(c*c+h*h);c*=d;h*=d;var v=c;var m=h;p=v;var g=t.m_R;v=g.col1.x*p+g.col2.x*m;m=g.col1.y*p+g.col2.y*m;var y=v;var b=m;g=r.m_R;p=y*g.col1.x+b*g.col1.y;b=y*g.col2.x+b*g.col2.y;y=p;var w=0;var E=0;var S=Number.MAX_VALUE;for(var x=0;x<o;++x){var T=x;var N=x+1<o?x+1:0;l=u[N];var C=l.x;var k=l.y;l=u[T];C-=l.x;k-=l.y;p=C;C=k;k=-p;d=1/Math.sqrt(C*C+k*k);C*=d;k*=d;var L=C*y+k*b;if(L<S){S=L;w=T;E=N;}}var A;A=e[0];l=A.v;l.SetV(u[w]);l.MulM(r.m_R);l.Add(r.m_position);A.id.features.referenceFace=n;A.id.features.incidentEdge=w;A.id.features.incidentVertex=w;A=e[1];l=A.v;l.SetV(u[E]);l.MulM(r.m_R);l.Add(r.m_position);A.id.features.referenceFace=n;A.id.features.incidentEdge=w;A.id.features.incidentVertex=E;};b2Collision.b2CollidePolyTempVec=new b2Vec2();b2Collision.b2CollidePoly=function(e,t,n,r){e.pointCount=0;var i=0;var s=[i];var o=b2Collision.FindMaxSeparation(s,t,n,r);i=s[0];if(o>0&&r==false)return;var u=0;var a=[u];var f=b2Collision.FindMaxSeparation(a,n,t,r);u=a[0];if(f>0&&r==false)return;var l;var c;var h=0;var p=0;var d=.98;var v=.001;if(f>d*o+v){l=n;c=t;h=u;p=1;}else{l=t;c=n;h=i;p=0;}var m=[new ClipVertex(),new ClipVertex()];b2Collision.FindIncidentEdge(m,l,h,c);var g=l.m_vertexCount;var y=l.m_vertices;var b=y[h];var w=h+1<g?y[h+1]:y[0];var E=w.x-b.x;var S=w.y-b.y;var x=w.x-b.x;var T=w.y-b.y;var N=x;var C=l.m_R;x=C.col1.x*N+C.col2.x*T;T=C.col1.y*N+C.col2.y*T;var k=1/Math.sqrt(x*x+T*T);x*=k;T*=k;var L=x;var A=T;N=L;L=A;A=-N;var O=b.x;var M=b.y;N=O;C=l.m_R;O=C.col1.x*N+C.col2.x*M;M=C.col1.y*N+C.col2.y*M;O+=l.m_position.x;M+=l.m_position.y;var _=w.x;var D=w.y;N=_;C=l.m_R;_=C.col1.x*N+C.col2.x*D;D=C.col1.y*N+C.col2.y*D;_+=l.m_position.x;D+=l.m_position.y;var P=L*O+A*M;var H=-(x*O+T*M);var B=x*_+T*D;var j=[new ClipVertex(),new ClipVertex()];var F=[new ClipVertex(),new ClipVertex()];var I=0;b2Collision.b2CollidePolyTempVec.Set(-x,-T);I=b2Collision.ClipSegmentToLine(j,m,b2Collision.b2CollidePolyTempVec,H);if(I<2)return;b2Collision.b2CollidePolyTempVec.Set(x,T);I=b2Collision.ClipSegmentToLine(F,j,b2Collision.b2CollidePolyTempVec,B);if(I<2)return;if(p){e.normal.Set(-L,-A);}else{e.normal.Set(L,A);}var q=0;for(var R=0;R<b2Settings.b2_maxManifoldPoints;++R){var U=F[R].v;var z=L*U.x+A*U.y-P;if(z<=0||r==true){var W=e.points[q];W.separation=z;W.position.SetV(F[R].v);W.id.Set(F[R].id);W.id.features.flip=p;++q;}}e.pointCount=q;};b2Collision.b2CollideCircle=function(e,t,n,r){e.pointCount=0;var i=n.m_position.x-t.m_position.x;var s=n.m_position.y-t.m_position.y;var o=i*i+s*s;var u=t.m_radius+n.m_radius;if(o>u*u&&r==false){return;}var a;if(o<Number.MIN_VALUE){a=-u;e.normal.Set(0,1);}else{var f=Math.sqrt(o);a=f-u;var l=1/f;e.normal.x=l*i;e.normal.y=l*s;}e.pointCount=1;var c=e.points[0];c.id.set_key(0);c.separation=a;c.position.x=n.m_position.x-n.m_radius*e.normal.x;c.position.y=n.m_position.y-n.m_radius*e.normal.y;};b2Collision.b2CollidePolyAndCircle=function(e,t,n,r){e.pointCount=0;var i;var s;var o;var u=n.m_position.x-t.m_position.x;var a=n.m_position.y-t.m_position.y;var f=t.m_R;var l=u*f.col1.x+a*f.col1.y;a=u*f.col2.x+a*f.col2.y;u=l;var c;var h=0;var p=-Number.MAX_VALUE;var d=n.m_radius;for(var v=0;v<t.m_vertexCount;++v){var m=t.m_normals[v].x*(u-t.m_vertices[v].x)+t.m_normals[v].y*(a-t.m_vertices[v].y);if(m>d){return;}if(m>p){p=m;h=v;}}if(p<Number.MIN_VALUE){e.pointCount=1;var g=t.m_normals[h];e.normal.x=f.col1.x*g.x+f.col2.x*g.y;e.normal.y=f.col1.y*g.x+f.col2.y*g.y;i=e.points[0];i.id.features.incidentEdge=h;i.id.features.incidentVertex=b2Collision.b2_nullFeature;i.id.features.referenceFace=b2Collision.b2_nullFeature;i.id.features.flip=0;i.position.x=n.m_position.x-d*e.normal.x;i.position.y=n.m_position.y-d*e.normal.y;i.separation=p-d;return;}var y=h;var b=y+1<t.m_vertexCount?y+1:0;var w=t.m_vertices[b].x-t.m_vertices[y].x;var E=t.m_vertices[b].y-t.m_vertices[y].y;var S=Math.sqrt(w*w+E*E);w/=S;E/=S;if(S<Number.MIN_VALUE){s=u-t.m_vertices[y].x;o=a-t.m_vertices[y].y;c=Math.sqrt(s*s+o*o);s/=c;o/=c;if(c>d){return;}e.pointCount=1;e.normal.Set(f.col1.x*s+f.col2.x*o,f.col1.y*s+f.col2.y*o);i=e.points[0];i.id.features.incidentEdge=b2Collision.b2_nullFeature;i.id.features.incidentVertex=y;i.id.features.referenceFace=b2Collision.b2_nullFeature;i.id.features.flip=0;i.position.x=n.m_position.x-d*e.normal.x;i.position.y=n.m_position.y-d*e.normal.y;i.separation=c-d;return;}var x=(u-t.m_vertices[y].x)*w+(a-t.m_vertices[y].y)*E;i=e.points[0];i.id.features.incidentEdge=b2Collision.b2_nullFeature;i.id.features.incidentVertex=b2Collision.b2_nullFeature;i.id.features.referenceFace=b2Collision.b2_nullFeature;i.id.features.flip=0;var T,N;if(x<=0){T=t.m_vertices[y].x;N=t.m_vertices[y].y;i.id.features.incidentVertex=y;}else if(x>=S){T=t.m_vertices[b].x;N=t.m_vertices[b].y;i.id.features.incidentVertex=b;}else{T=w*x+t.m_vertices[y].x;N=E*x+t.m_vertices[y].y;i.id.features.incidentEdge=y;}s=u-T;o=a-N;c=Math.sqrt(s*s+o*o);s/=c;o/=c;if(c>d){return;}e.pointCount=1;e.normal.Set(f.col1.x*s+f.col2.x*o,f.col1.y*s+f.col2.y*o);i.position.x=n.m_position.x-d*e.normal.x;i.position.y=n.m_position.y-d*e.normal.y;i.separation=c-d;};b2Collision.b2TestOverlap=function(e,t){var n=t.minVertex;var r=e.maxVertex;var i=n.x-r.x;var s=n.y-r.y;n=e.minVertex;r=t.maxVertex;var o=n.x-r.x;var u=n.y-r.y;if(i>0||s>0)return false;if(o>0||u>0)return false;return true;};var Features=Class.create();Features.prototype={set_referenceFace:function set_referenceFace(e){this._referenceFace=e;this._m_id._key=this._m_id._key&4294967040|this._referenceFace&255;},get_referenceFace:function get_referenceFace(){return this._referenceFace;},_referenceFace:0,set_incidentEdge:function set_incidentEdge(e){this._incidentEdge=e;this._m_id._key=this._m_id._key&4294902015|this._incidentEdge<<8&65280;},get_incidentEdge:function get_incidentEdge(){return this._incidentEdge;},_incidentEdge:0,set_incidentVertex:function set_incidentVertex(e){this._incidentVertex=e;this._m_id._key=this._m_id._key&4278255615|this._incidentVertex<<16&16711680;},get_incidentVertex:function get_incidentVertex(){return this._incidentVertex;},_incidentVertex:0,set_flip:function set_flip(e){this._flip=e;this._m_id._key=this._m_id._key&16777215|this._flip<<24&4278190080;},get_flip:function get_flip(){return this._flip;},_flip:0,_m_id:null,initialize:function initialize(){}};var b2ContactID=Class.create();b2ContactID.prototype={initialize:function initialize(){this.features=new Features();this.features._m_id=this;},Set:function Set(e){this.set_key(e._key);},Copy:function Copy(){var e=new b2ContactID();e.set_key(this._key);return e;},get_key:function get_key(){return this._key;},set_key:function set_key(e){this._key=e;this.features._referenceFace=this._key&255;this.features._incidentEdge=(this._key&65280)>>8&255;this.features._incidentVertex=(this._key&16711680)>>16&255;this.features._flip=(this._key&4278190080)>>24&255;},features:new Features(),_key:0};var b2ContactPoint=Class.create();b2ContactPoint.prototype={position:new b2Vec2(),separation:null,normalImpulse:null,tangentImpulse:null,id:new b2ContactID(),initialize:function initialize(){this.position=new b2Vec2();this.id=new b2ContactID();}};var b2Distance=Class.create();b2Distance.prototype={initialize:function initialize(){}};b2Distance.ProcessTwo=function(e,t,n,r,i){var s=-i[1].x;var o=-i[1].y;var u=i[0].x-i[1].x;var a=i[0].y-i[1].y;var f=Math.sqrt(u*u+a*a);u/=f;a/=f;var l=s*u+o*a;if(l<=0||f<Number.MIN_VALUE){e.SetV(n[1]);t.SetV(r[1]);n[0].SetV(n[1]);r[0].SetV(r[1]);i[0].SetV(i[1]);return 1;}l/=f;e.x=n[1].x+l*(n[0].x-n[1].x);e.y=n[1].y+l*(n[0].y-n[1].y);t.x=r[1].x+l*(r[0].x-r[1].x);t.y=r[1].y+l*(r[0].y-r[1].y);return 2;};b2Distance.ProcessThree=function(e,t,n,r,i){var s=i[0].x;var o=i[0].y;var u=i[1].x;var a=i[1].y;var f=i[2].x;var l=i[2].y;var c=u-s;var h=a-o;var p=f-s;var d=l-o;var v=f-u;var m=l-a;var g=-(s*c+o*h);var y=u*c+a*h;var b=-(s*p+o*d);var w=f*p+l*d;var E=-(u*v+a*m);var S=f*v+l*m;if(w<=0&&S<=0){e.SetV(n[2]);t.SetV(r[2]);n[0].SetV(n[2]);r[0].SetV(r[2]);i[0].SetV(i[2]);return 1;}var x=c*d-h*p;var T=x*(s*a-o*u);var N=x*(u*l-a*f);if(N<=0&&E>=0&&S>=0){var C=E/(E+S);e.x=n[1].x+C*(n[2].x-n[1].x);e.y=n[1].y+C*(n[2].y-n[1].y);t.x=r[1].x+C*(r[2].x-r[1].x);t.y=r[1].y+C*(r[2].y-r[1].y);n[0].SetV(n[2]);r[0].SetV(r[2]);i[0].SetV(i[2]);return 2;}var k=x*(f*o-l*s);if(k<=0&&b>=0&&w>=0){var C=b/(b+w);e.x=n[0].x+C*(n[2].x-n[0].x);e.y=n[0].y+C*(n[2].y-n[0].y);t.x=r[0].x+C*(r[2].x-r[0].x);t.y=r[0].y+C*(r[2].y-r[0].y);n[1].SetV(n[2]);r[1].SetV(r[2]);i[1].SetV(i[2]);return 2;}var L=N+k+T;L=1/L;var A=N*L;var O=k*L;var M=1-A-O;e.x=A*n[0].x+O*n[1].x+M*n[2].x;e.y=A*n[0].y+O*n[1].y+M*n[2].y;t.x=A*r[0].x+O*r[1].x+M*r[2].x;t.y=A*r[0].y+O*r[1].y+M*r[2].y;return 3;};b2Distance.InPoinsts=function(e,t,n){for(var r=0;r<n;++r){if(e.x==t[r].x&&e.y==t[r].y){return true;}}return false;};b2Distance.Distance=function(e,t,n,r){var i=new Array(3);var s=new Array(3);var o=new Array(3);var u=0;e.SetV(n.m_position);t.SetV(r.m_position);var a=0;var f=20;for(var l=0;l<f;++l){var c=t.x-e.x;var h=t.y-e.y;var p=n.Support(c,h);var d=r.Support(-c,-h);a=c*c+h*h;var v=d.x-p.x;var m=d.y-p.y;var g=c*v+h*m;if(a-b2Dot(c*v+h*m)<=.01*a){if(u==0){e.SetV(p);t.SetV(d);}b2Distance.g_GJK_Iterations=l;return Math.sqrt(a);}switch(u){case 0:i[0].SetV(p);s[0].SetV(d);o[0]=w;e.SetV(i[0]);t.SetV(s[0]);++u;break;case 1:i[1].SetV(p);s[1].SetV(d);o[1].x=v;o[1].y=m;u=b2Distance.ProcessTwo(e,t,i,s,o);break;case 2:i[2].SetV(p);s[2].SetV(d);o[2].x=v;o[2].y=m;u=b2Distance.ProcessThree(e,t,i,s,o);break;}if(u==3){b2Distance.g_GJK_Iterations=l;return 0;}var y=-Number.MAX_VALUE;for(var b=0;b<u;++b){y=b2Math.b2Max(y,o[b].x*o[b].x+o[b].y*o[b].y);}if(u==3||a<=100*Number.MIN_VALUE*y){b2Distance.g_GJK_Iterations=l;return Math.sqrt(a);}}b2Distance.g_GJK_Iterations=f;return Math.sqrt(a);};b2Distance.g_GJK_Iterations=0;var b2Manifold=Class.create();b2Manifold.prototype={initialize:function initialize(){this.points=new Array(b2Settings.b2_maxManifoldPoints);for(var e=0;e<b2Settings.b2_maxManifoldPoints;e++){this.points[e]=new b2ContactPoint();}this.normal=new b2Vec2();},points:null,normal:null,pointCount:0};var b2OBB=Class.create();b2OBB.prototype={R:new b2Mat22(),center:new b2Vec2(),extents:new b2Vec2(),initialize:function initialize(){this.R=new b2Mat22();this.center=new b2Vec2();this.extents=new b2Vec2();}};var b2Proxy=Class.create();b2Proxy.prototype={GetNext:function GetNext(){return this.lowerBounds[0];},SetNext:function SetNext(e){this.lowerBounds[0]=e;},IsValid:function IsValid(){return this.overlapCount!=b2BroadPhase.b2_invalid;},lowerBounds:[0,0],upperBounds:[0,0],overlapCount:0,timeStamp:0,userData:null,initialize:function initialize(){this.lowerBounds=[0,0];this.upperBounds=[0,0];}};var ClipVertex=Class.create();ClipVertex.prototype={v:new b2Vec2(),id:new b2ContactID(),initialize:function initialize(){this.v=new b2Vec2();this.id=new b2ContactID();}};var b2Shape=Class.create();b2Shape.prototype={TestPoint:function TestPoint(e){return false;},GetUserData:function GetUserData(){return this.m_userData;},GetType:function GetType(){return this.m_type;},GetBody:function GetBody(){return this.m_body;},GetPosition:function GetPosition(){return this.m_position;},GetRotationMatrix:function GetRotationMatrix(){return this.m_R;},ResetProxy:function ResetProxy(e){},GetNext:function GetNext(){return this.m_next;},initialize:function initialize(e,t){this.m_R=new b2Mat22();this.m_position=new b2Vec2();this.m_userData=e.userData;this.m_friction=e.friction;this.m_restitution=e.restitution;this.m_body=t;this.m_proxyId=b2Pair.b2_nullProxy;this.m_maxRadius=0;this.m_categoryBits=e.categoryBits;this.m_maskBits=e.maskBits;this.m_groupIndex=e.groupIndex;},DestroyProxy:function DestroyProxy(){if(this.m_proxyId!=b2Pair.b2_nullProxy){this.m_body.m_world.m_broadPhase.DestroyProxy(this.m_proxyId);this.m_proxyId=b2Pair.b2_nullProxy;}},Synchronize:function Synchronize(e,t,n,r){},QuickSync:function QuickSync(e,t){},Support:function Support(e,t,n){},GetMaxRadius:function GetMaxRadius(){return this.m_maxRadius;},m_next:null,m_R:new b2Mat22(),m_position:new b2Vec2(),m_type:0,m_userData:null,m_body:null,m_friction:null,m_restitution:null,m_maxRadius:null,m_proxyId:0,m_categoryBits:0,m_maskBits:0,m_groupIndex:0};b2Shape.Create=function(e,t,n){switch(e.type){case b2Shape.e_circleShape:{return new b2CircleShape(e,t,n);};case b2Shape.e_boxShape:case b2Shape.e_polyShape:{return new b2PolyShape(e,t,n);}}return null;};b2Shape.Destroy=function(e){if(e.m_proxyId!=b2Pair.b2_nullProxy)e.m_body.m_world.m_broadPhase.DestroyProxy(e.m_proxyId);};b2Shape.e_unknownShape=-1;b2Shape.e_circleShape=0;b2Shape.e_boxShape=1;b2Shape.e_polyShape=2;b2Shape.e_meshShape=3;b2Shape.e_shapeTypeCount=4;b2Shape.PolyMass=function(e,t,n,r){var i=new b2Vec2();i.SetZero();var s=0;var o=0;var u=new b2Vec2(0,0);var a=1/3;for(var f=0;f<n;++f){var l=u;var c=t[f];var h=f+1<n?t[f+1]:t[0];var p=b2Math.SubtractVV(c,l);var d=b2Math.SubtractVV(h,l);var v=b2Math.b2CrossVV(p,d);var m=.5*v;s+=m;var g=new b2Vec2();g.SetV(l);g.Add(c);g.Add(h);g.Multiply(a*m);i.Add(g);var y=l.x;var b=l.y;var w=p.x;var E=p.y;var S=d.x;var x=d.y;var T=a*(.25*(w*w+S*w+S*S)+(y*w+y*S))+.5*y*y;var N=a*(.25*(E*E+x*E+x*x)+(b*E+b*x))+.5*b*b;o+=v*(T+N);}e.mass=r*s;i.Multiply(1/s);e.center=i;o=r*(o-s*b2Math.b2Dot(i,i));e.I=o;};b2Shape.PolyCentroid=function(e,t,n){var r=0;var i=0;var s=0;var o=0;var u=0;var a=1/3;for(var f=0;f<t;++f){var l=o;var c=u;var h=e[f].x;var p=e[f].y;var d=f+1<t?e[f+1].x:e[0].x;var v=f+1<t?e[f+1].y:e[0].y;var m=h-l;var g=p-c;var y=d-l;var b=v-c;var w=m*b-g*y;var E=.5*w;s+=E;r+=E*a*(l+h+d);i+=E*a*(c+p+v);}r*=1/s;i*=1/s;n.Set(r,i);};var b2ShapeDef=Class.create();b2ShapeDef.prototype={initialize:function initialize(){this.type=b2Shape.e_unknownShape;this.userData=null;this.localPosition=new b2Vec2(0,0);this.localRotation=0;this.friction=.2;this.restitution=0;this.density=0;this.categoryBits=1;this.maskBits=65535;this.groupIndex=0;},ComputeMass:function ComputeMass(e){e.center=new b2Vec2(0,0);if(this.density==0){e.mass=0;e.center.Set(0,0);e.I=0;}switch(this.type){case b2Shape.e_circleShape:{var t=this;e.mass=this.density*b2Settings.b2_pi*t.radius*t.radius;e.center.Set(0,0);e.I=.5*e.mass*t.radius*t.radius;}break;case b2Shape.e_boxShape:{var n=this;e.mass=4*this.density*n.extents.x*n.extents.y;e.center.Set(0,0);e.I=e.mass/3*b2Math.b2Dot(n.extents,n.extents);}break;case b2Shape.e_polyShape:{var r=this;b2Shape.PolyMass(e,r.vertices,r.vertexCount,this.density);}break;default:e.mass=0;e.center.Set(0,0);e.I=0;break;}},type:0,userData:null,localPosition:null,localRotation:null,friction:null,restitution:null,density:null,categoryBits:0,maskBits:0,groupIndex:0};var b2BoxDef=Class.create();Object.extend(b2BoxDef.prototype,b2ShapeDef.prototype);Object.extend(b2BoxDef.prototype,{initialize:function initialize(){this.type=b2Shape.e_unknownShape;this.userData=null;this.localPosition=new b2Vec2(0,0);this.localRotation=0;this.friction=.2;this.restitution=0;this.density=0;this.categoryBits=1;this.maskBits=65535;this.groupIndex=0;this.type=b2Shape.e_boxShape;this.extents=new b2Vec2(1,1);},extents:null});var b2CircleDef=Class.create();Object.extend(b2CircleDef.prototype,b2ShapeDef.prototype);Object.extend(b2CircleDef.prototype,{initialize:function initialize(){this.type=b2Shape.e_unknownShape;this.userData=null;this.localPosition=new b2Vec2(0,0);this.localRotation=0;this.friction=.2;this.restitution=0;this.density=0;this.categoryBits=1;this.maskBits=65535;this.groupIndex=0;this.type=b2Shape.e_circleShape;this.radius=1;},radius:null});var b2CircleShape=Class.create();Object.extend(b2CircleShape.prototype,b2Shape.prototype);Object.extend(b2CircleShape.prototype,{TestPoint:function TestPoint(e){var t=new b2Vec2();t.SetV(e);t.Subtract(this.m_position);return b2Math.b2Dot(t,t)<=this.m_radius*this.m_radius;},initialize:function initialize(e,t,n){this.m_R=new b2Mat22();this.m_position=new b2Vec2();this.m_userData=e.userData;this.m_friction=e.friction;this.m_restitution=e.restitution;this.m_body=t;this.m_proxyId=b2Pair.b2_nullProxy;this.m_maxRadius=0;this.m_categoryBits=e.categoryBits;this.m_maskBits=e.maskBits;this.m_groupIndex=e.groupIndex;this.m_localPosition=new b2Vec2();var r=e;this.m_localPosition.Set(e.localPosition.x-n.x,e.localPosition.y-n.y);this.m_type=b2Shape.e_circleShape;this.m_radius=r.radius;this.m_R.SetM(this.m_body.m_R);var i=this.m_R.col1.x*this.m_localPosition.x+this.m_R.col2.x*this.m_localPosition.y;var s=this.m_R.col1.y*this.m_localPosition.x+this.m_R.col2.y*this.m_localPosition.y;this.m_position.x=this.m_body.m_position.x+i;this.m_position.y=this.m_body.m_position.y+s;this.m_maxRadius=Math.sqrt(i*i+s*s)+this.m_radius;var o=new b2AABB();o.minVertex.Set(this.m_position.x-this.m_radius,this.m_position.y-this.m_radius);o.maxVertex.Set(this.m_position.x+this.m_radius,this.m_position.y+this.m_radius);var u=this.m_body.m_world.m_broadPhase;if(u.InRange(o)){this.m_proxyId=u.CreateProxy(o,this);}else{this.m_proxyId=b2Pair.b2_nullProxy;}if(this.m_proxyId==b2Pair.b2_nullProxy){this.m_body.Freeze();}},Synchronize:function Synchronize(e,t,n,r){this.m_R.SetM(r);this.m_position.x=r.col1.x*this.m_localPosition.x+r.col2.x*this.m_localPosition.y+n.x;this.m_position.y=r.col1.y*this.m_localPosition.x+r.col2.y*this.m_localPosition.y+n.y;if(this.m_proxyId==b2Pair.b2_nullProxy){return;}var i=e.x+(t.col1.x*this.m_localPosition.x+t.col2.x*this.m_localPosition.y);var s=e.y+(t.col1.y*this.m_localPosition.x+t.col2.y*this.m_localPosition.y);var o=Math.min(i,this.m_position.x);var u=Math.min(s,this.m_position.y);var a=Math.max(i,this.m_position.x);var f=Math.max(s,this.m_position.y);var l=new b2AABB();l.minVertex.Set(o-this.m_radius,u-this.m_radius);l.maxVertex.Set(a+this.m_radius,f+this.m_radius);var c=this.m_body.m_world.m_broadPhase;if(c.InRange(l)){c.MoveProxy(this.m_proxyId,l);}else{this.m_body.Freeze();}},QuickSync:function QuickSync(e,t){this.m_R.SetM(t);this.m_position.x=t.col1.x*this.m_localPosition.x+t.col2.x*this.m_localPosition.y+e.x;this.m_position.y=t.col1.y*this.m_localPosition.x+t.col2.y*this.m_localPosition.y+e.y;},ResetProxy:function ResetProxy(e){if(this.m_proxyId==b2Pair.b2_nullProxy){return;}var t=e.GetProxy(this.m_proxyId);e.DestroyProxy(this.m_proxyId);t=null;var n=new b2AABB();n.minVertex.Set(this.m_position.x-this.m_radius,this.m_position.y-this.m_radius);n.maxVertex.Set(this.m_position.x+this.m_radius,this.m_position.y+this.m_radius);if(e.InRange(n)){this.m_proxyId=e.CreateProxy(n,this);}else{this.m_proxyId=b2Pair.b2_nullProxy;}if(this.m_proxyId==b2Pair.b2_nullProxy){this.m_body.Freeze();}},Support:function Support(e,t,n){var r=Math.sqrt(e*e+t*t);e/=r;t/=r;n.Set(this.m_position.x+this.m_radius*e,this.m_position.y+this.m_radius*t);},m_localPosition:new b2Vec2(),m_radius:null});var b2MassData=Class.create();b2MassData.prototype={mass:0,center:new b2Vec2(0,0),I:0,initialize:function initialize(){this.center=new b2Vec2(0,0);}};var b2PolyDef=Class.create();Object.extend(b2PolyDef.prototype,b2ShapeDef.prototype);Object.extend(b2PolyDef.prototype,{initialize:function initialize(){this.type=b2Shape.e_unknownShape;this.userData=null;this.localPosition=new b2Vec2(0,0);this.localRotation=0;this.friction=.2;this.restitution=0;this.density=0;this.categoryBits=1;this.maskBits=65535;this.groupIndex=0;this.vertices=new Array(b2Settings.b2_maxPolyVertices);this.type=b2Shape.e_polyShape;this.vertexCount=0;for(var e=0;e<b2Settings.b2_maxPolyVertices;e++){this.vertices[e]=new b2Vec2();}},vertices:new Array(b2Settings.b2_maxPolyVertices),vertexCount:0});var b2PolyShape=Class.create();Object.extend(b2PolyShape.prototype,b2Shape.prototype);Object.extend(b2PolyShape.prototype,{TestPoint:function TestPoint(e){var t=new b2Vec2();t.SetV(e);t.Subtract(this.m_position);t.MulTM(this.m_R);for(var n=0;n<this.m_vertexCount;++n){var r=new b2Vec2();r.SetV(t);r.Subtract(this.m_vertices[n]);var i=b2Math.b2Dot(this.m_normals[n],r);if(i>0){return false;}}return true;},initialize:function initialize(e,t,n){this.m_R=new b2Mat22();this.m_position=new b2Vec2();this.m_userData=e.userData;this.m_friction=e.friction;this.m_restitution=e.restitution;this.m_body=t;this.m_proxyId=b2Pair.b2_nullProxy;this.m_maxRadius=0;this.m_categoryBits=e.categoryBits;this.m_maskBits=e.maskBits;this.m_groupIndex=e.groupIndex;this.syncAABB=new b2AABB();this.syncMat=new b2Mat22();this.m_localCentroid=new b2Vec2();this.m_localOBB=new b2OBB();var r=0;var i;var s;var o;var u=new b2AABB();this.m_vertices=new Array(b2Settings.b2_maxPolyVertices);this.m_coreVertices=new Array(b2Settings.b2_maxPolyVertices);this.m_normals=new Array(b2Settings.b2_maxPolyVertices);this.m_type=b2Shape.e_polyShape;var a=new b2Mat22(e.localRotation);if(e.type==b2Shape.e_boxShape){this.m_localCentroid.x=e.localPosition.x-n.x;this.m_localCentroid.y=e.localPosition.y-n.y;var f=e;this.m_vertexCount=4;i=f.extents.x;s=f.extents.y;var l=Math.max(0,i-2*b2Settings.b2_linearSlop);var c=Math.max(0,s-2*b2Settings.b2_linearSlop);o=this.m_vertices[0]=new b2Vec2();o.x=a.col1.x*i+a.col2.x*s;o.y=a.col1.y*i+a.col2.y*s;o=this.m_vertices[1]=new b2Vec2();o.x=a.col1.x*-i+a.col2.x*s;o.y=a.col1.y*-i+a.col2.y*s;o=this.m_vertices[2]=new b2Vec2();o.x=a.col1.x*-i+a.col2.x*-s;o.y=a.col1.y*-i+a.col2.y*-s;o=this.m_vertices[3]=new b2Vec2();o.x=a.col1.x*i+a.col2.x*-s;o.y=a.col1.y*i+a.col2.y*-s;o=this.m_coreVertices[0]=new b2Vec2();o.x=a.col1.x*l+a.col2.x*c;o.y=a.col1.y*l+a.col2.y*c;o=this.m_coreVertices[1]=new b2Vec2();o.x=a.col1.x*-l+a.col2.x*c;o.y=a.col1.y*-l+a.col2.y*c;o=this.m_coreVertices[2]=new b2Vec2();o.x=a.col1.x*-l+a.col2.x*-c;o.y=a.col1.y*-l+a.col2.y*-c;o=this.m_coreVertices[3]=new b2Vec2();o.x=a.col1.x*l+a.col2.x*-c;o.y=a.col1.y*l+a.col2.y*-c;}else{var h=e;this.m_vertexCount=h.vertexCount;b2Shape.PolyCentroid(h.vertices,h.vertexCount,b2PolyShape.tempVec);var p=b2PolyShape.tempVec.x;var d=b2PolyShape.tempVec.y;this.m_localCentroid.x=e.localPosition.x+(a.col1.x*p+a.col2.x*d)-n.x;this.m_localCentroid.y=e.localPosition.y+(a.col1.y*p+a.col2.y*d)-n.y;for(r=0;r<this.m_vertexCount;++r){this.m_vertices[r]=new b2Vec2();this.m_coreVertices[r]=new b2Vec2();i=h.vertices[r].x-p;s=h.vertices[r].y-d;this.m_vertices[r].x=a.col1.x*i+a.col2.x*s;this.m_vertices[r].y=a.col1.y*i+a.col2.y*s;var v=this.m_vertices[r].x;var m=this.m_vertices[r].y;var g=Math.sqrt(v*v+m*m);if(g>Number.MIN_VALUE){v*=1/g;m*=1/g;}this.m_coreVertices[r].x=this.m_vertices[r].x-2*b2Settings.b2_linearSlop*v;this.m_coreVertices[r].y=this.m_vertices[r].y-2*b2Settings.b2_linearSlop*m;}}var y=Number.MAX_VALUE;var b=Number.MAX_VALUE;var w=-Number.MAX_VALUE;var E=-Number.MAX_VALUE;this.m_maxRadius=0;for(r=0;r<this.m_vertexCount;++r){var S=this.m_vertices[r];y=Math.min(y,S.x);b=Math.min(b,S.y);w=Math.max(w,S.x);E=Math.max(E,S.y);this.m_maxRadius=Math.max(this.m_maxRadius,S.Length());}this.m_localOBB.R.SetIdentity();this.m_localOBB.center.Set((y+w)*.5,(b+E)*.5);this.m_localOBB.extents.Set((w-y)*.5,(E-b)*.5);var x=0;var T=0;for(r=0;r<this.m_vertexCount;++r){this.m_normals[r]=new b2Vec2();x=r;T=r+1<this.m_vertexCount?r+1:0;this.m_normals[r].x=this.m_vertices[T].y-this.m_vertices[x].y;this.m_normals[r].y=-(this.m_vertices[T].x-this.m_vertices[x].x);this.m_normals[r].Normalize();}for(r=0;r<this.m_vertexCount;++r){x=r;T=r+1<this.m_vertexCount?r+1:0;}this.m_R.SetM(this.m_body.m_R);this.m_position.x=this.m_body.m_position.x+(this.m_R.col1.x*this.m_localCentroid.x+this.m_R.col2.x*this.m_localCentroid.y);this.m_position.y=this.m_body.m_position.y+(this.m_R.col1.y*this.m_localCentroid.x+this.m_R.col2.y*this.m_localCentroid.y);b2PolyShape.tAbsR.col1.x=this.m_R.col1.x*this.m_localOBB.R.col1.x+this.m_R.col2.x*this.m_localOBB.R.col1.y;b2PolyShape.tAbsR.col1.y=this.m_R.col1.y*this.m_localOBB.R.col1.x+this.m_R.col2.y*this.m_localOBB.R.col1.y;b2PolyShape.tAbsR.col2.x=this.m_R.col1.x*this.m_localOBB.R.col2.x+this.m_R.col2.x*this.m_localOBB.R.col2.y;b2PolyShape.tAbsR.col2.y=this.m_R.col1.y*this.m_localOBB.R.col2.x+this.m_R.col2.y*this.m_localOBB.R.col2.y;b2PolyShape.tAbsR.Abs();i=b2PolyShape.tAbsR.col1.x*this.m_localOBB.extents.x+b2PolyShape.tAbsR.col2.x*this.m_localOBB.extents.y;s=b2PolyShape.tAbsR.col1.y*this.m_localOBB.extents.x+b2PolyShape.tAbsR.col2.y*this.m_localOBB.extents.y;var N=this.m_position.x+(this.m_R.col1.x*this.m_localOBB.center.x+this.m_R.col2.x*this.m_localOBB.center.y);var C=this.m_position.y+(this.m_R.col1.y*this.m_localOBB.center.x+this.m_R.col2.y*this.m_localOBB.center.y);u.minVertex.x=N-i;u.minVertex.y=C-s;u.maxVertex.x=N+i;u.maxVertex.y=C+s;var k=this.m_body.m_world.m_broadPhase;if(k.InRange(u)){this.m_proxyId=k.CreateProxy(u,this);}else{this.m_proxyId=b2Pair.b2_nullProxy;}if(this.m_proxyId==b2Pair.b2_nullProxy){this.m_body.Freeze();}},syncAABB:new b2AABB(),syncMat:new b2Mat22(),Synchronize:function Synchronize(e,t,n,r){this.m_R.SetM(r);this.m_position.x=this.m_body.m_position.x+(r.col1.x*this.m_localCentroid.x+r.col2.x*this.m_localCentroid.y);this.m_position.y=this.m_body.m_position.y+(r.col1.y*this.m_localCentroid.x+r.col2.y*this.m_localCentroid.y);if(this.m_proxyId==b2Pair.b2_nullProxy){return;}var i;var s;var o=t.col1;var u=t.col2;var a=this.m_localOBB.R.col1;var f=this.m_localOBB.R.col2;this.syncMat.col1.x=o.x*a.x+u.x*a.y;this.syncMat.col1.y=o.y*a.x+u.y*a.y;this.syncMat.col2.x=o.x*f.x+u.x*f.y;this.syncMat.col2.y=o.y*f.x+u.y*f.y;this.syncMat.Abs();i=this.m_localCentroid.x+this.m_localOBB.center.x;s=this.m_localCentroid.y+this.m_localOBB.center.y;var l=e.x+(t.col1.x*i+t.col2.x*s);var c=e.y+(t.col1.y*i+t.col2.y*s);i=this.syncMat.col1.x*this.m_localOBB.extents.x+this.syncMat.col2.x*this.m_localOBB.extents.y;s=this.syncMat.col1.y*this.m_localOBB.extents.x+this.syncMat.col2.y*this.m_localOBB.extents.y;this.syncAABB.minVertex.x=l-i;this.syncAABB.minVertex.y=c-s;this.syncAABB.maxVertex.x=l+i;this.syncAABB.maxVertex.y=c+s;o=r.col1;u=r.col2;a=this.m_localOBB.R.col1;f=this.m_localOBB.R.col2;this.syncMat.col1.x=o.x*a.x+u.x*a.y;this.syncMat.col1.y=o.y*a.x+u.y*a.y;this.syncMat.col2.x=o.x*f.x+u.x*f.y;this.syncMat.col2.y=o.y*f.x+u.y*f.y;this.syncMat.Abs();i=this.m_localCentroid.x+this.m_localOBB.center.x;s=this.m_localCentroid.y+this.m_localOBB.center.y;l=n.x+(r.col1.x*i+r.col2.x*s);c=n.y+(r.col1.y*i+r.col2.y*s);i=this.syncMat.col1.x*this.m_localOBB.extents.x+this.syncMat.col2.x*this.m_localOBB.extents.y;s=this.syncMat.col1.y*this.m_localOBB.extents.x+this.syncMat.col2.y*this.m_localOBB.extents.y;this.syncAABB.minVertex.x=Math.min(this.syncAABB.minVertex.x,l-i);this.syncAABB.minVertex.y=Math.min(this.syncAABB.minVertex.y,c-s);this.syncAABB.maxVertex.x=Math.max(this.syncAABB.maxVertex.x,l+i);this.syncAABB.maxVertex.y=Math.max(this.syncAABB.maxVertex.y,c+s);var h=this.m_body.m_world.m_broadPhase;if(h.InRange(this.syncAABB)){h.MoveProxy(this.m_proxyId,this.syncAABB);}else{this.m_body.Freeze();}},QuickSync:function QuickSync(e,t){this.m_R.SetM(t);this.m_position.x=e.x+(t.col1.x*this.m_localCentroid.x+t.col2.x*this.m_localCentroid.y);this.m_position.y=e.y+(t.col1.y*this.m_localCentroid.x+t.col2.y*this.m_localCentroid.y);},ResetProxy:function ResetProxy(e){if(this.m_proxyId==b2Pair.b2_nullProxy){return;}var t=e.GetProxy(this.m_proxyId);e.DestroyProxy(this.m_proxyId);t=null;var n=b2Math.b2MulMM(this.m_R,this.m_localOBB.R);var r=b2Math.b2AbsM(n);var i=b2Math.b2MulMV(r,this.m_localOBB.extents);var s=b2Math.b2MulMV(this.m_R,this.m_localOBB.center);s.Add(this.m_position);var o=new b2AABB();o.minVertex.SetV(s);o.minVertex.Subtract(i);o.maxVertex.SetV(s);o.maxVertex.Add(i);if(e.InRange(o)){this.m_proxyId=e.CreateProxy(o,this);}else{this.m_proxyId=b2Pair.b2_nullProxy;}if(this.m_proxyId==b2Pair.b2_nullProxy){this.m_body.Freeze();}},Support:function Support(e,t,n){var r=e*this.m_R.col1.x+t*this.m_R.col1.y;var i=e*this.m_R.col2.x+t*this.m_R.col2.y;var s=0;var o=this.m_coreVertices[0].x*r+this.m_coreVertices[0].y*i;for(var u=1;u<this.m_vertexCount;++u){var a=this.m_coreVertices[u].x*r+this.m_coreVertices[u].y*i;if(a>o){s=u;o=a;}}n.Set(this.m_position.x+(this.m_R.col1.x*this.m_coreVertices[s].x+this.m_R.col2.x*this.m_coreVertices[s].y),this.m_position.y+(this.m_R.col1.y*this.m_coreVertices[s].x+this.m_R.col2.y*this.m_coreVertices[s].y));},m_localCentroid:new b2Vec2(),m_localOBB:new b2OBB(),m_vertices:null,m_coreVertices:null,m_vertexCount:0,m_normals:null});b2PolyShape.tempVec=new b2Vec2();b2PolyShape.tAbsR=new b2Mat22();var b2Body=Class.create();b2Body.prototype={SetOriginPosition:function SetOriginPosition(e,t){if(this.IsFrozen()){return;}this.m_rotation=t;this.m_R.Set(this.m_rotation);this.m_position=b2Math.AddVV(e,b2Math.b2MulMV(this.m_R,this.m_center));this.m_position0.SetV(this.m_position);this.m_rotation0=this.m_rotation;for(var n=this.m_shapeList;n!=null;n=n.m_next){n.Synchronize(this.m_position,this.m_R,this.m_position,this.m_R);}this.m_world.m_broadPhase.Commit();},GetOriginPosition:function GetOriginPosition(){return b2Math.SubtractVV(this.m_position,b2Math.b2MulMV(this.m_R,this.m_center));},SetCenterPosition:function SetCenterPosition(e,t){if(this.IsFrozen()){return;}this.m_rotation=t;this.m_R.Set(this.m_rotation);this.m_position.SetV(e);this.m_position0.SetV(this.m_position);this.m_rotation0=this.m_rotation;for(var n=this.m_shapeList;n!=null;n=n.m_next){n.Synchronize(this.m_position,this.m_R,this.m_position,this.m_R);}this.m_world.m_broadPhase.Commit();},GetCenterPosition:function GetCenterPosition(){return this.m_position;},GetRotation:function GetRotation(){return this.m_rotation;},GetRotationMatrix:function GetRotationMatrix(){return this.m_R;},SetLinearVelocity:function SetLinearVelocity(e){this.m_linearVelocity.SetV(e);},GetLinearVelocity:function GetLinearVelocity(){return this.m_linearVelocity;},SetAngularVelocity:function SetAngularVelocity(e){this.m_angularVelocity=e;},GetAngularVelocity:function GetAngularVelocity(){return this.m_angularVelocity;},ApplyForce:function ApplyForce(e,t){if(this.IsSleeping()==false){this.m_force.Add(e);this.m_torque+=b2Math.b2CrossVV(b2Math.SubtractVV(t,this.m_position),e);}},ApplyTorque:function ApplyTorque(e){if(this.IsSleeping()==false){this.m_torque+=e;}},ApplyImpulse:function ApplyImpulse(e,t){if(this.IsSleeping()==false){this.m_linearVelocity.Add(b2Math.MulFV(this.m_invMass,e));this.m_angularVelocity+=this.m_invI*b2Math.b2CrossVV(b2Math.SubtractVV(t,this.m_position),e);}},GetMass:function GetMass(){return this.m_mass;},GetInertia:function GetInertia(){return this.m_I;},GetWorldPoint:function GetWorldPoint(e){return b2Math.AddVV(this.m_position,b2Math.b2MulMV(this.m_R,e));},GetWorldVector:function GetWorldVector(e){return b2Math.b2MulMV(this.m_R,e);},GetLocalPoint:function GetLocalPoint(e){return b2Math.b2MulTMV(this.m_R,b2Math.SubtractVV(e,this.m_position));},GetLocalVector:function GetLocalVector(e){return b2Math.b2MulTMV(this.m_R,e);},IsStatic:function IsStatic(){return(this.m_flags&b2Body.e_staticFlag)==b2Body.e_staticFlag;},IsFrozen:function IsFrozen(){return(this.m_flags&b2Body.e_frozenFlag)==b2Body.e_frozenFlag;},IsSleeping:function IsSleeping(){return(this.m_flags&b2Body.e_sleepFlag)==b2Body.e_sleepFlag;},AllowSleeping:function AllowSleeping(e){if(e){this.m_flags|=b2Body.e_allowSleepFlag;}else{this.m_flags&=~b2Body.e_allowSleepFlag;this.WakeUp();}},WakeUp:function WakeUp(){this.m_flags&=~b2Body.e_sleepFlag;this.m_sleepTime=0;},GetShapeList:function GetShapeList(){return this.m_shapeList;},GetContactList:function GetContactList(){return this.m_contactList;},GetJointList:function GetJointList(){return this.m_jointList;},GetNext:function GetNext(){return this.m_next;},GetUserData:function GetUserData(){return this.m_userData;},initialize:function initialize(e,t){this.sMat0=new b2Mat22();this.m_position=new b2Vec2();this.m_R=new b2Mat22(0);this.m_position0=new b2Vec2();var n=0;var r;var i;this.m_flags=0;this.m_position.SetV(e.position);this.m_rotation=e.rotation;this.m_R.Set(this.m_rotation);this.m_position0.SetV(this.m_position);this.m_rotation0=this.m_rotation;this.m_world=t;this.m_linearDamping=b2Math.b2Clamp(1-e.linearDamping,0,1);this.m_angularDamping=b2Math.b2Clamp(1-e.angularDamping,0,1);this.m_force=new b2Vec2(0,0);this.m_torque=0;this.m_mass=0;var s=new Array(b2Settings.b2_maxShapesPerBody);for(n=0;n<b2Settings.b2_maxShapesPerBody;n++){s[n]=new b2MassData();}this.m_shapeCount=0;this.m_center=new b2Vec2(0,0);for(n=0;n<b2Settings.b2_maxShapesPerBody;++n){r=e.shapes[n];if(r==null)break;i=s[n];r.ComputeMass(i);this.m_mass+=i.mass;this.m_center.x+=i.mass*(r.localPosition.x+i.center.x);this.m_center.y+=i.mass*(r.localPosition.y+i.center.y);++this.m_shapeCount;}if(this.m_mass>0){this.m_center.Multiply(1/this.m_mass);this.m_position.Add(b2Math.b2MulMV(this.m_R,this.m_center));}else{this.m_flags|=b2Body.e_staticFlag;}this.m_I=0;for(n=0;n<this.m_shapeCount;++n){r=e.shapes[n];i=s[n];this.m_I+=i.I;var o=b2Math.SubtractVV(b2Math.AddVV(r.localPosition,i.center),this.m_center);this.m_I+=i.mass*b2Math.b2Dot(o,o);}if(this.m_mass>0){this.m_invMass=1/this.m_mass;}else{this.m_invMass=0;}if(this.m_I>0&&e.preventRotation==false){this.m_invI=1/this.m_I;}else{this.m_I=0;this.m_invI=0;}this.m_linearVelocity=b2Math.AddVV(e.linearVelocity,b2Math.b2CrossFV(e.angularVelocity,this.m_center));this.m_angularVelocity=e.angularVelocity;this.m_jointList=null;this.m_contactList=null;this.m_prev=null;this.m_next=null;this.m_shapeList=null;for(n=0;n<this.m_shapeCount;++n){r=e.shapes[n];var u=b2Shape.Create(r,this,this.m_center);u.m_next=this.m_shapeList;this.m_shapeList=u;}this.m_sleepTime=0;if(e.allowSleep){this.m_flags|=b2Body.e_allowSleepFlag;}if(e.isSleeping){this.m_flags|=b2Body.e_sleepFlag;}if(this.m_flags&b2Body.e_sleepFlag||this.m_invMass==0){this.m_linearVelocity.Set(0,0);this.m_angularVelocity=0;}this.m_userData=e.userData;},Destroy:function Destroy(){var e=this.m_shapeList;while(e){var t=e;e=e.m_next;b2Shape.Destroy(t);}},sMat0:new b2Mat22(),SynchronizeShapes:function SynchronizeShapes(){this.sMat0.Set(this.m_rotation0);for(var e=this.m_shapeList;e!=null;e=e.m_next){e.Synchronize(this.m_position0,this.sMat0,this.m_position,this.m_R);}},QuickSyncShapes:function QuickSyncShapes(){for(var e=this.m_shapeList;e!=null;e=e.m_next){e.QuickSync(this.m_position,this.m_R);}},IsConnected:function IsConnected(e){for(var t=this.m_jointList;t!=null;t=t.next){if(t.other==e)return t.joint.m_collideConnected==false;}return false;},Freeze:function Freeze(){this.m_flags|=b2Body.e_frozenFlag;this.m_linearVelocity.SetZero();this.m_angularVelocity=0;for(var e=this.m_shapeList;e!=null;e=e.m_next){e.DestroyProxy();}},m_flags:0,m_position:new b2Vec2(),m_rotation:null,m_R:new b2Mat22(0),m_position0:new b2Vec2(),m_rotation0:null,m_linearVelocity:null,m_angularVelocity:null,m_force:null,m_torque:null,m_center:null,m_world:null,m_prev:null,m_next:null,m_shapeList:null,m_shapeCount:0,m_jointList:null,m_contactList:null,m_mass:null,m_invMass:null,m_I:null,m_invI:null,m_linearDamping:null,m_angularDamping:null,m_sleepTime:null,m_userData:null};b2Body.e_staticFlag=1;b2Body.e_frozenFlag=2;b2Body.e_islandFlag=4;b2Body.e_sleepFlag=8;b2Body.e_allowSleepFlag=16;b2Body.e_destroyFlag=32;var b2BodyDef=Class.create();b2BodyDef.prototype={initialize:function initialize(){this.shapes=new Array();this.userData=null;for(var e=0;e<b2Settings.b2_maxShapesPerBody;e++){this.shapes[e]=null;}this.position=new b2Vec2(0,0);this.rotation=0;this.linearVelocity=new b2Vec2(0,0);this.angularVelocity=0;this.linearDamping=0;this.angularDamping=0;this.allowSleep=true;this.isSleeping=false;this.preventRotation=false;},userData:null,shapes:new Array(),position:null,rotation:null,linearVelocity:null,angularVelocity:null,linearDamping:null,angularDamping:null,allowSleep:null,isSleeping:null,preventRotation:null,AddShape:function AddShape(e){for(var t=0;t<b2Settings.b2_maxShapesPerBody;++t){if(this.shapes[t]==null){this.shapes[t]=e;break;}}}};var b2CollisionFilter=Class.create();b2CollisionFilter.prototype={ShouldCollide:function ShouldCollide(e,t){if(e.m_groupIndex==t.m_groupIndex&&e.m_groupIndex!=0){return e.m_groupIndex>0;}var n=(e.m_maskBits&t.m_categoryBits)!=0&&(e.m_categoryBits&t.m_maskBits)!=0;return n;},initialize:function initialize(){}};b2CollisionFilter.b2_defaultFilter=new b2CollisionFilter();var b2Island=Class.create();b2Island.prototype={initialize:function initialize(e,t,n,r){var i=0;this.m_bodyCapacity=e;this.m_contactCapacity=t;this.m_jointCapacity=n;this.m_bodyCount=0;this.m_contactCount=0;this.m_jointCount=0;this.m_bodies=new Array(e);for(i=0;i<e;i++){this.m_bodies[i]=null;}this.m_contacts=new Array(t);for(i=0;i<t;i++){this.m_contacts[i]=null;}this.m_joints=new Array(n);for(i=0;i<n;i++){this.m_joints[i]=null;}this.m_allocator=r;},Clear:function Clear(){this.m_bodyCount=0;this.m_contactCount=0;this.m_jointCount=0;},Solve:function Solve(e,t){var n=0;var r;for(n=0;n<this.m_bodyCount;++n){r=this.m_bodies[n];if(r.m_invMass==0)continue;r.m_linearVelocity.Add(b2Math.MulFV(e.dt,b2Math.AddVV(t,b2Math.MulFV(r.m_invMass,r.m_force))));r.m_angularVelocity+=e.dt*r.m_invI*r.m_torque;r.m_linearVelocity.Multiply(r.m_linearDamping);r.m_angularVelocity*=r.m_angularDamping;r.m_position0.SetV(r.m_position);r.m_rotation0=r.m_rotation;}var i=new b2ContactSolver(this.m_contacts,this.m_contactCount,this.m_allocator);i.PreSolve();for(n=0;n<this.m_jointCount;++n){this.m_joints[n].PrepareVelocitySolver();}for(n=0;n<e.iterations;++n){i.SolveVelocityConstraints();for(var s=0;s<this.m_jointCount;++s){this.m_joints[s].SolveVelocityConstraints(e);}}for(n=0;n<this.m_bodyCount;++n){r=this.m_bodies[n];if(r.m_invMass==0)continue;r.m_position.x+=e.dt*r.m_linearVelocity.x;r.m_position.y+=e.dt*r.m_linearVelocity.y;r.m_rotation+=e.dt*r.m_angularVelocity;r.m_R.Set(r.m_rotation);}for(n=0;n<this.m_jointCount;++n){this.m_joints[n].PreparePositionSolver();}if(b2World.s_enablePositionCorrection){for(b2Island.m_positionIterationCount=0;b2Island.m_positionIterationCount<e.iterations;++b2Island.m_positionIterationCount){var o=i.SolvePositionConstraints(b2Settings.b2_contactBaumgarte);var u=true;for(n=0;n<this.m_jointCount;++n){var a=this.m_joints[n].SolvePositionConstraints();u=u&&a;}if(o&&u){break;}}}i.PostSolve();for(n=0;n<this.m_bodyCount;++n){r=this.m_bodies[n];if(r.m_invMass==0)continue;r.m_R.Set(r.m_rotation);r.SynchronizeShapes();r.m_force.Set(0,0);r.m_torque=0;}},UpdateSleep:function UpdateSleep(e){var t=0;var n;var r=Number.MAX_VALUE;var i=b2Settings.b2_linearSleepTolerance*b2Settings.b2_linearSleepTolerance;var s=b2Settings.b2_angularSleepTolerance*b2Settings.b2_angularSleepTolerance;for(t=0;t<this.m_bodyCount;++t){n=this.m_bodies[t];if(n.m_invMass==0){continue;}if((n.m_flags&b2Body.e_allowSleepFlag)==0){n.m_sleepTime=0;r=0;}if((n.m_flags&b2Body.e_allowSleepFlag)==0||n.m_angularVelocity*n.m_angularVelocity>s||b2Math.b2Dot(n.m_linearVelocity,n.m_linearVelocity)>i){n.m_sleepTime=0;r=0;}else{n.m_sleepTime+=e;r=b2Math.b2Min(r,n.m_sleepTime);}}if(r>=b2Settings.b2_timeToSleep){for(t=0;t<this.m_bodyCount;++t){n=this.m_bodies[t];n.m_flags|=b2Body.e_sleepFlag;}}},AddBody:function AddBody(e){this.m_bodies[this.m_bodyCount++]=e;},AddContact:function AddContact(e){this.m_contacts[this.m_contactCount++]=e;},AddJoint:function AddJoint(e){this.m_joints[this.m_jointCount++]=e;},m_allocator:null,m_bodies:null,m_contacts:null,m_joints:null,m_bodyCount:0,m_jointCount:0,m_contactCount:0,m_bodyCapacity:0,m_contactCapacity:0,m_jointCapacity:0,m_positionError:null};b2Island.m_positionIterationCount=0;var b2TimeStep=Class.create();b2TimeStep.prototype={dt:null,inv_dt:null,iterations:0,initialize:function initialize(){}};var b2ContactNode=Class.create();b2ContactNode.prototype={other:null,contact:null,prev:null,next:null,initialize:function initialize(){}};var b2Contact=Class.create();b2Contact.prototype={GetManifolds:function GetManifolds(){return null;},GetManifoldCount:function GetManifoldCount(){return this.m_manifoldCount;},GetNext:function GetNext(){return this.m_next;},GetShape1:function GetShape1(){return this.m_shape1;},GetShape2:function GetShape2(){return this.m_shape2;},initialize:function initialize(e,t){this.m_node1=new b2ContactNode();this.m_node2=new b2ContactNode();this.m_flags=0;if(!e||!t){this.m_shape1=null;this.m_shape2=null;return;}this.m_shape1=e;this.m_shape2=t;this.m_manifoldCount=0;this.m_friction=Math.sqrt(this.m_shape1.m_friction*this.m_shape2.m_friction);this.m_restitution=b2Math.b2Max(this.m_shape1.m_restitution,this.m_shape2.m_restitution);this.m_prev=null;this.m_next=null;this.m_node1.contact=null;this.m_node1.prev=null;this.m_node1.next=null;this.m_node1.other=null;this.m_node2.contact=null;this.m_node2.prev=null;this.m_node2.next=null;this.m_node2.other=null;},Evaluate:function Evaluate(){},m_flags:0,m_prev:null,m_next:null,m_node1:new b2ContactNode(),m_node2:new b2ContactNode(),m_shape1:null,m_shape2:null,m_manifoldCount:0,m_friction:null,m_restitution:null};b2Contact.e_islandFlag=1;b2Contact.e_destroyFlag=2;b2Contact.AddType=function(e,t,n,r){b2Contact.s_registers[n][r].createFcn=e;b2Contact.s_registers[n][r].destroyFcn=t;b2Contact.s_registers[n][r].primary=true;if(n!=r){b2Contact.s_registers[r][n].createFcn=e;b2Contact.s_registers[r][n].destroyFcn=t;b2Contact.s_registers[r][n].primary=false;}};b2Contact.InitializeRegisters=function(){b2Contact.s_registers=new Array(b2Shape.e_shapeTypeCount);for(var e=0;e<b2Shape.e_shapeTypeCount;e++){b2Contact.s_registers[e]=new Array(b2Shape.e_shapeTypeCount);for(var t=0;t<b2Shape.e_shapeTypeCount;t++){b2Contact.s_registers[e][t]=new b2ContactRegister();}}b2Contact.AddType(b2CircleContact.Create,b2CircleContact.Destroy,b2Shape.e_circleShape,b2Shape.e_circleShape);b2Contact.AddType(b2PolyAndCircleContact.Create,b2PolyAndCircleContact.Destroy,b2Shape.e_polyShape,b2Shape.e_circleShape);b2Contact.AddType(b2PolyContact.Create,b2PolyContact.Destroy,b2Shape.e_polyShape,b2Shape.e_polyShape);};b2Contact.Create=function(e,t,n){if(b2Contact.s_initialized==false){b2Contact.InitializeRegisters();b2Contact.s_initialized=true;}var r=e.m_type;var i=t.m_type;var s=b2Contact.s_registers[r][i].createFcn;if(s){if(b2Contact.s_registers[r][i].primary){return s(e,t,n);}else{var o=s(t,e,n);for(var u=0;u<o.GetManifoldCount();++u){var a=o.GetManifolds()[u];a.normal=a.normal.Negative();}return o;}}else{return null;}};b2Contact.Destroy=function(e,t){if(e.GetManifoldCount()>0){e.m_shape1.m_body.WakeUp();e.m_shape2.m_body.WakeUp();}var n=e.m_shape1.m_type;var r=e.m_shape2.m_type;var i=b2Contact.s_registers[n][r].destroyFcn;i(e,t);};b2Contact.s_registers=null;b2Contact.s_initialized=false;var b2ContactConstraint=Class.create();b2ContactConstraint.prototype={initialize:function initialize(){this.normal=new b2Vec2();this.points=new Array(b2Settings.b2_maxManifoldPoints);for(var e=0;e<b2Settings.b2_maxManifoldPoints;e++){this.points[e]=new b2ContactConstraintPoint();}},points:null,normal:new b2Vec2(),manifold:null,body1:null,body2:null,friction:null,restitution:null,pointCount:0};var b2ContactConstraintPoint=Class.create();b2ContactConstraintPoint.prototype={localAnchor1:new b2Vec2(),localAnchor2:new b2Vec2(),normalImpulse:null,tangentImpulse:null,positionImpulse:null,normalMass:null,tangentMass:null,separation:null,velocityBias:null,initialize:function initialize(){this.localAnchor1=new b2Vec2();this.localAnchor2=new b2Vec2();}};var b2ContactRegister=Class.create();b2ContactRegister.prototype={createFcn:null,destroyFcn:null,primary:null,initialize:function initialize(){}};var b2ContactSolver=Class.create();b2ContactSolver.prototype={initialize:function initialize(e,t,n){this.m_constraints=new Array();this.m_allocator=n;var r=0;var i;var s;this.m_constraintCount=0;for(r=0;r<t;++r){this.m_constraintCount+=e[r].GetManifoldCount();}for(r=0;r<this.m_constraintCount;r++){this.m_constraints[r]=new b2ContactConstraint();}var o=0;for(r=0;r<t;++r){var u=e[r];var a=u.m_shape1.m_body;var f=u.m_shape2.m_body;var l=u.GetManifoldCount();var c=u.GetManifolds();var h=u.m_friction;var p=u.m_restitution;var d=a.m_linearVelocity.x;var v=a.m_linearVelocity.y;var m=f.m_linearVelocity.x;var g=f.m_linearVelocity.y;var y=a.m_angularVelocity;var b=f.m_angularVelocity;for(var w=0;w<l;++w){var E=c[w];var S=E.normal.x;var x=E.normal.y;var T=this.m_constraints[o];T.body1=a;T.body2=f;T.manifold=E;T.normal.x=S;T.normal.y=x;T.pointCount=E.pointCount;T.friction=h;T.restitution=p;for(var N=0;N<T.pointCount;++N){var C=E.points[N];var k=T.points[N];k.normalImpulse=C.normalImpulse;k.tangentImpulse=C.tangentImpulse;k.separation=C.separation;var L=C.position.x-a.m_position.x;var A=C.position.y-a.m_position.y;var O=C.position.x-f.m_position.x;var M=C.position.y-f.m_position.y;i=k.localAnchor1;s=a.m_R;i.x=L*s.col1.x+A*s.col1.y;i.y=L*s.col2.x+A*s.col2.y;i=k.localAnchor2;s=f.m_R;i.x=O*s.col1.x+M*s.col1.y;i.y=O*s.col2.x+M*s.col2.y;var _=L*L+A*A;var D=O*O+M*M;var P=L*S+A*x;var H=O*S+M*x;var B=a.m_invMass+f.m_invMass;B+=a.m_invI*(_-P*P)+f.m_invI*(D-H*H);k.normalMass=1/B;var j=x;var F=-S;var I=L*j+A*F;var q=O*j+M*F;var R=a.m_invMass+f.m_invMass;R+=a.m_invI*(_-I*I)+f.m_invI*(D-q*q);k.tangentMass=1/R;k.velocityBias=0;if(k.separation>0){k.velocityBias=-60*k.separation;}var U=m+-b*M-d- -y*A;var z=g+b*O-v-y*L;var W=T.normal.x*U+T.normal.y*z;if(W<-b2Settings.b2_velocityThreshold){k.velocityBias+=-T.restitution*W;}}++o;}}},PreSolve:function PreSolve(){var e;var t;var n;for(var r=0;r<this.m_constraintCount;++r){var i=this.m_constraints[r];var s=i.body1;var o=i.body2;var u=s.m_invMass;var a=s.m_invI;var f=o.m_invMass;var l=o.m_invI;var c=i.normal.x;var h=i.normal.y;var p=h;var d=-c;var v=0;var m=0;if(b2World.s_enableWarmStarting){m=i.pointCount;for(v=0;v<m;++v){var g=i.points[v];var y=g.normalImpulse*c+g.tangentImpulse*p;var b=g.normalImpulse*h+g.tangentImpulse*d;n=s.m_R;e=g.localAnchor1;var w=n.col1.x*e.x+n.col2.x*e.y;var E=n.col1.y*e.x+n.col2.y*e.y;n=o.m_R;e=g.localAnchor2;var S=n.col1.x*e.x+n.col2.x*e.y;var x=n.col1.y*e.x+n.col2.y*e.y;s.m_angularVelocity-=a*(w*b-E*y);s.m_linearVelocity.x-=u*y;s.m_linearVelocity.y-=u*b;o.m_angularVelocity+=l*(S*b-x*y);o.m_linearVelocity.x+=f*y;o.m_linearVelocity.y+=f*b;g.positionImpulse=0;}}else{m=i.pointCount;for(v=0;v<m;++v){var T=i.points[v];T.normalImpulse=0;T.tangentImpulse=0;T.positionImpulse=0;}}}},SolveVelocityConstraints:function SolveVelocityConstraints(){var e=0;var t;var n;var r;var i;var s;var o;var u;var a;var f;var l;var c;var h;var p;for(var d=0;d<this.m_constraintCount;++d){var v=this.m_constraints[d];var m=v.body1;var g=v.body2;var y=m.m_angularVelocity;var b=m.m_linearVelocity;var w=g.m_angularVelocity;var E=g.m_linearVelocity;var S=m.m_invMass;var x=m.m_invI;var T=g.m_invMass;var N=g.m_invI;var C=v.normal.x;var k=v.normal.y;var L=k;var A=-C;var O=v.pointCount;for(e=0;e<O;++e){t=v.points[e];h=m.m_R;p=t.localAnchor1;n=h.col1.x*p.x+h.col2.x*p.y;r=h.col1.y*p.x+h.col2.y*p.y;h=g.m_R;p=t.localAnchor2;i=h.col1.x*p.x+h.col2.x*p.y;s=h.col1.y*p.x+h.col2.y*p.y;o=E.x+-w*s-b.x- -y*r;u=E.y+w*i-b.y-y*n;var M=o*C+u*k;a=-t.normalMass*(M-t.velocityBias);f=b2Math.b2Max(t.normalImpulse+a,0);a=f-t.normalImpulse;l=a*C;c=a*k;b.x-=S*l;b.y-=S*c;y-=x*(n*c-r*l);E.x+=T*l;E.y+=T*c;w+=N*(i*c-s*l);t.normalImpulse=f;o=E.x+-w*s-b.x- -y*r;u=E.y+w*i-b.y-y*n;var _=o*L+u*A;a=t.tangentMass*-_;var D=v.friction*t.normalImpulse;f=b2Math.b2Clamp(t.tangentImpulse+a,-D,D);a=f-t.tangentImpulse;l=a*L;c=a*A;b.x-=S*l;b.y-=S*c;y-=x*(n*c-r*l);E.x+=T*l;E.y+=T*c;w+=N*(i*c-s*l);t.tangentImpulse=f;}m.m_angularVelocity=y;g.m_angularVelocity=w;}},SolvePositionConstraints:function SolvePositionConstraints(e){var t=0;var n;var r;for(var i=0;i<this.m_constraintCount;++i){var s=this.m_constraints[i];var o=s.body1;var u=s.body2;var a=o.m_position;var f=o.m_rotation;var l=u.m_position;var c=u.m_rotation;var h=o.m_invMass;var p=o.m_invI;var d=u.m_invMass;var v=u.m_invI;var m=s.normal.x;var g=s.normal.y;var y=g;var b=-m;var w=s.pointCount;for(var E=0;E<w;++E){var S=s.points[E];n=o.m_R;r=S.localAnchor1;var x=n.col1.x*r.x+n.col2.x*r.y;var T=n.col1.y*r.x+n.col2.y*r.y;n=u.m_R;r=S.localAnchor2;var N=n.col1.x*r.x+n.col2.x*r.y;var C=n.col1.y*r.x+n.col2.y*r.y;var k=a.x+x;var L=a.y+T;var A=l.x+N;var O=l.y+C;var M=A-k;var _=O-L;var D=M*m+_*g+S.separation;t=b2Math.b2Min(t,D);var P=e*b2Math.b2Clamp(D+b2Settings.b2_linearSlop,-b2Settings.b2_maxLinearCorrection,0);var H=-S.normalMass*P;var B=S.positionImpulse;S.positionImpulse=b2Math.b2Max(B+H,0);H=S.positionImpulse-B;var j=H*m;var F=H*g;a.x-=h*j;a.y-=h*F;f-=p*(x*F-T*j);o.m_R.Set(f);l.x+=d*j;l.y+=d*F;c+=v*(N*F-C*j);u.m_R.Set(c);}o.m_rotation=f;u.m_rotation=c;}return t>=-b2Settings.b2_linearSlop;},PostSolve:function PostSolve(){for(var e=0;e<this.m_constraintCount;++e){var t=this.m_constraints[e];var n=t.manifold;for(var r=0;r<t.pointCount;++r){var i=n.points[r];var s=t.points[r];i.normalImpulse=s.normalImpulse;i.tangentImpulse=s.tangentImpulse;}}},m_allocator:null,m_constraints:new Array(),m_constraintCount:0};var b2CircleContact=Class.create();Object.extend(b2CircleContact.prototype,b2Contact.prototype);Object.extend(b2CircleContact.prototype,{initialize:function initialize(e,t){this.m_node1=new b2ContactNode();this.m_node2=new b2ContactNode();this.m_flags=0;if(!e||!t){this.m_shape1=null;this.m_shape2=null;return;}this.m_shape1=e;this.m_shape2=t;this.m_manifoldCount=0;this.m_friction=Math.sqrt(this.m_shape1.m_friction*this.m_shape2.m_friction);this.m_restitution=b2Math.b2Max(this.m_shape1.m_restitution,this.m_shape2.m_restitution);this.m_prev=null;this.m_next=null;this.m_node1.contact=null;this.m_node1.prev=null;this.m_node1.next=null;this.m_node1.other=null;this.m_node2.contact=null;this.m_node2.prev=null;this.m_node2.next=null;this.m_node2.other=null;this.m_manifold=[new b2Manifold()];this.m_manifold[0].pointCount=0;this.m_manifold[0].points[0].normalImpulse=0;this.m_manifold[0].points[0].tangentImpulse=0;},Evaluate:function Evaluate(){b2Collision.b2CollideCircle(this.m_manifold[0],this.m_shape1,this.m_shape2,false);if(this.m_manifold[0].pointCount>0){this.m_manifoldCount=1;}else{this.m_manifoldCount=0;}},GetManifolds:function GetManifolds(){return this.m_manifold;},m_manifold:[new b2Manifold()]});b2CircleContact.Create=function(e,t,n){return new b2CircleContact(e,t);};b2CircleContact.Destroy=function(e,t){};var b2Conservative=Class.create();b2Conservative.prototype={initialize:function initialize(){}};b2Conservative.R1=new b2Mat22();b2Conservative.R2=new b2Mat22();b2Conservative.x1=new b2Vec2();b2Conservative.x2=new b2Vec2();b2Conservative.Conservative=function(e,t){var n=e.GetBody();var r=t.GetBody();var i=n.m_position.x-n.m_position0.x;var s=n.m_position.y-n.m_position0.y;var o=n.m_rotation-n.m_rotation0;var u=r.m_position.x-r.m_position0.x;var a=r.m_position.y-r.m_position0.y;var f=r.m_rotation-r.m_rotation0;var l=e.GetMaxRadius();var c=t.GetMaxRadius();var h=n.m_position0.x;var p=n.m_position0.y;var v=n.m_rotation0;var m=r.m_position0.x;var g=r.m_position0.y;var y=r.m_rotation0;var b=h;var w=p;var E=v;var S=m;var x=g;var T=y;b2Conservative.R1.Set(E);b2Conservative.R2.Set(T);e.QuickSync(p1,b2Conservative.R1);t.QuickSync(p2,b2Conservative.R2);var N=0;var C=10;var k;var L;var A=0;var O=true;for(var M=0;M<C;++M){var _=b2Distance.Distance(b2Conservative.x1,b2Conservative.x2,e,t);if(_<b2Settings.b2_linearSlop){if(M==0){O=false;}else{O=true;}break;}if(M==0){k=b2Conservative.x2.x-b2Conservative.x1.x;L=b2Conservative.x2.y-b2Conservative.x1.y;var D=Math.sqrt(k*k+L*L);var P=k*(i-u)+L*(s-a)+Math.abs(o)*l+Math.abs(f)*c;if(Math.abs(P)<Number.MIN_VALUE){O=false;break;}A=1/P;}var H=_*A;var B=N+H;if(B<0||1<B){O=false;break;}if(B<(1+100*Number.MIN_VALUE)*N){O=true;break;}N=B;b=h+N*v1.x;w=p+N*v1.y;E=v+N*o;S=m+N*v2.x;x=g+N*v2.y;T=y+N*f;b2Conservative.R1.Set(E);b2Conservative.R2.Set(T);e.QuickSync(p1,b2Conservative.R1);t.QuickSync(p2,b2Conservative.R2);}if(O){k=b2Conservative.x2.x-b2Conservative.x1.x;L=b2Conservative.x2.y-b2Conservative.x1.y;var j=Math.sqrt(k*k+L*L);if(j>FLT_EPSILON){d*=b2_linearSlop/j;}if(n.IsStatic()){n.m_position.x=b;n.m_position.y=w;}else{n.m_position.x=b-k;n.m_position.y=w-L;}n.m_rotation=E;n.m_R.Set(E);n.QuickSyncShapes();if(r.IsStatic()){r.m_position.x=S;r.m_position.y=x;}else{r.m_position.x=S+k;r.m_position.y=x+L;}r.m_position.x=S+k;r.m_position.y=x+L;r.m_rotation=T;r.m_R.Set(T);r.QuickSyncShapes();return true;}e.QuickSync(n.m_position,n.m_R);t.QuickSync(r.m_position,r.m_R);return false;};var b2NullContact=Class.create();Object.extend(b2NullContact.prototype,b2Contact.prototype);Object.extend(b2NullContact.prototype,{initialize:function initialize(e,t){this.m_node1=new b2ContactNode();this.m_node2=new b2ContactNode();this.m_flags=0;if(!e||!t){this.m_shape1=null;this.m_shape2=null;return;}this.m_shape1=e;this.m_shape2=t;this.m_manifoldCount=0;this.m_friction=Math.sqrt(this.m_shape1.m_friction*this.m_shape2.m_friction);this.m_restitution=b2Math.b2Max(this.m_shape1.m_restitution,this.m_shape2.m_restitution);this.m_prev=null;this.m_next=null;this.m_node1.contact=null;this.m_node1.prev=null;this.m_node1.next=null;this.m_node1.other=null;this.m_node2.contact=null;this.m_node2.prev=null;this.m_node2.next=null;this.m_node2.other=null;},Evaluate:function Evaluate(){},GetManifolds:function GetManifolds(){return null;}});var b2PolyAndCircleContact=Class.create();Object.extend(b2PolyAndCircleContact.prototype,b2Contact.prototype);Object.extend(b2PolyAndCircleContact.prototype,{initialize:function initialize(e,t){this.m_node1=new b2ContactNode();this.m_node2=new b2ContactNode();this.m_flags=0;if(!e||!t){this.m_shape1=null;this.m_shape2=null;return;}this.m_shape1=e;this.m_shape2=t;this.m_manifoldCount=0;this.m_friction=Math.sqrt(this.m_shape1.m_friction*this.m_shape2.m_friction);this.m_restitution=b2Math.b2Max(this.m_shape1.m_restitution,this.m_shape2.m_restitution);this.m_prev=null;this.m_next=null;this.m_node1.contact=null;this.m_node1.prev=null;this.m_node1.next=null;this.m_node1.other=null;this.m_node2.contact=null;this.m_node2.prev=null;this.m_node2.next=null;this.m_node2.other=null;this.m_manifold=[new b2Manifold()];b2Settings.b2Assert(this.m_shape1.m_type==b2Shape.e_polyShape);b2Settings.b2Assert(this.m_shape2.m_type==b2Shape.e_circleShape);this.m_manifold[0].pointCount=0;this.m_manifold[0].points[0].normalImpulse=0;this.m_manifold[0].points[0].tangentImpulse=0;},Evaluate:function Evaluate(){b2Collision.b2CollidePolyAndCircle(this.m_manifold[0],this.m_shape1,this.m_shape2,false);if(this.m_manifold[0].pointCount>0){this.m_manifoldCount=1;}else{this.m_manifoldCount=0;}},GetManifolds:function GetManifolds(){return this.m_manifold;},m_manifold:[new b2Manifold()]});b2PolyAndCircleContact.Create=function(e,t,n){return new b2PolyAndCircleContact(e,t);};b2PolyAndCircleContact.Destroy=function(e,t){};var b2PolyContact=Class.create();Object.extend(b2PolyContact.prototype,b2Contact.prototype);Object.extend(b2PolyContact.prototype,{initialize:function initialize(e,t){this.m_node1=new b2ContactNode();this.m_node2=new b2ContactNode();this.m_flags=0;if(!e||!t){this.m_shape1=null;this.m_shape2=null;return;}this.m_shape1=e;this.m_shape2=t;this.m_manifoldCount=0;this.m_friction=Math.sqrt(this.m_shape1.m_friction*this.m_shape2.m_friction);this.m_restitution=b2Math.b2Max(this.m_shape1.m_restitution,this.m_shape2.m_restitution);this.m_prev=null;this.m_next=null;this.m_node1.contact=null;this.m_node1.prev=null;this.m_node1.next=null;this.m_node1.other=null;this.m_node2.contact=null;this.m_node2.prev=null;this.m_node2.next=null;this.m_node2.other=null;this.m0=new b2Manifold();this.m_manifold=[new b2Manifold()];this.m_manifold[0].pointCount=0;},m0:new b2Manifold(),Evaluate:function Evaluate(){var e=this.m_manifold[0];var t=this.m0.points;for(var n=0;n<e.pointCount;n++){var r=t[n];var i=e.points[n];r.normalImpulse=i.normalImpulse;r.tangentImpulse=i.tangentImpulse;r.id=i.id.Copy();}this.m0.pointCount=e.pointCount;b2Collision.b2CollidePoly(e,this.m_shape1,this.m_shape2,false);if(e.pointCount>0){var s=[false,false];for(var o=0;o<e.pointCount;++o){var u=e.points[o];u.normalImpulse=0;u.tangentImpulse=0;var a=u.id.key;for(var f=0;f<this.m0.pointCount;++f){if(s[f]==true)continue;var l=this.m0.points[f];var c=l.id;if(c.key==a){s[f]=true;u.normalImpulse=l.normalImpulse;u.tangentImpulse=l.tangentImpulse;break;}}}this.m_manifoldCount=1;}else{this.m_manifoldCount=0;}},GetManifolds:function GetManifolds(){return this.m_manifold;},m_manifold:[new b2Manifold()]});b2PolyContact.Create=function(e,t,n){return new b2PolyContact(e,t);};b2PolyContact.Destroy=function(e,t){};var b2ContactManager=Class.create();Object.extend(b2ContactManager.prototype,b2PairCallback.prototype);Object.extend(b2ContactManager.prototype,{initialize:function initialize(){this.m_nullContact=new b2NullContact();this.m_world=null;this.m_destroyImmediate=false;},PairAdded:function PairAdded(e,t){var n=e;var r=t;var i=n.m_body;var s=r.m_body;if(i.IsStatic()&&s.IsStatic()){return this.m_nullContact;}if(n.m_body==r.m_body){return this.m_nullContact;}if(s.IsConnected(i)){return this.m_nullContact;}if(this.m_world.m_filter!=null&&this.m_world.m_filter.ShouldCollide(n,r)==false){return this.m_nullContact;}if(s.m_invMass==0){var o=n;n=r;r=o;var u=i;i=s;s=u;}var a=b2Contact.Create(n,r,this.m_world.m_blockAllocator);if(a==null){return this.m_nullContact;}else{a.m_prev=null;a.m_next=this.m_world.m_contactList;if(this.m_world.m_contactList!=null){this.m_world.m_contactList.m_prev=a;}this.m_world.m_contactList=a;this.m_world.m_contactCount++;}return a;},PairRemoved:function PairRemoved(e,t,n){if(n==null){return;}var r=n;if(r!=this.m_nullContact){if(this.m_destroyImmediate==true){this.DestroyContact(r);r=null;}else{r.m_flags|=b2Contact.e_destroyFlag;}}},DestroyContact:function DestroyContact(e){if(e.m_prev){e.m_prev.m_next=e.m_next;}if(e.m_next){e.m_next.m_prev=e.m_prev;}if(e==this.m_world.m_contactList){this.m_world.m_contactList=e.m_next;}if(e.GetManifoldCount()>0){var t=e.m_shape1.m_body;var n=e.m_shape2.m_body;var r=e.m_node1;var i=e.m_node2;t.WakeUp();n.WakeUp();if(r.prev){r.prev.next=r.next;}if(r.next){r.next.prev=r.prev;}if(r==t.m_contactList){t.m_contactList=r.next;}r.prev=null;r.next=null;if(i.prev){i.prev.next=i.next;}if(i.next){i.next.prev=i.prev;}if(i==n.m_contactList){n.m_contactList=i.next;}i.prev=null;i.next=null;}b2Contact.Destroy(e,this.m_world.m_blockAllocator);--this.m_world.m_contactCount;},CleanContactList:function CleanContactList(){var e=this.m_world.m_contactList;while(e!=null){var t=e;e=e.m_next;if(t.m_flags&b2Contact.e_destroyFlag){this.DestroyContact(t);t=null;}}},Collide:function Collide(){var e;var t;var n;var r;for(var i=this.m_world.m_contactList;i!=null;i=i.m_next){if(i.m_shape1.m_body.IsSleeping()&&i.m_shape2.m_body.IsSleeping()){continue;}var s=i.GetManifoldCount();i.Evaluate();var o=i.GetManifoldCount();if(s==0&&o>0){e=i.m_shape1.m_body;t=i.m_shape2.m_body;n=i.m_node1;r=i.m_node2;n.contact=i;n.other=t;n.prev=null;n.next=e.m_contactList;if(n.next!=null){n.next.prev=i.m_node1;}e.m_contactList=i.m_node1;r.contact=i;r.other=e;r.prev=null;r.next=t.m_contactList;if(r.next!=null){r.next.prev=r;}t.m_contactList=r;}else if(s>0&&o==0){e=i.m_shape1.m_body;t=i.m_shape2.m_body;n=i.m_node1;r=i.m_node2;if(n.prev){n.prev.next=n.next;}if(n.next){n.next.prev=n.prev;}if(n==e.m_contactList){e.m_contactList=n.next;}n.prev=null;n.next=null;if(r.prev){r.prev.next=r.next;}if(r.next){r.next.prev=r.prev;}if(r==t.m_contactList){t.m_contactList=r.next;}r.prev=null;r.next=null;}}},m_world:null,m_nullContact:new b2NullContact(),m_destroyImmediate:null});var b2World=Class.create();b2World.prototype={initialize:function initialize(e,t,n){this.step=new b2TimeStep();this.m_contactManager=new b2ContactManager();this.m_listener=null;this.m_filter=b2CollisionFilter.b2_defaultFilter;this.m_bodyList=null;this.m_contactList=null;this.m_jointList=null;this.m_bodyCount=0;this.m_contactCount=0;this.m_jointCount=0;this.m_bodyDestroyList=null;this.m_allowSleep=n;this.m_gravity=t;this.m_contactManager.m_world=this;this.m_broadPhase=new b2BroadPhase(e,this.m_contactManager);var r=new b2BodyDef();this.m_groundBody=this.CreateBody(r);},SetListener:function SetListener(e){this.m_listener=e;},SetFilter:function SetFilter(e){this.m_filter=e;},CreateBody:function CreateBody(e){var t=new b2Body(e,this);t.m_prev=null;t.m_next=this.m_bodyList;if(this.m_bodyList){this.m_bodyList.m_prev=t;}this.m_bodyList=t;++this.m_bodyCount;return t;},DestroyBody:function DestroyBody(e){if(e.m_flags&b2Body.e_destroyFlag){return;}if(e.m_prev){e.m_prev.m_next=e.m_next;}if(e.m_next){e.m_next.m_prev=e.m_prev;}if(e==this.m_bodyList){this.m_bodyList=e.m_next;}e.m_flags|=b2Body.e_destroyFlag;--this.m_bodyCount;e.m_prev=null;e.m_next=this.m_bodyDestroyList;this.m_bodyDestroyList=e;},CleanBodyList:function CleanBodyList(){this.m_contactManager.m_destroyImmediate=true;var e=this.m_bodyDestroyList;while(e){var t=e;e=e.m_next;var n=t.m_jointList;while(n){var r=n;n=n.next;if(this.m_listener){this.m_listener.NotifyJointDestroyed(r.joint);}this.DestroyJoint(r.joint);}t.Destroy();}this.m_bodyDestroyList=null;this.m_contactManager.m_destroyImmediate=false;},CreateJoint:function CreateJoint(e){var t=b2Joint.Create(e,this.m_blockAllocator);t.m_prev=null;t.m_next=this.m_jointList;if(this.m_jointList){this.m_jointList.m_prev=t;}this.m_jointList=t;++this.m_jointCount;t.m_node1.joint=t;t.m_node1.other=t.m_body2;t.m_node1.prev=null;t.m_node1.next=t.m_body1.m_jointList;if(t.m_body1.m_jointList)t.m_body1.m_jointList.prev=t.m_node1;t.m_body1.m_jointList=t.m_node1;t.m_node2.joint=t;t.m_node2.other=t.m_body1;t.m_node2.prev=null;t.m_node2.next=t.m_body2.m_jointList;if(t.m_body2.m_jointList)t.m_body2.m_jointList.prev=t.m_node2;t.m_body2.m_jointList=t.m_node2;if(e.collideConnected==false){var n=e.body1.m_shapeCount<e.body2.m_shapeCount?e.body1:e.body2;for(var r=n.m_shapeList;r;r=r.m_next){r.ResetProxy(this.m_broadPhase);}}return t;},DestroyJoint:function DestroyJoint(e){var t=e.m_collideConnected;if(e.m_prev){e.m_prev.m_next=e.m_next;}if(e.m_next){e.m_next.m_prev=e.m_prev;}if(e==this.m_jointList){this.m_jointList=e.m_next;}var n=e.m_body1;var r=e.m_body2;n.WakeUp();r.WakeUp();if(e.m_node1.prev){e.m_node1.prev.next=e.m_node1.next;}if(e.m_node1.next){e.m_node1.next.prev=e.m_node1.prev;}if(e.m_node1==n.m_jointList){n.m_jointList=e.m_node1.next;}e.m_node1.prev=null;e.m_node1.next=null;if(e.m_node2.prev){e.m_node2.prev.next=e.m_node2.next;}if(e.m_node2.next){e.m_node2.next.prev=e.m_node2.prev;}if(e.m_node2==r.m_jointList){r.m_jointList=e.m_node2.next;}e.m_node2.prev=null;e.m_node2.next=null;b2Joint.Destroy(e,this.m_blockAllocator);--this.m_jointCount;if(t==false){var i=n.m_shapeCount<r.m_shapeCount?n:r;for(var s=i.m_shapeList;s;s=s.m_next){s.ResetProxy(this.m_broadPhase);}}},GetGroundBody:function GetGroundBody(){return this.m_groundBody;},step:new b2TimeStep(),Step:function Step(e,t){var n;var r;this.step.dt=e;this.step.iterations=t;if(e>0){this.step.inv_dt=1/e;}else{this.step.inv_dt=0;}this.m_positionIterationCount=0;this.m_contactManager.CleanContactList();this.CleanBodyList();this.m_contactManager.Collide();var i=new b2Island(this.m_bodyCount,this.m_contactCount,this.m_jointCount,this.m_stackAllocator);for(n=this.m_bodyList;n!=null;n=n.m_next){n.m_flags&=~b2Body.e_islandFlag;}for(var s=this.m_contactList;s!=null;s=s.m_next){s.m_flags&=~b2Contact.e_islandFlag;}for(var o=this.m_jointList;o!=null;o=o.m_next){o.m_islandFlag=false;}var u=this.m_bodyCount;var a=new Array(this.m_bodyCount);for(var f=0;f<this.m_bodyCount;f++){a[f]=null;}for(var l=this.m_bodyList;l!=null;l=l.m_next){if(l.m_flags&(b2Body.e_staticFlag|b2Body.e_islandFlag|b2Body.e_sleepFlag|b2Body.e_frozenFlag)){continue;}i.Clear();var c=0;a[c++]=l;l.m_flags|=b2Body.e_islandFlag;while(c>0){n=a[--c];i.AddBody(n);n.m_flags&=~b2Body.e_sleepFlag;if(n.m_flags&b2Body.e_staticFlag){continue;}for(var h=n.m_contactList;h!=null;h=h.next){if(h.contact.m_flags&b2Contact.e_islandFlag){continue;}i.AddContact(h.contact);h.contact.m_flags|=b2Contact.e_islandFlag;r=h.other;if(r.m_flags&b2Body.e_islandFlag){continue;}a[c++]=r;r.m_flags|=b2Body.e_islandFlag;}for(var p=n.m_jointList;p!=null;p=p.next){if(p.joint.m_islandFlag==true){continue;}i.AddJoint(p.joint);p.joint.m_islandFlag=true;r=p.other;if(r.m_flags&b2Body.e_islandFlag){continue;}a[c++]=r;r.m_flags|=b2Body.e_islandFlag;}}i.Solve(this.step,this.m_gravity);this.m_positionIterationCount=b2Math.b2Max(this.m_positionIterationCount,b2Island.m_positionIterationCount);if(this.m_allowSleep){i.UpdateSleep(e);}for(var d=0;d<i.m_bodyCount;++d){n=i.m_bodies[d];if(n.m_flags&b2Body.e_staticFlag){n.m_flags&=~b2Body.e_islandFlag;}if(n.IsFrozen()&&this.m_listener){var v=this.m_listener.NotifyBoundaryViolated(n);if(v==b2WorldListener.b2_destroyBody){this.DestroyBody(n);n=null;i.m_bodies[d]=null;}}}}this.m_broadPhase.Commit();},Query:function Query(e,t,n){var r=new Array();var i=this.m_broadPhase.QueryAABB(e,r,n);for(var s=0;s<i;++s){t[s]=r[s];}return i;},GetBodyList:function GetBodyList(){return this.m_bodyList;},GetJointList:function GetJointList(){return this.m_jointList;},GetContactList:function GetContactList(){return this.m_contactList;},m_blockAllocator:null,m_stackAllocator:null,m_broadPhase:null,m_contactManager:new b2ContactManager(),m_bodyList:null,m_contactList:null,m_jointList:null,m_bodyCount:0,m_contactCount:0,m_jointCount:0,m_bodyDestroyList:null,m_gravity:null,m_allowSleep:null,m_groundBody:null,m_listener:null,m_filter:null,m_positionIterationCount:0};b2World.s_enablePositionCorrection=1;b2World.s_enableWarmStarting=1;var b2WorldListener=Class.create();b2WorldListener.prototype={NotifyJointDestroyed:function NotifyJointDestroyed(e){},NotifyBoundaryViolated:function NotifyBoundaryViolated(e){return b2WorldListener.b2_freezeBody;},initialize:function initialize(){}};b2WorldListener.b2_freezeBody=0;b2WorldListener.b2_destroyBody=1;var b2JointNode=Class.create();b2JointNode.prototype={other:null,joint:null,prev:null,next:null,initialize:function initialize(){}};var b2Joint=Class.create();b2Joint.prototype={GetType:function GetType(){return this.m_type;},GetAnchor1:function GetAnchor1(){return null;},GetAnchor2:function GetAnchor2(){return null;},GetReactionForce:function GetReactionForce(e){return null;},GetReactionTorque:function GetReactionTorque(e){return 0;},GetBody1:function GetBody1(){return this.m_body1;},GetBody2:function GetBody2(){return this.m_body2;},GetNext:function GetNext(){return this.m_next;},GetUserData:function GetUserData(){return this.m_userData;},initialize:function initialize(e){this.m_node1=new b2JointNode();this.m_node2=new b2JointNode();this.m_type=e.type;this.m_prev=null;this.m_next=null;this.m_body1=e.body1;this.m_body2=e.body2;this.m_collideConnected=e.collideConnected;this.m_islandFlag=false;this.m_userData=e.userData;},PrepareVelocitySolver:function PrepareVelocitySolver(){},SolveVelocityConstraints:function SolveVelocityConstraints(e){},PreparePositionSolver:function PreparePositionSolver(){},SolvePositionConstraints:function SolvePositionConstraints(){return false;},m_type:0,m_prev:null,m_next:null,m_node1:new b2JointNode(),m_node2:new b2JointNode(),m_body1:null,m_body2:null,m_islandFlag:null,m_collideConnected:null,m_userData:null};b2Joint.Create=function(e,t){var n=null;switch(e.type){case b2Joint.e_distanceJoint:{n=new b2DistanceJoint(e);}break;case b2Joint.e_mouseJoint:{n=new b2MouseJoint(e);}break;case b2Joint.e_prismaticJoint:{n=new b2PrismaticJoint(e);}break;case b2Joint.e_revoluteJoint:{n=new b2RevoluteJoint(e);}break;case b2Joint.e_pulleyJoint:{n=new b2PulleyJoint(e);}break;case b2Joint.e_gearJoint:{n=new b2GearJoint(e);}break;default:break;}return n;};b2Joint.Destroy=function(e,t){};b2Joint.e_unknownJoint=0;b2Joint.e_revoluteJoint=1;b2Joint.e_prismaticJoint=2;b2Joint.e_distanceJoint=3;b2Joint.e_pulleyJoint=4;b2Joint.e_mouseJoint=5;b2Joint.e_gearJoint=6;b2Joint.e_inactiveLimit=0;b2Joint.e_atLowerLimit=1;b2Joint.e_atUpperLimit=2;b2Joint.e_equalLimits=3;var b2JointDef=Class.create();b2JointDef.prototype={initialize:function initialize(){this.type=b2Joint.e_unknownJoint;this.userData=null;this.body1=null;this.body2=null;this.collideConnected=false;},type:0,userData:null,body1:null,body2:null,collideConnected:null};var b2DistanceJoint=Class.create();Object.extend(b2DistanceJoint.prototype,b2Joint.prototype);Object.extend(b2DistanceJoint.prototype,{initialize:function initialize(e){this.m_node1=new b2JointNode();this.m_node2=new b2JointNode();this.m_type=e.type;this.m_prev=null;this.m_next=null;this.m_body1=e.body1;this.m_body2=e.body2;this.m_collideConnected=e.collideConnected;this.m_islandFlag=false;this.m_userData=e.userData;this.m_localAnchor1=new b2Vec2();this.m_localAnchor2=new b2Vec2();this.m_u=new b2Vec2();var t;var n;var r;t=this.m_body1.m_R;n=e.anchorPoint1.x-this.m_body1.m_position.x;r=e.anchorPoint1.y-this.m_body1.m_position.y;this.m_localAnchor1.x=n*t.col1.x+r*t.col1.y;this.m_localAnchor1.y=n*t.col2.x+r*t.col2.y;t=this.m_body2.m_R;n=e.anchorPoint2.x-this.m_body2.m_position.x;r=e.anchorPoint2.y-this.m_body2.m_position.y;this.m_localAnchor2.x=n*t.col1.x+r*t.col1.y;this.m_localAnchor2.y=n*t.col2.x+r*t.col2.y;n=e.anchorPoint2.x-e.anchorPoint1.x;r=e.anchorPoint2.y-e.anchorPoint1.y;this.m_length=Math.sqrt(n*n+r*r);this.m_impulse=0;},PrepareVelocitySolver:function PrepareVelocitySolver(){var e;e=this.m_body1.m_R;var t=e.col1.x*this.m_localAnchor1.x+e.col2.x*this.m_localAnchor1.y;var n=e.col1.y*this.m_localAnchor1.x+e.col2.y*this.m_localAnchor1.y;e=this.m_body2.m_R;var r=e.col1.x*this.m_localAnchor2.x+e.col2.x*this.m_localAnchor2.y;var i=e.col1.y*this.m_localAnchor2.x+e.col2.y*this.m_localAnchor2.y;this.m_u.x=this.m_body2.m_position.x+r-this.m_body1.m_position.x-t;this.m_u.y=this.m_body2.m_position.y+i-this.m_body1.m_position.y-n;var s=Math.sqrt(this.m_u.x*this.m_u.x+this.m_u.y*this.m_u.y);if(s>b2Settings.b2_linearSlop){this.m_u.Multiply(1/s);}else{this.m_u.SetZero();}var o=t*this.m_u.y-n*this.m_u.x;var u=r*this.m_u.y-i*this.m_u.x;this.m_mass=this.m_body1.m_invMass+this.m_body1.m_invI*o*o+this.m_body2.m_invMass+this.m_body2.m_invI*u*u;this.m_mass=1/this.m_mass;if(b2World.s_enableWarmStarting){var a=this.m_impulse*this.m_u.x;var f=this.m_impulse*this.m_u.y;this.m_body1.m_linearVelocity.x-=this.m_body1.m_invMass*a;this.m_body1.m_linearVelocity.y-=this.m_body1.m_invMass*f;this.m_body1.m_angularVelocity-=this.m_body1.m_invI*(t*f-n*a);this.m_body2.m_linearVelocity.x+=this.m_body2.m_invMass*a;this.m_body2.m_linearVelocity.y+=this.m_body2.m_invMass*f;this.m_body2.m_angularVelocity+=this.m_body2.m_invI*(r*f-i*a);}else{this.m_impulse=0;}},SolveVelocityConstraints:function SolveVelocityConstraints(e){var t;t=this.m_body1.m_R;var n=t.col1.x*this.m_localAnchor1.x+t.col2.x*this.m_localAnchor1.y;var r=t.col1.y*this.m_localAnchor1.x+t.col2.y*this.m_localAnchor1.y;t=this.m_body2.m_R;var i=t.col1.x*this.m_localAnchor2.x+t.col2.x*this.m_localAnchor2.y;var s=t.col1.y*this.m_localAnchor2.x+t.col2.y*this.m_localAnchor2.y;var o=this.m_body1.m_linearVelocity.x+-this.m_body1.m_angularVelocity*r;var u=this.m_body1.m_linearVelocity.y+this.m_body1.m_angularVelocity*n;var a=this.m_body2.m_linearVelocity.x+-this.m_body2.m_angularVelocity*s;var f=this.m_body2.m_linearVelocity.y+this.m_body2.m_angularVelocity*i;var l=this.m_u.x*(a-o)+this.m_u.y*(f-u);var c=-this.m_mass*l;this.m_impulse+=c;var h=c*this.m_u.x;var p=c*this.m_u.y;this.m_body1.m_linearVelocity.x-=this.m_body1.m_invMass*h;this.m_body1.m_linearVelocity.y-=this.m_body1.m_invMass*p;this.m_body1.m_angularVelocity-=this.m_body1.m_invI*(n*p-r*h);this.m_body2.m_linearVelocity.x+=this.m_body2.m_invMass*h;this.m_body2.m_linearVelocity.y+=this.m_body2.m_invMass*p;this.m_body2.m_angularVelocity+=this.m_body2.m_invI*(i*p-s*h);},SolvePositionConstraints:function SolvePositionConstraints(){var e;e=this.m_body1.m_R;var t=e.col1.x*this.m_localAnchor1.x+e.col2.x*this.m_localAnchor1.y;var n=e.col1.y*this.m_localAnchor1.x+e.col2.y*this.m_localAnchor1.y;e=this.m_body2.m_R;var r=e.col1.x*this.m_localAnchor2.x+e.col2.x*this.m_localAnchor2.y;var i=e.col1.y*this.m_localAnchor2.x+e.col2.y*this.m_localAnchor2.y;var s=this.m_body2.m_position.x+r-this.m_body1.m_position.x-t;var o=this.m_body2.m_position.y+i-this.m_body1.m_position.y-n;var u=Math.sqrt(s*s+o*o);s/=u;o/=u;var a=u-this.m_length;a=b2Math.b2Clamp(a,-b2Settings.b2_maxLinearCorrection,b2Settings.b2_maxLinearCorrection);var f=-this.m_mass*a;this.m_u.Set(s,o);var l=f*this.m_u.x;var c=f*this.m_u.y;this.m_body1.m_position.x-=this.m_body1.m_invMass*l;this.m_body1.m_position.y-=this.m_body1.m_invMass*c;this.m_body1.m_rotation-=this.m_body1.m_invI*(t*c-n*l);this.m_body2.m_position.x+=this.m_body2.m_invMass*l;this.m_body2.m_position.y+=this.m_body2.m_invMass*c;this.m_body2.m_rotation+=this.m_body2.m_invI*(r*c-i*l);this.m_body1.m_R.Set(this.m_body1.m_rotation);this.m_body2.m_R.Set(this.m_body2.m_rotation);return b2Math.b2Abs(a)<b2Settings.b2_linearSlop;},GetAnchor1:function GetAnchor1(){return b2Math.AddVV(this.m_body1.m_position,b2Math.b2MulMV(this.m_body1.m_R,this.m_localAnchor1));},GetAnchor2:function GetAnchor2(){return b2Math.AddVV(this.m_body2.m_position,b2Math.b2MulMV(this.m_body2.m_R,this.m_localAnchor2));},GetReactionForce:function GetReactionForce(e){var t=new b2Vec2();t.SetV(this.m_u);t.Multiply(this.m_impulse*e);return t;},GetReactionTorque:function GetReactionTorque(e){return 0;},m_localAnchor1:new b2Vec2(),m_localAnchor2:new b2Vec2(),m_u:new b2Vec2(),m_impulse:null,m_mass:null,m_length:null});var b2DistanceJointDef=Class.create();Object.extend(b2DistanceJointDef.prototype,b2JointDef.prototype);Object.extend(b2DistanceJointDef.prototype,{initialize:function initialize(){this.type=b2Joint.e_unknownJoint;this.userData=null;this.body1=null;this.body2=null;this.collideConnected=false;this.anchorPoint1=new b2Vec2();this.anchorPoint2=new b2Vec2();this.type=b2Joint.e_distanceJoint;},anchorPoint1:new b2Vec2(),anchorPoint2:new b2Vec2()});var b2Jacobian=Class.create();b2Jacobian.prototype={linear1:new b2Vec2(),angular1:null,linear2:new b2Vec2(),angular2:null,SetZero:function SetZero(){this.linear1.SetZero();this.angular1=0;this.linear2.SetZero();this.angular2=0;},Set:function Set(e,t,n,r){this.linear1.SetV(e);this.angular1=t;this.linear2.SetV(n);this.angular2=r;},Compute:function Compute(e,t,n,r){return this.linear1.x*e.x+this.linear1.y*e.y+this.angular1*t+(this.linear2.x*n.x+this.linear2.y*n.y)+this.angular2*r;},initialize:function initialize(){this.linear1=new b2Vec2();this.linear2=new b2Vec2();}};var b2GearJoint=Class.create();Object.extend(b2GearJoint.prototype,b2Joint.prototype);Object.extend(b2GearJoint.prototype,{GetAnchor1:function GetAnchor1(){var e=this.m_body1.m_R;return new b2Vec2(this.m_body1.m_position.x+(e.col1.x*this.m_localAnchor1.x+e.col2.x*this.m_localAnchor1.y),this.m_body1.m_position.y+(e.col1.y*this.m_localAnchor1.x+e.col2.y*this.m_localAnchor1.y));},GetAnchor2:function GetAnchor2(){var e=this.m_body2.m_R;return new b2Vec2(this.m_body2.m_position.x+(e.col1.x*this.m_localAnchor2.x+e.col2.x*this.m_localAnchor2.y),this.m_body2.m_position.y+(e.col1.y*this.m_localAnchor2.x+e.col2.y*this.m_localAnchor2.y));},GetReactionForce:function GetReactionForce(e){return new b2Vec2();},GetReactionTorque:function GetReactionTorque(e){return 0;},GetRatio:function GetRatio(){return this.m_ratio;},initialize:function initialize(e){this.m_node1=new b2JointNode();this.m_node2=new b2JointNode();this.m_type=e.type;this.m_prev=null;this.m_next=null;this.m_body1=e.body1;this.m_body2=e.body2;this.m_collideConnected=e.collideConnected;this.m_islandFlag=false;this.m_userData=e.userData;this.m_groundAnchor1=new b2Vec2();this.m_groundAnchor2=new b2Vec2();this.m_localAnchor1=new b2Vec2();this.m_localAnchor2=new b2Vec2();this.m_J=new b2Jacobian();this.m_revolute1=null;this.m_prismatic1=null;this.m_revolute2=null;this.m_prismatic2=null;var t;var n;this.m_ground1=e.joint1.m_body1;this.m_body1=e.joint1.m_body2;if(e.joint1.m_type==b2Joint.e_revoluteJoint){this.m_revolute1=e.joint1;this.m_groundAnchor1.SetV(this.m_revolute1.m_localAnchor1);this.m_localAnchor1.SetV(this.m_revolute1.m_localAnchor2);t=this.m_revolute1.GetJointAngle();}else{this.m_prismatic1=e.joint1;this.m_groundAnchor1.SetV(this.m_prismatic1.m_localAnchor1);this.m_localAnchor1.SetV(this.m_prismatic1.m_localAnchor2);t=this.m_prismatic1.GetJointTranslation();}this.m_ground2=e.joint2.m_body1;this.m_body2=e.joint2.m_body2;if(e.joint2.m_type==b2Joint.e_revoluteJoint){this.m_revolute2=e.joint2;this.m_groundAnchor2.SetV(this.m_revolute2.m_localAnchor1);this.m_localAnchor2.SetV(this.m_revolute2.m_localAnchor2);n=this.m_revolute2.GetJointAngle();}else{this.m_prismatic2=e.joint2;this.m_groundAnchor2.SetV(this.m_prismatic2.m_localAnchor1);this.m_localAnchor2.SetV(this.m_prismatic2.m_localAnchor2);n=this.m_prismatic2.GetJointTranslation();}this.m_ratio=e.ratio;this.m_constant=t+this.m_ratio*n;this.m_impulse=0;},PrepareVelocitySolver:function PrepareVelocitySolver(){var e=this.m_ground1;var t=this.m_ground2;var n=this.m_body1;var r=this.m_body2;var i;var s;var o;var u;var a;var f;var l;var c=0;this.m_J.SetZero();if(this.m_revolute1){this.m_J.angular1=-1;c+=n.m_invI;}else{a=e.m_R;f=this.m_prismatic1.m_localXAxis1;i=a.col1.x*f.x+a.col2.x*f.y;s=a.col1.y*f.x+a.col2.y*f.y;a=n.m_R;o=a.col1.x*this.m_localAnchor1.x+a.col2.x*this.m_localAnchor1.y;u=a.col1.y*this.m_localAnchor1.x+a.col2.y*this.m_localAnchor1.y;l=o*s-u*i;this.m_J.linear1.Set(-i,-s);this.m_J.angular1=-l;c+=n.m_invMass+n.m_invI*l*l;}if(this.m_revolute2){this.m_J.angular2=-this.m_ratio;c+=this.m_ratio*this.m_ratio*r.m_invI;}else{a=t.m_R;f=this.m_prismatic2.m_localXAxis1;i=a.col1.x*f.x+a.col2.x*f.y;s=a.col1.y*f.x+a.col2.y*f.y;a=r.m_R;o=a.col1.x*this.m_localAnchor2.x+a.col2.x*this.m_localAnchor2.y;u=a.col1.y*this.m_localAnchor2.x+a.col2.y*this.m_localAnchor2.y;l=o*s-u*i;this.m_J.linear2.Set(-this.m_ratio*i,-this.m_ratio*s);this.m_J.angular2=-this.m_ratio*l;c+=this.m_ratio*this.m_ratio*(r.m_invMass+r.m_invI*l*l);}this.m_mass=1/c;n.m_linearVelocity.x+=n.m_invMass*this.m_impulse*this.m_J.linear1.x;n.m_linearVelocity.y+=n.m_invMass*this.m_impulse*this.m_J.linear1.y;n.m_angularVelocity+=n.m_invI*this.m_impulse*this.m_J.angular1;r.m_linearVelocity.x+=r.m_invMass*this.m_impulse*this.m_J.linear2.x;r.m_linearVelocity.y+=r.m_invMass*this.m_impulse*this.m_J.linear2.y;r.m_angularVelocity+=r.m_invI*this.m_impulse*this.m_J.angular2;},SolveVelocityConstraints:function SolveVelocityConstraints(e){var t=this.m_body1;var n=this.m_body2;var r=this.m_J.Compute(t.m_linearVelocity,t.m_angularVelocity,n.m_linearVelocity,n.m_angularVelocity);var i=-this.m_mass*r;this.m_impulse+=i;t.m_linearVelocity.x+=t.m_invMass*i*this.m_J.linear1.x;t.m_linearVelocity.y+=t.m_invMass*i*this.m_J.linear1.y;t.m_angularVelocity+=t.m_invI*i*this.m_J.angular1;n.m_linearVelocity.x+=n.m_invMass*i*this.m_J.linear2.x;n.m_linearVelocity.y+=n.m_invMass*i*this.m_J.linear2.y;n.m_angularVelocity+=n.m_invI*i*this.m_J.angular2;},SolvePositionConstraints:function SolvePositionConstraints(){var e=0;var t=this.m_body1;var n=this.m_body2;var r;var i;if(this.m_revolute1){r=this.m_revolute1.GetJointAngle();}else{r=this.m_prismatic1.GetJointTranslation();}if(this.m_revolute2){i=this.m_revolute2.GetJointAngle();}else{i=this.m_prismatic2.GetJointTranslation();}var s=this.m_constant-(r+this.m_ratio*i);var o=-this.m_mass*s;t.m_position.x+=t.m_invMass*o*this.m_J.linear1.x;t.m_position.y+=t.m_invMass*o*this.m_J.linear1.y;t.m_rotation+=t.m_invI*o*this.m_J.angular1;n.m_position.x+=n.m_invMass*o*this.m_J.linear2.x;n.m_position.y+=n.m_invMass*o*this.m_J.linear2.y;n.m_rotation+=n.m_invI*o*this.m_J.angular2;t.m_R.Set(t.m_rotation);n.m_R.Set(n.m_rotation);return e<b2Settings.b2_linearSlop;},m_ground1:null,m_ground2:null,m_revolute1:null,m_prismatic1:null,m_revolute2:null,m_prismatic2:null,m_groundAnchor1:new b2Vec2(),m_groundAnchor2:new b2Vec2(),m_localAnchor1:new b2Vec2(),m_localAnchor2:new b2Vec2(),m_J:new b2Jacobian(),m_constant:null,m_ratio:null,m_mass:null,m_impulse:null});var b2GearJointDef=Class.create();Object.extend(b2GearJointDef.prototype,b2JointDef.prototype);Object.extend(b2GearJointDef.prototype,{initialize:function initialize(){this.type=b2Joint.e_gearJoint;this.joint1=null;this.joint2=null;this.ratio=1;},joint1:null,joint2:null,ratio:null});var b2MouseJoint=Class.create();Object.extend(b2MouseJoint.prototype,b2Joint.prototype);Object.extend(b2MouseJoint.prototype,{GetAnchor1:function GetAnchor1(){return this.m_target;},GetAnchor2:function GetAnchor2(){var e=b2Math.b2MulMV(this.m_body2.m_R,this.m_localAnchor);e.Add(this.m_body2.m_position);return e;},GetReactionForce:function GetReactionForce(e){var t=new b2Vec2();t.SetV(this.m_impulse);t.Multiply(e);return t;},GetReactionTorque:function GetReactionTorque(e){return 0;},SetTarget:function SetTarget(e){this.m_body2.WakeUp();this.m_target=e;},initialize:function initialize(e){this.m_node1=new b2JointNode();this.m_node2=new b2JointNode();this.m_type=e.type;this.m_prev=null;this.m_next=null;this.m_body1=e.body1;this.m_body2=e.body2;this.m_collideConnected=e.collideConnected;this.m_islandFlag=false;this.m_userData=e.userData;this.K=new b2Mat22();this.K1=new b2Mat22();this.K2=new b2Mat22();this.m_localAnchor=new b2Vec2();this.m_target=new b2Vec2();this.m_impulse=new b2Vec2();this.m_ptpMass=new b2Mat22();this.m_C=new b2Vec2();this.m_target.SetV(e.target);var t=this.m_target.x-this.m_body2.m_position.x;var n=this.m_target.y-this.m_body2.m_position.y;this.m_localAnchor.x=t*this.m_body2.m_R.col1.x+n*this.m_body2.m_R.col1.y;this.m_localAnchor.y=t*this.m_body2.m_R.col2.x+n*this.m_body2.m_R.col2.y;this.m_maxForce=e.maxForce;this.m_impulse.SetZero();var r=this.m_body2.m_mass;var i=2*b2Settings.b2_pi*e.frequencyHz;var s=2*r*e.dampingRatio*i;var o=r*i*i;this.m_gamma=1/(s+e.timeStep*o);this.m_beta=e.timeStep*o/(s+e.timeStep*o);},K:new b2Mat22(),K1:new b2Mat22(),K2:new b2Mat22(),PrepareVelocitySolver:function PrepareVelocitySolver(){var e=this.m_body2;var t;t=e.m_R;var n=t.col1.x*this.m_localAnchor.x+t.col2.x*this.m_localAnchor.y;var r=t.col1.y*this.m_localAnchor.x+t.col2.y*this.m_localAnchor.y;var i=e.m_invMass;var s=e.m_invI;this.K1.col1.x=i;this.K1.col2.x=0;this.K1.col1.y=0;this.K1.col2.y=i;this.K2.col1.x=s*r*r;this.K2.col2.x=-s*n*r;this.K2.col1.y=-s*n*r;this.K2.col2.y=s*n*n;this.K.SetM(this.K1);this.K.AddM(this.K2);this.K.col1.x+=this.m_gamma;this.K.col2.y+=this.m_gamma;this.K.Invert(this.m_ptpMass);this.m_C.x=e.m_position.x+n-this.m_target.x;this.m_C.y=e.m_position.y+r-this.m_target.y;e.m_angularVelocity*=.98;var o=this.m_impulse.x;var u=this.m_impulse.y;e.m_linearVelocity.x+=i*o;e.m_linearVelocity.y+=i*u;e.m_angularVelocity+=s*(n*u-r*o);},SolveVelocityConstraints:function SolveVelocityConstraints(e){var t=this.m_body2;var n;n=t.m_R;var r=n.col1.x*this.m_localAnchor.x+n.col2.x*this.m_localAnchor.y;var i=n.col1.y*this.m_localAnchor.x+n.col2.y*this.m_localAnchor.y;var s=t.m_linearVelocity.x+-t.m_angularVelocity*i;var o=t.m_linearVelocity.y+t.m_angularVelocity*r;n=this.m_ptpMass;var u=s+this.m_beta*e.inv_dt*this.m_C.x+this.m_gamma*this.m_impulse.x;var a=o+this.m_beta*e.inv_dt*this.m_C.y+this.m_gamma*this.m_impulse.y;var f=-(n.col1.x*u+n.col2.x*a);var l=-(n.col1.y*u+n.col2.y*a);var c=this.m_impulse.x;var h=this.m_impulse.y;this.m_impulse.x+=f;this.m_impulse.y+=l;var p=this.m_impulse.Length();if(p>e.dt*this.m_maxForce){this.m_impulse.Multiply(e.dt*this.m_maxForce/p);}f=this.m_impulse.x-c;l=this.m_impulse.y-h;t.m_linearVelocity.x+=t.m_invMass*f;t.m_linearVelocity.y+=t.m_invMass*l;t.m_angularVelocity+=t.m_invI*(r*l-i*f);},SolvePositionConstraints:function SolvePositionConstraints(){return true;},m_localAnchor:new b2Vec2(),m_target:new b2Vec2(),m_impulse:new b2Vec2(),m_ptpMass:new b2Mat22(),m_C:new b2Vec2(),m_maxForce:null,m_beta:null,m_gamma:null});var b2MouseJointDef=Class.create();Object.extend(b2MouseJointDef.prototype,b2JointDef.prototype);Object.extend(b2MouseJointDef.prototype,{initialize:function initialize(){this.type=b2Joint.e_unknownJoint;this.userData=null;this.body1=null;this.body2=null;this.collideConnected=false;this.target=new b2Vec2();this.type=b2Joint.e_mouseJoint;this.maxForce=0;this.frequencyHz=5;this.dampingRatio=.7;this.timeStep=1/60;},target:new b2Vec2(),maxForce:null,frequencyHz:null,dampingRatio:null,timeStep:null});var b2PrismaticJoint=Class.create();Object.extend(b2PrismaticJoint.prototype,b2Joint.prototype);Object.extend(b2PrismaticJoint.prototype,{GetAnchor1:function GetAnchor1(){var e=this.m_body1;var t=new b2Vec2();t.SetV(this.m_localAnchor1);t.MulM(e.m_R);t.Add(e.m_position);return t;},GetAnchor2:function GetAnchor2(){var e=this.m_body2;var t=new b2Vec2();t.SetV(this.m_localAnchor2);t.MulM(e.m_R);t.Add(e.m_position);return t;},GetJointTranslation:function GetJointTranslation(){var e=this.m_body1;var t=this.m_body2;var n;n=e.m_R;var r=n.col1.x*this.m_localAnchor1.x+n.col2.x*this.m_localAnchor1.y;var i=n.col1.y*this.m_localAnchor1.x+n.col2.y*this.m_localAnchor1.y;n=t.m_R;var s=n.col1.x*this.m_localAnchor2.x+n.col2.x*this.m_localAnchor2.y;var o=n.col1.y*this.m_localAnchor2.x+n.col2.y*this.m_localAnchor2.y;var u=e.m_position.x+r;var a=e.m_position.y+i;var f=t.m_position.x+s;var l=t.m_position.y+o;var c=f-u;var h=l-a;n=e.m_R;var p=n.col1.x*this.m_localXAxis1.x+n.col2.x*this.m_localXAxis1.y;var d=n.col1.y*this.m_localXAxis1.x+n.col2.y*this.m_localXAxis1.y;var v=p*c+d*h;return v;},GetJointSpeed:function GetJointSpeed(){var e=this.m_body1;var t=this.m_body2;var n;n=e.m_R;var r=n.col1.x*this.m_localAnchor1.x+n.col2.x*this.m_localAnchor1.y;var i=n.col1.y*this.m_localAnchor1.x+n.col2.y*this.m_localAnchor1.y;n=t.m_R;var s=n.col1.x*this.m_localAnchor2.x+n.col2.x*this.m_localAnchor2.y;var o=n.col1.y*this.m_localAnchor2.x+n.col2.y*this.m_localAnchor2.y;var u=e.m_position.x+r;var a=e.m_position.y+i;var f=t.m_position.x+s;var l=t.m_position.y+o;var c=f-u;var h=l-a;n=e.m_R;var p=n.col1.x*this.m_localXAxis1.x+n.col2.x*this.m_localXAxis1.y;var d=n.col1.y*this.m_localXAxis1.x+n.col2.y*this.m_localXAxis1.y;var v=e.m_linearVelocity;var m=t.m_linearVelocity;var g=e.m_angularVelocity;var y=t.m_angularVelocity;var b=c*-g*d+h*g*p+(p*(m.x+-y*o-v.x- -g*i)+d*(m.y+y*s-v.y-g*r));return b;},GetMotorForce:function GetMotorForce(e){return e*this.m_motorImpulse;},SetMotorSpeed:function SetMotorSpeed(e){this.m_motorSpeed=e;},SetMotorForce:function SetMotorForce(e){this.m_maxMotorForce=e;},GetReactionForce:function GetReactionForce(e){var t=e*this.m_limitImpulse;var n;n=this.m_body1.m_R;var r=t*(n.col1.x*this.m_localXAxis1.x+n.col2.x*this.m_localXAxis1.y);var i=t*(n.col1.y*this.m_localXAxis1.x+n.col2.y*this.m_localXAxis1.y);var s=t*(n.col1.x*this.m_localYAxis1.x+n.col2.x*this.m_localYAxis1.y);var o=t*(n.col1.y*this.m_localYAxis1.x+n.col2.y*this.m_localYAxis1.y);return new b2Vec2(r+s,i+o);},GetReactionTorque:function GetReactionTorque(e){return e*this.m_angularImpulse;},initialize:function initialize(e){this.m_node1=new b2JointNode();this.m_node2=new b2JointNode();this.m_type=e.type;this.m_prev=null;this.m_next=null;this.m_body1=e.body1;this.m_body2=e.body2;this.m_collideConnected=e.collideConnected;this.m_islandFlag=false;this.m_userData=e.userData;this.m_localAnchor1=new b2Vec2();this.m_localAnchor2=new b2Vec2();this.m_localXAxis1=new b2Vec2();this.m_localYAxis1=new b2Vec2();this.m_linearJacobian=new b2Jacobian();this.m_motorJacobian=new b2Jacobian();var t;var n;var r;t=this.m_body1.m_R;n=e.anchorPoint.x-this.m_body1.m_position.x;r=e.anchorPoint.y-this.m_body1.m_position.y;this.m_localAnchor1.Set(n*t.col1.x+r*t.col1.y,n*t.col2.x+r*t.col2.y);t=this.m_body2.m_R;n=e.anchorPoint.x-this.m_body2.m_position.x;r=e.anchorPoint.y-this.m_body2.m_position.y;this.m_localAnchor2.Set(n*t.col1.x+r*t.col1.y,n*t.col2.x+r*t.col2.y);t=this.m_body1.m_R;n=e.axis.x;r=e.axis.y;this.m_localXAxis1.Set(n*t.col1.x+r*t.col1.y,n*t.col2.x+r*t.col2.y);this.m_localYAxis1.x=-this.m_localXAxis1.y;this.m_localYAxis1.y=this.m_localXAxis1.x;this.m_initialAngle=this.m_body2.m_rotation-this.m_body1.m_rotation;this.m_linearJacobian.SetZero();this.m_linearMass=0;this.m_linearImpulse=0;this.m_angularMass=0;this.m_angularImpulse=0;this.m_motorJacobian.SetZero();this.m_motorMass=0;this.m_motorImpulse=0;this.m_limitImpulse=0;this.m_limitPositionImpulse=0;this.m_lowerTranslation=e.lowerTranslation;this.m_upperTranslation=e.upperTranslation;this.m_maxMotorForce=e.motorForce;this.m_motorSpeed=e.motorSpeed;this.m_enableLimit=e.enableLimit;this.m_enableMotor=e.enableMotor;},PrepareVelocitySolver:function PrepareVelocitySolver(){var e=this.m_body1;var t=this.m_body2;var n;n=e.m_R;var r=n.col1.x*this.m_localAnchor1.x+n.col2.x*this.m_localAnchor1.y;var i=n.col1.y*this.m_localAnchor1.x+n.col2.y*this.m_localAnchor1.y;n=t.m_R;var s=n.col1.x*this.m_localAnchor2.x+n.col2.x*this.m_localAnchor2.y;var o=n.col1.y*this.m_localAnchor2.x+n.col2.y*this.m_localAnchor2.y;var u=e.m_invMass;var a=t.m_invMass;var f=e.m_invI;var l=t.m_invI;n=e.m_R;var c=n.col1.x*this.m_localYAxis1.x+n.col2.x*this.m_localYAxis1.y;var h=n.col1.y*this.m_localYAxis1.x+n.col2.y*this.m_localYAxis1.y;var p=t.m_position.x+s-e.m_position.x;var d=t.m_position.y+o-e.m_position.y;this.m_linearJacobian.linear1.x=-c;this.m_linearJacobian.linear1.y=-h;this.m_linearJacobian.linear2.x=c;this.m_linearJacobian.linear2.y=h;this.m_linearJacobian.angular1=-(p*h-d*c);this.m_linearJacobian.angular2=s*h-o*c;this.m_linearMass=u+f*this.m_linearJacobian.angular1*this.m_linearJacobian.angular1+a+l*this.m_linearJacobian.angular2*this.m_linearJacobian.angular2;this.m_linearMass=1/this.m_linearMass;this.m_angularMass=1/(f+l);if(this.m_enableLimit||this.m_enableMotor){n=e.m_R;var v=n.col1.x*this.m_localXAxis1.x+n.col2.x*this.m_localXAxis1.y;var m=n.col1.y*this.m_localXAxis1.x+n.col2.y*this.m_localXAxis1.y;this.m_motorJacobian.linear1.x=-v;this.m_motorJacobian.linear1.y=-m;this.m_motorJacobian.linear2.x=v;this.m_motorJacobian.linear2.y=m;this.m_motorJacobian.angular1=-(p*m-d*v);this.m_motorJacobian.angular2=s*m-o*v;this.m_motorMass=u+f*this.m_motorJacobian.angular1*this.m_motorJacobian.angular1+a+l*this.m_motorJacobian.angular2*this.m_motorJacobian.angular2;this.m_motorMass=1/this.m_motorMass;if(this.m_enableLimit){var g=p-r;var y=d-i;var b=v*g+m*y;if(b2Math.b2Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*b2Settings.b2_linearSlop){this.m_limitState=b2Joint.e_equalLimits;}else if(b<=this.m_lowerTranslation){if(this.m_limitState!=b2Joint.e_atLowerLimit){this.m_limitImpulse=0;}this.m_limitState=b2Joint.e_atLowerLimit;}else if(b>=this.m_upperTranslation){if(this.m_limitState!=b2Joint.e_atUpperLimit){this.m_limitImpulse=0;}this.m_limitState=b2Joint.e_atUpperLimit;}else{this.m_limitState=b2Joint.e_inactiveLimit;this.m_limitImpulse=0;}}}if(this.m_enableMotor==false){this.m_motorImpulse=0;}if(this.m_enableLimit==false){this.m_limitImpulse=0;}if(b2World.s_enableWarmStarting){var w=this.m_linearImpulse*this.m_linearJacobian.linear1.x+(this.m_motorImpulse+this.m_limitImpulse)*this.m_motorJacobian.linear1.x;var E=this.m_linearImpulse*this.m_linearJacobian.linear1.y+(this.m_motorImpulse+this.m_limitImpulse)*this.m_motorJacobian.linear1.y;var S=this.m_linearImpulse*this.m_linearJacobian.linear2.x+(this.m_motorImpulse+this.m_limitImpulse)*this.m_motorJacobian.linear2.x;var x=this.m_linearImpulse*this.m_linearJacobian.linear2.y+(this.m_motorImpulse+this.m_limitImpulse)*this.m_motorJacobian.linear2.y;var T=this.m_linearImpulse*this.m_linearJacobian.angular1-this.m_angularImpulse+(this.m_motorImpulse+this.m_limitImpulse)*this.m_motorJacobian.angular1;var N=this.m_linearImpulse*this.m_linearJacobian.angular2+this.m_angularImpulse+(this.m_motorImpulse+this.m_limitImpulse)*this.m_motorJacobian.angular2;e.m_linearVelocity.x+=u*w;e.m_linearVelocity.y+=u*E;e.m_angularVelocity+=f*T;t.m_linearVelocity.x+=a*S;t.m_linearVelocity.y+=a*x;t.m_angularVelocity+=l*N;}else{this.m_linearImpulse=0;this.m_angularImpulse=0;this.m_limitImpulse=0;this.m_motorImpulse=0;}this.m_limitPositionImpulse=0;},SolveVelocityConstraints:function SolveVelocityConstraints(e){var t=this.m_body1;var n=this.m_body2;var r=t.m_invMass;var i=n.m_invMass;var s=t.m_invI;var o=n.m_invI;var u;var a=this.m_linearJacobian.Compute(t.m_linearVelocity,t.m_angularVelocity,n.m_linearVelocity,n.m_angularVelocity);var f=-this.m_linearMass*a;this.m_linearImpulse+=f;t.m_linearVelocity.x+=r*f*this.m_linearJacobian.linear1.x;t.m_linearVelocity.y+=r*f*this.m_linearJacobian.linear1.y;t.m_angularVelocity+=s*f*this.m_linearJacobian.angular1;n.m_linearVelocity.x+=i*f*this.m_linearJacobian.linear2.x;n.m_linearVelocity.y+=i*f*this.m_linearJacobian.linear2.y;n.m_angularVelocity+=o*f*this.m_linearJacobian.angular2;var l=n.m_angularVelocity-t.m_angularVelocity;var c=-this.m_angularMass*l;this.m_angularImpulse+=c;t.m_angularVelocity-=s*c;n.m_angularVelocity+=o*c;if(this.m_enableMotor&&this.m_limitState!=b2Joint.e_equalLimits){var h=this.m_motorJacobian.Compute(t.m_linearVelocity,t.m_angularVelocity,n.m_linearVelocity,n.m_angularVelocity)-this.m_motorSpeed;var p=-this.m_motorMass*h;var d=this.m_motorImpulse;this.m_motorImpulse=b2Math.b2Clamp(this.m_motorImpulse+p,-e.dt*this.m_maxMotorForce,e.dt*this.m_maxMotorForce);p=this.m_motorImpulse-d;t.m_linearVelocity.x+=r*p*this.m_motorJacobian.linear1.x;t.m_linearVelocity.y+=r*p*this.m_motorJacobian.linear1.y;t.m_angularVelocity+=s*p*this.m_motorJacobian.angular1;n.m_linearVelocity.x+=i*p*this.m_motorJacobian.linear2.x;n.m_linearVelocity.y+=i*p*this.m_motorJacobian.linear2.y;n.m_angularVelocity+=o*p*this.m_motorJacobian.angular2;}if(this.m_enableLimit&&this.m_limitState!=b2Joint.e_inactiveLimit){var v=this.m_motorJacobian.Compute(t.m_linearVelocity,t.m_angularVelocity,n.m_linearVelocity,n.m_angularVelocity);var m=-this.m_motorMass*v;if(this.m_limitState==b2Joint.e_equalLimits){this.m_limitImpulse+=m;}else if(this.m_limitState==b2Joint.e_atLowerLimit){u=this.m_limitImpulse;this.m_limitImpulse=b2Math.b2Max(this.m_limitImpulse+m,0);m=this.m_limitImpulse-u;}else if(this.m_limitState==b2Joint.e_atUpperLimit){u=this.m_limitImpulse;this.m_limitImpulse=b2Math.b2Min(this.m_limitImpulse+m,0);m=this.m_limitImpulse-u;}t.m_linearVelocity.x+=r*m*this.m_motorJacobian.linear1.x;t.m_linearVelocity.y+=r*m*this.m_motorJacobian.linear1.y;t.m_angularVelocity+=s*m*this.m_motorJacobian.angular1;n.m_linearVelocity.x+=i*m*this.m_motorJacobian.linear2.x;n.m_linearVelocity.y+=i*m*this.m_motorJacobian.linear2.y;n.m_angularVelocity+=o*m*this.m_motorJacobian.angular2;}},SolvePositionConstraints:function SolvePositionConstraints(){var e;var t;var n=this.m_body1;var r=this.m_body2;var i=n.m_invMass;var s=r.m_invMass;var o=n.m_invI;var u=r.m_invI;var a;a=n.m_R;var f=a.col1.x*this.m_localAnchor1.x+a.col2.x*this.m_localAnchor1.y;var l=a.col1.y*this.m_localAnchor1.x+a.col2.y*this.m_localAnchor1.y;a=r.m_R;var c=a.col1.x*this.m_localAnchor2.x+a.col2.x*this.m_localAnchor2.y;var h=a.col1.y*this.m_localAnchor2.x+a.col2.y*this.m_localAnchor2.y;var p=n.m_position.x+f;var d=n.m_position.y+l;var v=r.m_position.x+c;var m=r.m_position.y+h;var g=v-p;var y=m-d;a=n.m_R;var b=a.col1.x*this.m_localYAxis1.x+a.col2.x*this.m_localYAxis1.y;var w=a.col1.y*this.m_localYAxis1.x+a.col2.y*this.m_localYAxis1.y;var E=b*g+w*y;E=b2Math.b2Clamp(E,-b2Settings.b2_maxLinearCorrection,b2Settings.b2_maxLinearCorrection);var S=-this.m_linearMass*E;n.m_position.x+=i*S*this.m_linearJacobian.linear1.x;n.m_position.y+=i*S*this.m_linearJacobian.linear1.y;n.m_rotation+=o*S*this.m_linearJacobian.angular1;r.m_position.x+=s*S*this.m_linearJacobian.linear2.x;r.m_position.y+=s*S*this.m_linearJacobian.linear2.y;r.m_rotation+=u*S*this.m_linearJacobian.angular2;var x=b2Math.b2Abs(E);var T=r.m_rotation-n.m_rotation-this.m_initialAngle;T=b2Math.b2Clamp(T,-b2Settings.b2_maxAngularCorrection,b2Settings.b2_maxAngularCorrection);var N=-this.m_angularMass*T;n.m_rotation-=n.m_invI*N;n.m_R.Set(n.m_rotation);r.m_rotation+=r.m_invI*N;r.m_R.Set(r.m_rotation);var C=b2Math.b2Abs(T);if(this.m_enableLimit&&this.m_limitState!=b2Joint.e_inactiveLimit){a=n.m_R;f=a.col1.x*this.m_localAnchor1.x+a.col2.x*this.m_localAnchor1.y;l=a.col1.y*this.m_localAnchor1.x+a.col2.y*this.m_localAnchor1.y;a=r.m_R;c=a.col1.x*this.m_localAnchor2.x+a.col2.x*this.m_localAnchor2.y;h=a.col1.y*this.m_localAnchor2.x+a.col2.y*this.m_localAnchor2.y;p=n.m_position.x+f;d=n.m_position.y+l;v=r.m_position.x+c;m=r.m_position.y+h;g=v-p;y=m-d;a=n.m_R;var k=a.col1.x*this.m_localXAxis1.x+a.col2.x*this.m_localXAxis1.y;var L=a.col1.y*this.m_localXAxis1.x+a.col2.y*this.m_localXAxis1.y;var A=k*g+L*y;var O=0;if(this.m_limitState==b2Joint.e_equalLimits){e=b2Math.b2Clamp(A,-b2Settings.b2_maxLinearCorrection,b2Settings.b2_maxLinearCorrection);O=-this.m_motorMass*e;x=b2Math.b2Max(x,b2Math.b2Abs(T));}else if(this.m_limitState==b2Joint.e_atLowerLimit){e=A-this.m_lowerTranslation;x=b2Math.b2Max(x,-e);e=b2Math.b2Clamp(e+b2Settings.b2_linearSlop,-b2Settings.b2_maxLinearCorrection,0);O=-this.m_motorMass*e;t=this.m_limitPositionImpulse;this.m_limitPositionImpulse=b2Math.b2Max(this.m_limitPositionImpulse+O,0);O=this.m_limitPositionImpulse-t;}else if(this.m_limitState==b2Joint.e_atUpperLimit){e=A-this.m_upperTranslation;x=b2Math.b2Max(x,e);e=b2Math.b2Clamp(e-b2Settings.b2_linearSlop,0,b2Settings.b2_maxLinearCorrection);O=-this.m_motorMass*e;t=this.m_limitPositionImpulse;this.m_limitPositionImpulse=b2Math.b2Min(this.m_limitPositionImpulse+O,0);O=this.m_limitPositionImpulse-t;}n.m_position.x+=i*O*this.m_motorJacobian.linear1.x;n.m_position.y+=i*O*this.m_motorJacobian.linear1.y;n.m_rotation+=o*O*this.m_motorJacobian.angular1;n.m_R.Set(n.m_rotation);r.m_position.x+=s*O*this.m_motorJacobian.linear2.x;r.m_position.y+=s*O*this.m_motorJacobian.linear2.y;r.m_rotation+=u*O*this.m_motorJacobian.angular2;r.m_R.Set(r.m_rotation);}return x<=b2Settings.b2_linearSlop&&C<=b2Settings.b2_angularSlop;},m_localAnchor1:new b2Vec2(),m_localAnchor2:new b2Vec2(),m_localXAxis1:new b2Vec2(),m_localYAxis1:new b2Vec2(),m_initialAngle:null,m_linearJacobian:new b2Jacobian(),m_linearMass:null,m_linearImpulse:null,m_angularMass:null,m_angularImpulse:null,m_motorJacobian:new b2Jacobian(),m_motorMass:null,m_motorImpulse:null,m_limitImpulse:null,m_limitPositionImpulse:null,m_lowerTranslation:null,m_upperTranslation:null,m_maxMotorForce:null,m_motorSpeed:null,m_enableLimit:null,m_enableMotor:null,m_limitState:0});var b2PrismaticJointDef=Class.create();Object.extend(b2PrismaticJointDef.prototype,b2JointDef.prototype);Object.extend(b2PrismaticJointDef.prototype,{initialize:function initialize(){this.type=b2Joint.e_unknownJoint;this.userData=null;this.body1=null;this.body2=null;this.collideConnected=false;this.type=b2Joint.e_prismaticJoint;this.anchorPoint=new b2Vec2(0,0);this.axis=new b2Vec2(0,0);this.lowerTranslation=0;this.upperTranslation=0;this.motorForce=0;this.motorSpeed=0;this.enableLimit=false;this.enableMotor=false;},anchorPoint:null,axis:null,lowerTranslation:null,upperTranslation:null,motorForce:null,motorSpeed:null,enableLimit:null,enableMotor:null});var b2PulleyJoint=Class.create();Object.extend(b2PulleyJoint.prototype,b2Joint.prototype);Object.extend(b2PulleyJoint.prototype,{GetAnchor1:function GetAnchor1(){var e=this.m_body1.m_R;return new b2Vec2(this.m_body1.m_position.x+(e.col1.x*this.m_localAnchor1.x+e.col2.x*this.m_localAnchor1.y),this.m_body1.m_position.y+(e.col1.y*this.m_localAnchor1.x+e.col2.y*this.m_localAnchor1.y));},GetAnchor2:function GetAnchor2(){var e=this.m_body2.m_R;return new b2Vec2(this.m_body2.m_position.x+(e.col1.x*this.m_localAnchor2.x+e.col2.x*this.m_localAnchor2.y),this.m_body2.m_position.y+(e.col1.y*this.m_localAnchor2.x+e.col2.y*this.m_localAnchor2.y));},GetGroundPoint1:function GetGroundPoint1(){return new b2Vec2(this.m_ground.m_position.x+this.m_groundAnchor1.x,this.m_ground.m_position.y+this.m_groundAnchor1.y);},GetGroundPoint2:function GetGroundPoint2(){return new b2Vec2(this.m_ground.m_position.x+this.m_groundAnchor2.x,this.m_ground.m_position.y+this.m_groundAnchor2.y);},GetReactionForce:function GetReactionForce(e){return new b2Vec2();},GetReactionTorque:function GetReactionTorque(e){return 0;},GetLength1:function GetLength1(){var e;e=this.m_body1.m_R;var t=this.m_body1.m_position.x+(e.col1.x*this.m_localAnchor1.x+e.col2.x*this.m_localAnchor1.y);var n=this.m_body1.m_position.y+(e.col1.y*this.m_localAnchor1.x+e.col2.y*this.m_localAnchor1.y);var r=t-(this.m_ground.m_position.x+this.m_groundAnchor1.x);var i=n-(this.m_ground.m_position.y+this.m_groundAnchor1.y);return Math.sqrt(r*r+i*i);},GetLength2:function GetLength2(){var e;e=this.m_body2.m_R;var t=this.m_body2.m_position.x+(e.col1.x*this.m_localAnchor2.x+e.col2.x*this.m_localAnchor2.y);var n=this.m_body2.m_position.y+(e.col1.y*this.m_localAnchor2.x+e.col2.y*this.m_localAnchor2.y);var r=t-(this.m_ground.m_position.x+this.m_groundAnchor2.x);var i=n-(this.m_ground.m_position.y+this.m_groundAnchor2.y);return Math.sqrt(r*r+i*i);},GetRatio:function GetRatio(){return this.m_ratio;},initialize:function initialize(e){this.m_node1=new b2JointNode();this.m_node2=new b2JointNode();this.m_type=e.type;this.m_prev=null;this.m_next=null;this.m_body1=e.body1;this.m_body2=e.body2;this.m_collideConnected=e.collideConnected;this.m_islandFlag=false;this.m_userData=e.userData;this.m_groundAnchor1=new b2Vec2();this.m_groundAnchor2=new b2Vec2();this.m_localAnchor1=new b2Vec2();this.m_localAnchor2=new b2Vec2();this.m_u1=new b2Vec2();this.m_u2=new b2Vec2();var t;var n;var r;this.m_ground=this.m_body1.m_world.m_groundBody;this.m_groundAnchor1.x=e.groundPoint1.x-this.m_ground.m_position.x;this.m_groundAnchor1.y=e.groundPoint1.y-this.m_ground.m_position.y;this.m_groundAnchor2.x=e.groundPoint2.x-this.m_ground.m_position.x;this.m_groundAnchor2.y=e.groundPoint2.y-this.m_ground.m_position.y;t=this.m_body1.m_R;n=e.anchorPoint1.x-this.m_body1.m_position.x;r=e.anchorPoint1.y-this.m_body1.m_position.y;this.m_localAnchor1.x=n*t.col1.x+r*t.col1.y;this.m_localAnchor1.y=n*t.col2.x+r*t.col2.y;t=this.m_body2.m_R;n=e.anchorPoint2.x-this.m_body2.m_position.x;r=e.anchorPoint2.y-this.m_body2.m_position.y;this.m_localAnchor2.x=n*t.col1.x+r*t.col1.y;this.m_localAnchor2.y=n*t.col2.x+r*t.col2.y;this.m_ratio=e.ratio;n=e.groundPoint1.x-e.anchorPoint1.x;r=e.groundPoint1.y-e.anchorPoint1.y;var i=Math.sqrt(n*n+r*r);n=e.groundPoint2.x-e.anchorPoint2.x;r=e.groundPoint2.y-e.anchorPoint2.y;var s=Math.sqrt(n*n+r*r);var o=b2Math.b2Max(.5*b2PulleyJoint.b2_minPulleyLength,i);var u=b2Math.b2Max(.5*b2PulleyJoint.b2_minPulleyLength,s);this.m_constant=o+this.m_ratio*u;this.m_maxLength1=b2Math.b2Clamp(e.maxLength1,o,this.m_constant-this.m_ratio*b2PulleyJoint.b2_minPulleyLength);this.m_maxLength2=b2Math.b2Clamp(e.maxLength2,u,(this.m_constant-b2PulleyJoint.b2_minPulleyLength)/this.m_ratio);this.m_pulleyImpulse=0;this.m_limitImpulse1=0;this.m_limitImpulse2=0;},PrepareVelocitySolver:function PrepareVelocitySolver(){var e=this.m_body1;var t=this.m_body2;var n;n=e.m_R;var r=n.col1.x*this.m_localAnchor1.x+n.col2.x*this.m_localAnchor1.y;var i=n.col1.y*this.m_localAnchor1.x+n.col2.y*this.m_localAnchor1.y;n=t.m_R;var s=n.col1.x*this.m_localAnchor2.x+n.col2.x*this.m_localAnchor2.y;var o=n.col1.y*this.m_localAnchor2.x+n.col2.y*this.m_localAnchor2.y;var u=e.m_position.x+r;var a=e.m_position.y+i;var f=t.m_position.x+s;var l=t.m_position.y+o;var c=this.m_ground.m_position.x+this.m_groundAnchor1.x;var h=this.m_ground.m_position.y+this.m_groundAnchor1.y;var p=this.m_ground.m_position.x+this.m_groundAnchor2.x;var d=this.m_ground.m_position.y+this.m_groundAnchor2.y;this.m_u1.Set(u-c,a-h);this.m_u2.Set(f-p,l-d);var v=this.m_u1.Length();var m=this.m_u2.Length();if(v>b2Settings.b2_linearSlop){this.m_u1.Multiply(1/v);}else{this.m_u1.SetZero();}if(m>b2Settings.b2_linearSlop){this.m_u2.Multiply(1/m);}else{this.m_u2.SetZero();}if(v<this.m_maxLength1){this.m_limitState1=b2Joint.e_inactiveLimit;this.m_limitImpulse1=0;}else{this.m_limitState1=b2Joint.e_atUpperLimit;this.m_limitPositionImpulse1=0;}if(m<this.m_maxLength2){this.m_limitState2=b2Joint.e_inactiveLimit;this.m_limitImpulse2=0;}else{this.m_limitState2=b2Joint.e_atUpperLimit;this.m_limitPositionImpulse2=0;}var g=r*this.m_u1.y-i*this.m_u1.x;var y=s*this.m_u2.y-o*this.m_u2.x;this.m_limitMass1=e.m_invMass+e.m_invI*g*g;this.m_limitMass2=t.m_invMass+t.m_invI*y*y;this.m_pulleyMass=this.m_limitMass1+this.m_ratio*this.m_ratio*this.m_limitMass2;this.m_limitMass1=1/this.m_limitMass1;this.m_limitMass2=1/this.m_limitMass2;this.m_pulleyMass=1/this.m_pulleyMass;var b=(-this.m_pulleyImpulse-this.m_limitImpulse1)*this.m_u1.x;var w=(-this.m_pulleyImpulse-this.m_limitImpulse1)*this.m_u1.y;var E=(-this.m_ratio*this.m_pulleyImpulse-this.m_limitImpulse2)*this.m_u2.x;var S=(-this.m_ratio*this.m_pulleyImpulse-this.m_limitImpulse2)*this.m_u2.y;e.m_linearVelocity.x+=e.m_invMass*b;e.m_linearVelocity.y+=e.m_invMass*w;e.m_angularVelocity+=e.m_invI*(r*w-i*b);t.m_linearVelocity.x+=t.m_invMass*E;t.m_linearVelocity.y+=t.m_invMass*S;t.m_angularVelocity+=t.m_invI*(s*S-o*E);},SolveVelocityConstraints:function SolveVelocityConstraints(e){var t=this.m_body1;var n=this.m_body2;var r;r=t.m_R;var i=r.col1.x*this.m_localAnchor1.x+r.col2.x*this.m_localAnchor1.y;var s=r.col1.y*this.m_localAnchor1.x+r.col2.y*this.m_localAnchor1.y;r=n.m_R;var o=r.col1.x*this.m_localAnchor2.x+r.col2.x*this.m_localAnchor2.y;var u=r.col1.y*this.m_localAnchor2.x+r.col2.y*this.m_localAnchor2.y;var a;var f;var l;var c;var h;var p;var d;var v;var m;var g;var y;a=t.m_linearVelocity.x+-t.m_angularVelocity*s;f=t.m_linearVelocity.y+t.m_angularVelocity*i;l=n.m_linearVelocity.x+-n.m_angularVelocity*u;c=n.m_linearVelocity.y+n.m_angularVelocity*o;m=-(this.m_u1.x*a+this.m_u1.y*f)-this.m_ratio*(this.m_u2.x*l+this.m_u2.y*c);g=-this.m_pulleyMass*m;this.m_pulleyImpulse+=g;h=-g*this.m_u1.x;p=-g*this.m_u1.y;d=-this.m_ratio*g*this.m_u2.x;v=-this.m_ratio*g*this.m_u2.y;t.m_linearVelocity.x+=t.m_invMass*h;t.m_linearVelocity.y+=t.m_invMass*p;t.m_angularVelocity+=t.m_invI*(i*p-s*h);n.m_linearVelocity.x+=n.m_invMass*d;n.m_linearVelocity.y+=n.m_invMass*v;n.m_angularVelocity+=n.m_invI*(o*v-u*d);if(this.m_limitState1==b2Joint.e_atUpperLimit){a=t.m_linearVelocity.x+-t.m_angularVelocity*s;f=t.m_linearVelocity.y+t.m_angularVelocity*i;m=-(this.m_u1.x*a+this.m_u1.y*f);g=-this.m_limitMass1*m;y=this.m_limitImpulse1;this.m_limitImpulse1=b2Math.b2Max(0,this.m_limitImpulse1+g);g=this.m_limitImpulse1-y;h=-g*this.m_u1.x;p=-g*this.m_u1.y;t.m_linearVelocity.x+=t.m_invMass*h;t.m_linearVelocity.y+=t.m_invMass*p;t.m_angularVelocity+=t.m_invI*(i*p-s*h);}if(this.m_limitState2==b2Joint.e_atUpperLimit){l=n.m_linearVelocity.x+-n.m_angularVelocity*u;c=n.m_linearVelocity.y+n.m_angularVelocity*o;m=-(this.m_u2.x*l+this.m_u2.y*c);g=-this.m_limitMass2*m;y=this.m_limitImpulse2;this.m_limitImpulse2=b2Math.b2Max(0,this.m_limitImpulse2+g);g=this.m_limitImpulse2-y;d=-g*this.m_u2.x;v=-g*this.m_u2.y;n.m_linearVelocity.x+=n.m_invMass*d;n.m_linearVelocity.y+=n.m_invMass*v;n.m_angularVelocity+=n.m_invI*(o*v-u*d);}},SolvePositionConstraints:function SolvePositionConstraints(){var e=this.m_body1;var t=this.m_body2;var n;var r=this.m_ground.m_position.x+this.m_groundAnchor1.x;var i=this.m_ground.m_position.y+this.m_groundAnchor1.y;var s=this.m_ground.m_position.x+this.m_groundAnchor2.x;var o=this.m_ground.m_position.y+this.m_groundAnchor2.y;var u;var a;var f;var l;var c;var h;var p;var d;var v;var m;var g;var y;var b;var w=0;{n=e.m_R;u=n.col1.x*this.m_localAnchor1.x+n.col2.x*this.m_localAnchor1.y;a=n.col1.y*this.m_localAnchor1.x+n.col2.y*this.m_localAnchor1.y;n=t.m_R;f=n.col1.x*this.m_localAnchor2.x+n.col2.x*this.m_localAnchor2.y;l=n.col1.y*this.m_localAnchor2.x+n.col2.y*this.m_localAnchor2.y;c=e.m_position.x+u;h=e.m_position.y+a;p=t.m_position.x+f;d=t.m_position.y+l;this.m_u1.Set(c-r,h-i);this.m_u2.Set(p-s,d-o);v=this.m_u1.Length();m=this.m_u2.Length();if(v>b2Settings.b2_linearSlop){this.m_u1.Multiply(1/v);}else{this.m_u1.SetZero();}if(m>b2Settings.b2_linearSlop){this.m_u2.Multiply(1/m);}else{this.m_u2.SetZero();}g=this.m_constant-v-this.m_ratio*m;w=b2Math.b2Max(w,Math.abs(g));g=b2Math.b2Clamp(g,-b2Settings.b2_maxLinearCorrection,b2Settings.b2_maxLinearCorrection);y=-this.m_pulleyMass*g;c=-y*this.m_u1.x;h=-y*this.m_u1.y;p=-this.m_ratio*y*this.m_u2.x;d=-this.m_ratio*y*this.m_u2.y;e.m_position.x+=e.m_invMass*c;e.m_position.y+=e.m_invMass*h;e.m_rotation+=e.m_invI*(u*h-a*c);t.m_position.x+=t.m_invMass*p;t.m_position.y+=t.m_invMass*d;t.m_rotation+=t.m_invI*(f*d-l*p);e.m_R.Set(e.m_rotation);t.m_R.Set(t.m_rotation);}if(this.m_limitState1==b2Joint.e_atUpperLimit){n=e.m_R;u=n.col1.x*this.m_localAnchor1.x+n.col2.x*this.m_localAnchor1.y;a=n.col1.y*this.m_localAnchor1.x+n.col2.y*this.m_localAnchor1.y;c=e.m_position.x+u;h=e.m_position.y+a;this.m_u1.Set(c-r,h-i);v=this.m_u1.Length();if(v>b2Settings.b2_linearSlop){this.m_u1.x*=1/v;this.m_u1.y*=1/v;}else{this.m_u1.SetZero();}g=this.m_maxLength1-v;w=b2Math.b2Max(w,-g);g=b2Math.b2Clamp(g+b2Settings.b2_linearSlop,-b2Settings.b2_maxLinearCorrection,0);y=-this.m_limitMass1*g;b=this.m_limitPositionImpulse1;this.m_limitPositionImpulse1=b2Math.b2Max(0,this.m_limitPositionImpulse1+y);y=this.m_limitPositionImpulse1-b;c=-y*this.m_u1.x;h=-y*this.m_u1.y;e.m_position.x+=e.m_invMass*c;e.m_position.y+=e.m_invMass*h;e.m_rotation+=e.m_invI*(u*h-a*c);e.m_R.Set(e.m_rotation);}if(this.m_limitState2==b2Joint.e_atUpperLimit){n=t.m_R;f=n.col1.x*this.m_localAnchor2.x+n.col2.x*this.m_localAnchor2.y;l=n.col1.y*this.m_localAnchor2.x+n.col2.y*this.m_localAnchor2.y;p=t.m_position.x+f;d=t.m_position.y+l;this.m_u2.Set(p-s,d-o);m=this.m_u2.Length();if(m>b2Settings.b2_linearSlop){this.m_u2.x*=1/m;this.m_u2.y*=1/m;}else{this.m_u2.SetZero();}g=this.m_maxLength2-m;w=b2Math.b2Max(w,-g);g=b2Math.b2Clamp(g+b2Settings.b2_linearSlop,-b2Settings.b2_maxLinearCorrection,0);y=-this.m_limitMass2*g;b=this.m_limitPositionImpulse2;this.m_limitPositionImpulse2=b2Math.b2Max(0,this.m_limitPositionImpulse2+y);y=this.m_limitPositionImpulse2-b;p=-y*this.m_u2.x;d=-y*this.m_u2.y;t.m_position.x+=t.m_invMass*p;t.m_position.y+=t.m_invMass*d;t.m_rotation+=t.m_invI*(f*d-l*p);t.m_R.Set(t.m_rotation);}return w<b2Settings.b2_linearSlop;},m_ground:null,m_groundAnchor1:new b2Vec2(),m_groundAnchor2:new b2Vec2(),m_localAnchor1:new b2Vec2(),m_localAnchor2:new b2Vec2(),m_u1:new b2Vec2(),m_u2:new b2Vec2(),m_constant:null,m_ratio:null,m_maxLength1:null,m_maxLength2:null,m_pulleyMass:null,m_limitMass1:null,m_limitMass2:null,m_pulleyImpulse:null,m_limitImpulse1:null,m_limitImpulse2:null,m_limitPositionImpulse1:null,m_limitPositionImpulse2:null,m_limitState1:0,m_limitState2:0});b2PulleyJoint.b2_minPulleyLength=b2Settings.b2_lengthUnitsPerMeter;var b2PulleyJointDef=Class.create();Object.extend(b2PulleyJointDef.prototype,b2JointDef.prototype);Object.extend(b2PulleyJointDef.prototype,{initialize:function initialize(){this.type=b2Joint.e_unknownJoint;this.userData=null;this.body1=null;this.body2=null;this.collideConnected=false;this.groundPoint1=new b2Vec2();this.groundPoint2=new b2Vec2();this.anchorPoint1=new b2Vec2();this.anchorPoint2=new b2Vec2();this.type=b2Joint.e_pulleyJoint;this.groundPoint1.Set(-1,1);this.groundPoint2.Set(1,1);this.anchorPoint1.Set(-1,0);this.anchorPoint2.Set(1,0);this.maxLength1=.5*b2PulleyJoint.b2_minPulleyLength;this.maxLength2=.5*b2PulleyJoint.b2_minPulleyLength;this.ratio=1;this.collideConnected=true;},groundPoint1:new b2Vec2(),groundPoint2:new b2Vec2(),anchorPoint1:new b2Vec2(),anchorPoint2:new b2Vec2(),maxLength1:null,maxLength2:null,ratio:null});var b2RevoluteJoint=Class.create();Object.extend(b2RevoluteJoint.prototype,b2Joint.prototype);Object.extend(b2RevoluteJoint.prototype,{GetAnchor1:function GetAnchor1(){var e=this.m_body1.m_R;return new b2Vec2(this.m_body1.m_position.x+(e.col1.x*this.m_localAnchor1.x+e.col2.x*this.m_localAnchor1.y),this.m_body1.m_position.y+(e.col1.y*this.m_localAnchor1.x+e.col2.y*this.m_localAnchor1.y));},GetAnchor2:function GetAnchor2(){var e=this.m_body2.m_R;return new b2Vec2(this.m_body2.m_position.x+(e.col1.x*this.m_localAnchor2.x+e.col2.x*this.m_localAnchor2.y),this.m_body2.m_position.y+(e.col1.y*this.m_localAnchor2.x+e.col2.y*this.m_localAnchor2.y));},GetJointAngle:function GetJointAngle(){return this.m_body2.m_rotation-this.m_body1.m_rotation;},GetJointSpeed:function GetJointSpeed(){return this.m_body2.m_angularVelocity-this.m_body1.m_angularVelocity;},GetMotorTorque:function GetMotorTorque(e){return e*this.m_motorImpulse;},SetMotorSpeed:function SetMotorSpeed(e){this.m_motorSpeed=e;},SetMotorTorque:function SetMotorTorque(e){this.m_maxMotorTorque=e;},GetReactionForce:function GetReactionForce(e){var t=this.m_ptpImpulse.Copy();t.Multiply(e);return t;},GetReactionTorque:function GetReactionTorque(e){return e*this.m_limitImpulse;},initialize:function initialize(e){this.m_node1=new b2JointNode();this.m_node2=new b2JointNode();this.m_type=e.type;this.m_prev=null;this.m_next=null;this.m_body1=e.body1;this.m_body2=e.body2;this.m_collideConnected=e.collideConnected;this.m_islandFlag=false;this.m_userData=e.userData;this.K=new b2Mat22();this.K1=new b2Mat22();this.K2=new b2Mat22();this.K3=new b2Mat22();this.m_localAnchor1=new b2Vec2();this.m_localAnchor2=new b2Vec2();this.m_ptpImpulse=new b2Vec2();this.m_ptpMass=new b2Mat22();var t;var n;var r;t=this.m_body1.m_R;n=e.anchorPoint.x-this.m_body1.m_position.x;r=e.anchorPoint.y-this.m_body1.m_position.y;this.m_localAnchor1.x=n*t.col1.x+r*t.col1.y;this.m_localAnchor1.y=n*t.col2.x+r*t.col2.y;t=this.m_body2.m_R;n=e.anchorPoint.x-this.m_body2.m_position.x;r=e.anchorPoint.y-this.m_body2.m_position.y;this.m_localAnchor2.x=n*t.col1.x+r*t.col1.y;this.m_localAnchor2.y=n*t.col2.x+r*t.col2.y;this.m_intialAngle=this.m_body2.m_rotation-this.m_body1.m_rotation;this.m_ptpImpulse.Set(0,0);this.m_motorImpulse=0;this.m_limitImpulse=0;this.m_limitPositionImpulse=0;this.m_lowerAngle=e.lowerAngle;this.m_upperAngle=e.upperAngle;this.m_maxMotorTorque=e.motorTorque;this.m_motorSpeed=e.motorSpeed;this.m_enableLimit=e.enableLimit;this.m_enableMotor=e.enableMotor;},K:new b2Mat22(),K1:new b2Mat22(),K2:new b2Mat22(),K3:new b2Mat22(),PrepareVelocitySolver:function PrepareVelocitySolver(){var e=this.m_body1;var t=this.m_body2;var n;n=e.m_R;var r=n.col1.x*this.m_localAnchor1.x+n.col2.x*this.m_localAnchor1.y;var i=n.col1.y*this.m_localAnchor1.x+n.col2.y*this.m_localAnchor1.y;n=t.m_R;var s=n.col1.x*this.m_localAnchor2.x+n.col2.x*this.m_localAnchor2.y;var o=n.col1.y*this.m_localAnchor2.x+n.col2.y*this.m_localAnchor2.y;var u=e.m_invMass;var a=t.m_invMass;var f=e.m_invI;var l=t.m_invI;this.K1.col1.x=u+a;this.K1.col2.x=0;this.K1.col1.y=0;this.K1.col2.y=u+a;this.K2.col1.x=f*i*i;this.K2.col2.x=-f*r*i;this.K2.col1.y=-f*r*i;this.K2.col2.y=f*r*r;this.K3.col1.x=l*o*o;this.K3.col2.x=-l*s*o;this.K3.col1.y=-l*s*o;this.K3.col2.y=l*s*s;this.K.SetM(this.K1);this.K.AddM(this.K2);this.K.AddM(this.K3);this.K.Invert(this.m_ptpMass);this.m_motorMass=1/(f+l);if(this.m_enableMotor==false){this.m_motorImpulse=0;}if(this.m_enableLimit){var c=t.m_rotation-e.m_rotation-this.m_intialAngle;if(b2Math.b2Abs(this.m_upperAngle-this.m_lowerAngle)<2*b2Settings.b2_angularSlop){this.m_limitState=b2Joint.e_equalLimits;}else if(c<=this.m_lowerAngle){if(this.m_limitState!=b2Joint.e_atLowerLimit){this.m_limitImpulse=0;}this.m_limitState=b2Joint.e_atLowerLimit;}else if(c>=this.m_upperAngle){if(this.m_limitState!=b2Joint.e_atUpperLimit){this.m_limitImpulse=0;}this.m_limitState=b2Joint.e_atUpperLimit;}else{this.m_limitState=b2Joint.e_inactiveLimit;this.m_limitImpulse=0;}}else{this.m_limitImpulse=0;}if(b2World.s_enableWarmStarting){e.m_linearVelocity.x-=u*this.m_ptpImpulse.x;e.m_linearVelocity.y-=u*this.m_ptpImpulse.y;e.m_angularVelocity-=f*(r*this.m_ptpImpulse.y-i*this.m_ptpImpulse.x+this.m_motorImpulse+this.m_limitImpulse);t.m_linearVelocity.x+=a*this.m_ptpImpulse.x;t.m_linearVelocity.y+=a*this.m_ptpImpulse.y;t.m_angularVelocity+=l*(s*this.m_ptpImpulse.y-o*this.m_ptpImpulse.x+this.m_motorImpulse+this.m_limitImpulse);}else{this.m_ptpImpulse.SetZero();this.m_motorImpulse=0;this.m_limitImpulse=0;}this.m_limitPositionImpulse=0;},SolveVelocityConstraints:function SolveVelocityConstraints(e){var t=this.m_body1;var n=this.m_body2;var r;r=t.m_R;var i=r.col1.x*this.m_localAnchor1.x+r.col2.x*this.m_localAnchor1.y;var s=r.col1.y*this.m_localAnchor1.x+r.col2.y*this.m_localAnchor1.y;r=n.m_R;var o=r.col1.x*this.m_localAnchor2.x+r.col2.x*this.m_localAnchor2.y;var u=r.col1.y*this.m_localAnchor2.x+r.col2.y*this.m_localAnchor2.y;var a;var f=n.m_linearVelocity.x+-n.m_angularVelocity*u-t.m_linearVelocity.x- -t.m_angularVelocity*s;var l=n.m_linearVelocity.y+n.m_angularVelocity*o-t.m_linearVelocity.y-t.m_angularVelocity*i;var c=-(this.m_ptpMass.col1.x*f+this.m_ptpMass.col2.x*l);var h=-(this.m_ptpMass.col1.y*f+this.m_ptpMass.col2.y*l);this.m_ptpImpulse.x+=c;this.m_ptpImpulse.y+=h;t.m_linearVelocity.x-=t.m_invMass*c;t.m_linearVelocity.y-=t.m_invMass*h;t.m_angularVelocity-=t.m_invI*(i*h-s*c);n.m_linearVelocity.x+=n.m_invMass*c;n.m_linearVelocity.y+=n.m_invMass*h;n.m_angularVelocity+=n.m_invI*(o*h-u*c);if(this.m_enableMotor&&this.m_limitState!=b2Joint.e_equalLimits){var p=n.m_angularVelocity-t.m_angularVelocity-this.m_motorSpeed;var d=-this.m_motorMass*p;var v=this.m_motorImpulse;this.m_motorImpulse=b2Math.b2Clamp(this.m_motorImpulse+d,-e.dt*this.m_maxMotorTorque,e.dt*this.m_maxMotorTorque);d=this.m_motorImpulse-v;t.m_angularVelocity-=t.m_invI*d;n.m_angularVelocity+=n.m_invI*d;}if(this.m_enableLimit&&this.m_limitState!=b2Joint.e_inactiveLimit){var m=n.m_angularVelocity-t.m_angularVelocity;var g=-this.m_motorMass*m;if(this.m_limitState==b2Joint.e_equalLimits){this.m_limitImpulse+=g;}else if(this.m_limitState==b2Joint.e_atLowerLimit){a=this.m_limitImpulse;this.m_limitImpulse=b2Math.b2Max(this.m_limitImpulse+g,0);g=this.m_limitImpulse-a;}else if(this.m_limitState==b2Joint.e_atUpperLimit){a=this.m_limitImpulse;this.m_limitImpulse=b2Math.b2Min(this.m_limitImpulse+g,0);g=this.m_limitImpulse-a;}t.m_angularVelocity-=t.m_invI*g;n.m_angularVelocity+=n.m_invI*g;}},SolvePositionConstraints:function SolvePositionConstraints(){var e;var t;var n=this.m_body1;var r=this.m_body2;var i=0;var s;s=n.m_R;var o=s.col1.x*this.m_localAnchor1.x+s.col2.x*this.m_localAnchor1.y;var u=s.col1.y*this.m_localAnchor1.x+s.col2.y*this.m_localAnchor1.y;s=r.m_R;var a=s.col1.x*this.m_localAnchor2.x+s.col2.x*this.m_localAnchor2.y;var f=s.col1.y*this.m_localAnchor2.x+s.col2.y*this.m_localAnchor2.y;var l=n.m_position.x+o;var c=n.m_position.y+u;var h=r.m_position.x+a;var p=r.m_position.y+f;var d=h-l;var v=p-c;i=Math.sqrt(d*d+v*v);var m=n.m_invMass;var g=r.m_invMass;var y=n.m_invI;var b=r.m_invI;this.K1.col1.x=m+g;this.K1.col2.x=0;this.K1.col1.y=0;this.K1.col2.y=m+g;this.K2.col1.x=y*u*u;this.K2.col2.x=-y*o*u;this.K2.col1.y=-y*o*u;this.K2.col2.y=y*o*o;this.K3.col1.x=b*f*f;this.K3.col2.x=-b*a*f;this.K3.col1.y=-b*a*f;this.K3.col2.y=b*a*a;this.K.SetM(this.K1);this.K.AddM(this.K2);this.K.AddM(this.K3);this.K.Solve(b2RevoluteJoint.tImpulse,-d,-v);var w=b2RevoluteJoint.tImpulse.x;var E=b2RevoluteJoint.tImpulse.y;n.m_position.x-=n.m_invMass*w;n.m_position.y-=n.m_invMass*E;n.m_rotation-=n.m_invI*(o*E-u*w);n.m_R.Set(n.m_rotation);r.m_position.x+=r.m_invMass*w;r.m_position.y+=r.m_invMass*E;r.m_rotation+=r.m_invI*(a*E-f*w);r.m_R.Set(r.m_rotation);var S=0;if(this.m_enableLimit&&this.m_limitState!=b2Joint.e_inactiveLimit){var x=r.m_rotation-n.m_rotation-this.m_intialAngle;var T=0;if(this.m_limitState==b2Joint.e_equalLimits){t=b2Math.b2Clamp(x,-b2Settings.b2_maxAngularCorrection,b2Settings.b2_maxAngularCorrection);T=-this.m_motorMass*t;S=b2Math.b2Abs(t);}else if(this.m_limitState==b2Joint.e_atLowerLimit){t=x-this.m_lowerAngle;S=b2Math.b2Max(0,-t);t=b2Math.b2Clamp(t+b2Settings.b2_angularSlop,-b2Settings.b2_maxAngularCorrection,0);T=-this.m_motorMass*t;e=this.m_limitPositionImpulse;this.m_limitPositionImpulse=b2Math.b2Max(this.m_limitPositionImpulse+T,0);T=this.m_limitPositionImpulse-e;}else if(this.m_limitState==b2Joint.e_atUpperLimit){t=x-this.m_upperAngle;S=b2Math.b2Max(0,t);t=b2Math.b2Clamp(t-b2Settings.b2_angularSlop,0,b2Settings.b2_maxAngularCorrection);T=-this.m_motorMass*t;e=this.m_limitPositionImpulse;this.m_limitPositionImpulse=b2Math.b2Min(this.m_limitPositionImpulse+T,0);T=this.m_limitPositionImpulse-e;}n.m_rotation-=n.m_invI*T;n.m_R.Set(n.m_rotation);r.m_rotation+=r.m_invI*T;r.m_R.Set(r.m_rotation);}return i<=b2Settings.b2_linearSlop&&S<=b2Settings.b2_angularSlop;},m_localAnchor1:new b2Vec2(),m_localAnchor2:new b2Vec2(),m_ptpImpulse:new b2Vec2(),m_motorImpulse:null,m_limitImpulse:null,m_limitPositionImpulse:null,m_ptpMass:new b2Mat22(),m_motorMass:null,m_intialAngle:null,m_lowerAngle:null,m_upperAngle:null,m_maxMotorTorque:null,m_motorSpeed:null,m_enableLimit:null,m_enableMotor:null,m_limitState:0});b2RevoluteJoint.tImpulse=new b2Vec2();var b2RevoluteJointDef=Class.create();Object.extend(b2RevoluteJointDef.prototype,b2JointDef.prototype);Object.extend(b2RevoluteJointDef.prototype,{initialize:function initialize(){this.type=b2Joint.e_unknownJoint;this.userData=null;this.body1=null;this.body2=null;this.collideConnected=false;this.type=b2Joint.e_revoluteJoint;this.anchorPoint=new b2Vec2(0,0);this.lowerAngle=0;this.upperAngle=0;this.motorTorque=0;this.motorSpeed=0;this.enableLimit=false;this.enableMotor=false;},anchorPoint:null,lowerAngle:null,upperAngle:null,motorTorque:null,motorSpeed:null,enableLimit:null,enableMotor:null});///==============================================================================================
var worldAABB;var world;function init(){// init box2d
worldAABB=new b2AABB();worldAABB.minVertex.Set(-5000,-5000);worldAABB.maxVertex.Set(window.innerWidth+5000,window.innerHeight+5000);world=new b2World(worldAABB,new b2Vec2(0,0),true);}function inArrays(elem,array){var rt=-1;for(var i=0;i<array.length;i++){rt=$.inArray(elem,array[i].elements);if(rt!==-1)return{index:i,value:rt};}return rt;}function arrayIntersect(a,b){var rt=a,i=0;while(i<rt.length){if($.inArray(rt[i],b)===-1)rt.splice(i,1);else i++;};return rt;};var bool=false;var wall_thickness=100;var numInstance=1;function throwable(){this.numInstance;this.delta={X:0,Y:0};this.stage={X:window.screenX,Y:window.screenY,Width:window.innerWidth,Height:window.innerHeight};this.walls={left:null,right:null,top:null,bottom:null};this.isRunning=false;this.isMouseDown=false;this.mouse={x:0,y:0};this.iterations=1;this.wallsSetted=false;this.mouseJoint;this.elementsInArea=[];this.elements=[];this.bodies=[];this.properties=[];if(!bool){$.extend(throwable.prototype,{defaults:{infinitX:false,gravity:{x:0,y:0},timeStep:1/40,bounce:0,// value between 0 and 1
containment:"window",shape:"box",impulse:null,fixed:false,drag:true,damping:0,collisionDetection:false,areaDetection:[]},/**
                 * initElem initialize element
                 */initElem:function initElem(elem){// Get box2d elements
var property=this.getElementProperties(elem);this.properties.push(property);var element=elem;var $elem=$(element);$elem.css({"position":"absolute","left":property.X+'px',"top":property.Y+'px',"width":property.Width+'px'});$(element).on('mousedown',function(event){event.preventDefault();});$(element).on('mouseup',function(event){event.preventDefault();});var body;if(this.defaults.shape==="box")body=this.createBox(world,$elem.position().left+($elem.width()>>1),$elem.position().top+($elem.height()>>1),$elem.width()/2,$elem.height()/2,false,numInstance,Math.pow(2,50)-1);else body=this.createCircle(world,$elem.position().left+($elem.width()>>1),$elem.position().top+($elem.height()>>1),Math.max($elem.width()/2,$elem.height()/2),false,numInstance,Math.pow(2,50)-1);if(this.defaults.impulse){this.applyImpulse(body);}// Apply damping
if(this.defaults.damping>0){body.m_linearDamping=1000/(1000+this.defaults.damping);body.m_angularDamping=1000/(1000+this.defaults.damping);}body.m_userData=elem;this.bodies.push(body);// Clean position dependencies
$("body").append($elem);$("body").css({"position":"static","margin":0});},applyOptions:function applyOptions(o,i){this.defaults=$.extend({},this.defaults,o);var body=this.bodies[i];if(this.defaults.impulse){body.WakeUp();var f=this.defaults.impulse.f,p=this.defaults.impulse.p;var ant_gravity=new b2Vec2(f*p.x*body.GetMass(),f*p.y*body.GetMass());body.ApplyImpulse(ant_gravity,body.GetCenterPosition());}},setEnv:function setEnv(elements,o){var _this=this;numInstance*=2;this.numInstance=numInstance;this.getBrowserDimensions();this.defaults=$.extend({},this.defaults,o);if(this.defaults.containment!=="window"){var c=this.defaults.containment;if(c!=="parent")this.stage={X:c[0],Y:c[1],Width:c[2],Height:c[3]};else{var p=$(elements).parent();if(!p.is("body")){this.stage={X:p.offset().left,Y:p.offset().top,Width:p.offset().left+p.width(),Height:p.offset().top+p.height()};this.defaults.containment=[p.offset().left,p.offset().top,p.offset().left+p.width(),p.offset().top+p.height()];}}}else{$(window).scroll(function(){_this.handleScrollOrResize();});$(window).resize(function(){_this.handleScrollOrResize();});}this.elements=elements;this.addEventRemoveElement();// setwalls
this.setWalls(numInstance);if(!_this.isRunning){_this.run();}$(document).on('mousedown',function(event){_this.isMouseDown=true;});$(document).on('mouseup',function(event){_this.isMouseDown=false;});$(document).on('mousemove',function(event){_this.mouse.x=event.clientX;_this.mouse.y=event.clientY;});$(document).on('touchstart',function(event){if(event.touches.length==1){_this.mouse.x=event.touches[0].pageX;_this.mouse.y=event.touches[0].pageY;_this.isMouseDown=true;}});$(document).on('touchmove',function(event){if(event.touches.length==1){event.preventDefault();_this.mouse.x=event.touches[0].pageX;_this.mouse.y=event.touches[0].pageY;}});$(document).on('touchend',function(event){if(event.touches.length==0){_this.isMouseDown=false;}});$(window).on('deviceorientation',function(event){if(event.beta){this.defaults.gravity.x=Math.sin(event.gamma*Math.PI/180);this.defaults.gravity.y=Math.sin(Math.PI/4+event.beta*Math.PI/180);}});},// init function
loop:function loop(){this.applyGravity();this.delta.X+=(0-this.delta.X)*.5;this.delta.Y+=(0-this.delta.Y)*.5;if(this.defaults.drag)this.mouseDrag();world.Step(this.defaults.timeStep,this.iterations);for(var i=0;i<this.elements.length;i++){var body=this.bodies[i];var element=this.elements[i];var property=this.properties[i];if(!body||!element||!property)break;if(this.defaults.collisionDetection)this.collisionDetection();if(this.defaults.areaDetection.length>0)this.areaDetection();element.style.left=body.m_position0.x-(property.Width>>1)+'px';element.style.top=body.m_position0.y-(property.Height>>1)+'px';if(i===1){}//console.log($(element).position().left -(stage.Width - properties[i].Width ))
//console.log(this.getProjectedHeight($(element)));
//if($(element).position().left $(document).width()) alert("out left");
var style='rotate('+body.m_rotation0*57.2957795+'deg)';element.style.transform=style;element.style.WebkitTransform=style+' translateZ(0)';// Force HW Acceleration
element.style.MozTransform=style;element.style.OTransform=style;element.style.msTransform=style;}},removeElement:function removeElement(index){this.elements.splice(index,1);this.bodies.splice(index,1);this.properties.splice(index,1);},addEventRemoveElement:function addEventRemoveElement(){var event=new $.Event("removeElement");var initialremove=$.fn.remove;$.fn.remove=function(){var rt=initialremove.apply(this,arguments);$(document).trigger(event);return rt;};var _this=this;$(document).bind("removeElement",function(){_this.sync();});},sync:function sync(){this.elements=arrayIntersect($(this.elements.selector),this.elements);var _this=this;var i=0;this.bodies=$.grep(this.bodies,function(el){if(el.m_userData===_this.elements[i]){i++;return true;}else{_this.properties.splice(i,1);el.Freeze();return false;}});},areaDetection:function areaDetection(){var _this=this;var detectArea=function detectArea(i,c,elementsInArea){var aabb=new b2AABB();aabb.minVertex.Set(c[0],c[1]);aabb.maxVertex.Set(c[2],c[3]);// Query the world for overlapping shapes.
var k_maxCount=100;var shapes=[];var count=world.Query(aabb,shapes,k_maxCount);var elements=[];for(var j=0;j<shapes.length;j++){var elem=shapes[j].m_body.m_userData;if(!$.isPlainObject(elem)&&$.inArray(elem,_this.elements)!==-1){elements.push(elem);}}var inArea=$(elements).not(_this.elementsInArea[i]);if(inArea.length!==0){$(document).trigger("inarea",[inArea]);}else{var outArea=$(_this.elementsInArea[i]).not(elements);if(outArea.length!==0){$(document).trigger("outarea",[outArea]);}}_this.elementsInArea[i]=elements;};var areas=this.defaults.areaDetection;for(var i=0;i<areas.length;i++){detectArea(i,areas[i],this.elementsInArea[i]);}},collisionDetection:function collisionDetection(){var _this=this;var contactList=world.m_contactList;var noCollision=true;var collision=function collision(shape1,shape2){var e1=shape1.m_body.m_userData,e2=shape2.m_body.m_userData;if(!$.isPlainObject(e1)&&!$.isPlainObject(e2)){$(document).trigger("collision",[e1,e2]);noCollision=false;}};var limit=0;// loop through all collisions
while(contactList&&limit<100){var shape1=contactList.m_shape1,shape2=contactList.m_shape2;collision(shape1,shape2);contactList=contactList.m_next;limit++;}if(noCollision)$(document).trigger("nocollision");},applyGravity:function applyGravity(){var g=this.defaults.gravity;for(var i=0;i<this.bodies.length;i++){var ant_gravity=new b2Vec2(350.0*g.x*this.bodies[i].GetMass(),350.0*g.y*this.bodies[i].GetMass());this.bodies[i].ApplyForce(ant_gravity,this.bodies[i].GetCenterPosition());}},applyImpulse:function applyImpulse(body){var f=this.defaults.impulse.f,p=this.defaults.impulse.p;var ant_gravity=new b2Vec2(f*p.x*body.GetMass(),f*p.y*body.GetMass());body.ApplyImpulse(ant_gravity,body.GetCenterPosition());},handleScrollOrResize:function handleScrollOrResize(){this.getBrowserDimensions();console.log(this.numInstance+"+");this.setWalls(this.numInstance);},getProjectedWidth:function getProjectedWidth(elem){var rotationAngle=this.getRotation(elem);return elem.width()*Math.cos(rotationAngle)+elem.height()*Math.sin(rotationAngle);},getProjectedHeight:function getProjectedHeight(elem){var rotationAngle=this.getRotation(elem);return elem.width()*Math.sin(rotationAngle)+elem.height()*Math.cos(rotationAngle);},getRotation:function getRotation(obj){var matrix=obj.css("-webkit-transform")||obj.css("-moz-transform")||obj.css("-ms-transform")||obj.css("-o-transform")||obj.css("transform");var angle;if(matrix!=='none'){var values=matrix.split('(')[1].split(')')[0].split(',');var a=values[0];var b=values[1];angle=Math.atan2(b,a);}else{angle=0;}return angle;},run:function run(){var _this=this;this.isRunning=true;setInterval(function(){_this.loop();},25);},// Make box
createBox:function createBox(world,x,y,width,height,fixed,categoryBits,maskBits,element){if(typeof fixed==='undefined')fixed=true;var boxSd=new b2BoxDef();if(categoryBits&&maskBits){boxSd.categoryBits=categoryBits;boxSd.maskBits=maskBits;}if(!fixed)boxSd.density=1.0;var bounce=this.defaults.bounce;if(bounce>0)boxSd.restitution=Math.min(1,bounce);boxSd.extents.Set(width,height);var boxBd=new b2BodyDef();boxBd.AddShape(boxSd);boxBd.position.Set(x,y);boxBd.userData={element:element};return world.CreateBody(boxBd);},// Make circle
createCircle:function createCircle(world,x,y,radius,fixed,categoryBits,maskBits,element){if(typeof fixed==='undefined')fixed=true;var boxSd=new b2CircleDef();if(categoryBits&&maskBits){boxSd.categoryBits=categoryBits;boxSd.maskBits=maskBits;}if(!fixed)boxSd.density=1.0;var bounce=this.defaults.bounce;if(bounce>0)boxSd.restitution=Math.min(1,bounce);boxSd.radius=radius;var boxBd=new b2BodyDef();boxBd.AddShape(boxSd);boxBd.position.Set(x,y);boxBd.userData={element:element};return world.CreateBody(boxBd);},mouseDrag:function mouseDrag(){// mouse press
if(this.isMouseDown&&!this.mouseJoint){var body=this.getBodyAtMouse();if(body){var md=new b2MouseJointDef();md.body1=world.m_groundBody;md.body2=body;md.target.Set(this.mouse.x+window.scrollX,this.mouse.y+window.scrollY);md.maxForce=30000.0*body.m_mass;md.timeStep=this.defaults.timeStep;this.mouseJoint=world.CreateJoint(md);body.WakeUp();}}// mouse release
if(!this.isMouseDown){if(this.mouseJoint){world.DestroyJoint(this.mouseJoint);this.mouseJoint=null;}}// mouse move
if(this.mouseJoint){var p2=new b2Vec2(this.mouse.x+window.scrollX,this.mouse.y+window.scrollY);this.mouseJoint.SetTarget(p2);}},getBodyAtMouse:function getBodyAtMouse(){// Make a small box.
var mousePVec=new b2Vec2();mousePVec.Set(this.mouse.x+window.scrollX,this.mouse.y+window.scrollY);var aabb=new b2AABB();aabb.minVertex.Set(this.mouse.x+window.scrollX-2,this.mouse.y+window.scrollY-2);aabb.maxVertex.Set(this.mouse.x+window.scrollX+2,this.mouse.y+window.scrollY+2);// Query the world for overlapping shapes.
var k_maxCount=10;var shapes=[];var count=world.Query(aabb,shapes,k_maxCount);var body=null;for(var i=0;i<count;i++){if(shapes[i].m_body.IsStatic()===false){if(shapes[i].TestPoint(mousePVec)){var tmpBody=shapes[i].m_body;if($.inArray(tmpBody,this.bodies)!==-1){body=tmpBody;break;}}}}return body;},// create contaimnent walls        
setWalls:function setWalls(i){if(this.wallsSetted){world.DestroyBody(this.walls.left);world.DestroyBody(this.walls.top);world.DestroyBody(this.walls.right);world.DestroyBody(this.walls.bottom);this.walls.left=null;this.walls.top=null;this.walls.right=null;this.walls.bottom=null;}var x1=this.stage.X,y1=this.stage.Y,x2=this.stage.Width,y2=this.stage.Height;this.walls.top=this.createBox(world,(x1+x2)/2,y1-wall_thickness,x2-x1,wall_thickness,true,i,i);this.walls.bottom=this.createBox(world,(x1+x2)/2,y2+wall_thickness,x2-x1,wall_thickness,true,i,i);this.walls.left=this.createBox(world,x1-wall_thickness,(y2+y1)/2,wall_thickness,y2-y1,true,i,i);this.walls.right=this.createBox(world,x2+wall_thickness,(y2+y1)/2,wall_thickness,y2-y1,true,i,i);this.wallsSetted=true;},// .. UTILS
getElementProperties:function getElementProperties(element){var x=0;var y=0;var width=element.offsetWidth;var height=element.offsetHeight;do{x+=element.offsetLeft;y+=element.offsetTop;}while(element=element.offsetParent);return{X:x,Y:y,Width:width,Height:height};},getBrowserDimensions:function getBrowserDimensions(){if(this.defaults.containment==="window"||this.defaults.containment==="parent"/*|| this.defaults.fixed === true*/){var changed=false;if(this.stage.X!==window.scrollX){this.delta.X=(window.scrollX-this.stage.X)*50;this.stage.X=window.scrollX;changed=true;}if(this.stage.Y!==window.scrollY){this.delta.Y=(window.scrollY-this.stage.Y)*50;this.stage.Y=window.scrollY;changed=true;}if(this.stage.Width!==window.innerWidth+window.scrollX){this.stage.Width=window.innerWidth+window.scrollX;changed=true;}if(this.stage.Height!==window.innerHeight+window.scrollY){this.stage.Height=window.innerHeight+window.scrollY;changed=true;}return changed;}else{var c=this.defaults.containment;this.stage={X:c[0],Y:c[1],Width:c[2],Height:c[3]};}}});bool=true;}};// JQuery.fn.throwable
$.fn.throwable=function(options){if($.isFunction(this.each)){var _this=this;if($("body").data('throwable.instance')===undefined){$("body").data('throwable.instance',true);init();}var throwableInstance=new throwable();var isEnvSet=false;var rt=this.each(function(){var i=inArrays(this,$.throwables),exist=i!==-1;if(!exist||$.throwables[i.index].elements.selector!==_this.selector){if(exist){$.throwables[i.index].removeElement(i.index);throwableInstance.defaults=$.extend({},throwableInstance.defaults,$.throwables[i.index].defaults);}if(!isEnvSet){throwableInstance.setEnv(_this,options);isEnvSet=true;}throwableInstance.initElem(this);}else{throwableInstance=$.throwables[i.index];throwableInstance.applyOptions(options,i.value);}});if($.inArray(throwableInstance,$.throwables)===-1)$.throwables.push(throwableInstance);return rt;}};// array that will contient arrays
$.throwables=[];})(jQuery,window,document);/* Modernizr 2.6.2 (Custom Build) | MIT & BSD
 * Build: http://modernizr.com/download/#-fontface-backgroundsize-borderimage-borderradius-boxshadow-flexbox-hsla-multiplebgs-opacity-rgba-textshadow-cssanimations-csscolumns-generatedcontent-cssgradients-cssreflections-csstransforms-csstransforms3d-csstransitions-applicationcache-canvas-canvastext-draganddrop-hashchange-history-audio-video-indexeddb-input-inputtypes-localstorage-postmessage-sessionstorage-websockets-websqldatabase-webworkers-geolocation-inlinesvg-smil-svg-svgclippaths-touch-webgl-shiv-mq-cssclasses-addtest-prefixed-teststyles-testprop-testallprops-hasevent-prefixes-domprefixes-load
 */;window.Modernizr=function(a,b,c){function D(a){j.cssText=a;}function E(a,b){return D(n.join(a+";")+(b||""));}function F(a,b){return(typeof a==="undefined"?"undefined":_typeof(a))===b;}function G(a,b){return!!~(""+a).indexOf(b);}function H(a,b){for(var d in a){var e=a[d];if(!G(e,"-")&&j[e]!==c)return b=="pfx"?e:!0;}return!1;}function I(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:F(f,"function")?f.bind(d||b):f;}return!1;}function J(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+p.join(d+" ")+d).split(" ");return F(b,"string")||F(b,"undefined")?H(e,b):(e=(a+" "+q.join(d+" ")+d).split(" "),I(e,b,c));}function K(){e.input=function(c){for(var d=0,e=c.length;d<e;d++){u[c[d]]=c[d]in k;}return u.list&&(u.list=!!b.createElement("datalist")&&!!a.HTMLDataListElement),u;}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),e.inputtypes=function(a){for(var d=0,e,f,h,i=a.length;d<i;d++){k.setAttribute("type",f=a[d]),e=k.type!=="text",e&&(k.value=l,k.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(f)&&k.style.WebkitAppearance!==c?(g.appendChild(k),h=b.defaultView,e=h.getComputedStyle&&h.getComputedStyle(k,null).WebkitAppearance!=="textfield"&&k.offsetHeight!==0,g.removeChild(k)):/^(search|tel)$/.test(f)||(/^(url|email)$/.test(f)?e=k.checkValidity&&k.checkValidity()===!1:e=k.value!=l)),t[a[d]]=!!e;}return t;}("search tel url email datetime date month week time datetime-local number range color".split(" "));}var d="2.6.2",e={},f=!0,g=b.documentElement,h="modernizr",i=b.createElement(h),j=i.style,k=b.createElement("input"),l=":)",m={}.toString,n=" -webkit- -moz- -o- -ms- ".split(" "),o="Webkit Moz O ms",p=o.split(" "),q=o.toLowerCase().split(" "),r={svg:"http://www.w3.org/2000/svg"},s={},t={},u={},v=[],w=v.slice,x,y=function y(a,c,d,e){var f,i,j,k,l=b.createElement("div"),m=b.body,n=m||b.createElement("body");if(parseInt(d,10))while(d--){j=b.createElement("div"),j.id=e?e[d]:h+(d+1),l.appendChild(j);}return f=["&#173;",'<style id="s',h,'">',a,"</style>"].join(""),l.id=h,(m?l:n).innerHTML+=f,n.appendChild(l),m||(n.style.background="",n.style.overflow="hidden",k=g.style.overflow,g.style.overflow="hidden",g.appendChild(n)),i=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),g.style.overflow=k),!!i;},z=function z(b){var c=a.matchMedia||a.msMatchMedia;if(c)return c(b).matches;var d;return y("@media "+b+" { #"+h+" { position: absolute; } }",function(b){d=(a.getComputedStyle?getComputedStyle(b,null):b.currentStyle)["position"]=="absolute";}),d;},A=function(){function d(d,e){e=e||b.createElement(a[d]||"div"),d="on"+d;var f=d in e;return f||(e.setAttribute||(e=b.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(d,""),f=F(e[d],"function"),F(e[d],"undefined")||(e[d]=c),e.removeAttribute(d))),e=null,f;}var a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return d;}(),B={}.hasOwnProperty,C;!F(B,"undefined")&&!F(B.call,"undefined")?C=function C(a,b){return B.call(a,b);}:C=function C(a,b){return b in a&&F(a.constructor.prototype[b],"undefined");},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError();var d=w.call(arguments,1),e=function e(){if(this instanceof e){var a=function a(){};a.prototype=c.prototype;var f=new a(),g=c.apply(f,d.concat(w.call(arguments)));return Object(g)===g?g:f;}return c.apply(b,d.concat(w.call(arguments)));};return e;}),s.flexbox=function(){return J("flexWrap");},s.canvas=function(){var a=b.createElement("canvas");return!!a.getContext&&!!a.getContext("2d");},s.canvastext=function(){return!!e.canvas&&!!F(b.createElement("canvas").getContext("2d").fillText,"function");},s.webgl=function(){return!!a.WebGLRenderingContext;},s.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:y(["@media (",n.join("touch-enabled),("),h,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=a.offsetTop===9;}),c;},s.geolocation=function(){return"geolocation"in navigator;},s.postmessage=function(){return!!a.postMessage;},s.websqldatabase=function(){return!!a.openDatabase;},s.indexedDB=function(){return!!J("indexedDB",a);},s.hashchange=function(){return A("hashchange",a)&&(b.documentMode===c||b.documentMode>7);},s.history=function(){return!!a.history&&!!history.pushState;},s.draganddrop=function(){var a=b.createElement("div");return"draggable"in a||"ondragstart"in a&&"ondrop"in a;},s.websockets=function(){return"WebSocket"in a||"MozWebSocket"in a;},s.rgba=function(){return D("background-color:rgba(150,255,150,.5)"),G(j.backgroundColor,"rgba");},s.hsla=function(){return D("background-color:hsla(120,40%,100%,.5)"),G(j.backgroundColor,"rgba")||G(j.backgroundColor,"hsla");},s.multiplebgs=function(){return D("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(j.background);},s.backgroundsize=function(){return J("backgroundSize");},s.borderimage=function(){return J("borderImage");},s.borderradius=function(){return J("borderRadius");},s.boxshadow=function(){return J("boxShadow");},s.textshadow=function(){return b.createElement("div").style.textShadow==="";},s.opacity=function(){return E("opacity:.55"),/^0.55$/.test(j.opacity);},s.cssanimations=function(){return J("animationName");},s.csscolumns=function(){return J("columnCount");},s.cssgradients=function(){var a="background-image:",b="gradient(linear,left top,right bottom,from(#9f9),to(white));",c="linear-gradient(left top,#9f9, white);";return D((a+"-webkit- ".split(" ").join(b+a)+n.join(c+a)).slice(0,-a.length)),G(j.backgroundImage,"gradient");},s.cssreflections=function(){return J("boxReflect");},s.csstransforms=function(){return!!J("transform");},s.csstransforms3d=function(){var a=!!J("perspective");return a&&"webkitPerspective"in g.style&&y("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b,c){a=b.offsetLeft===9&&b.offsetHeight===3;}),a;},s.csstransitions=function(){return J("transition");},s.fontface=function(){var a;return y('@font-face {font-family:"font";src:url("https://")}',function(c,d){var e=b.getElementById("smodernizr"),f=e.sheet||e.styleSheet,g=f?f.cssRules&&f.cssRules[0]?f.cssRules[0].cssText:f.cssText||"":"";a=/src/i.test(g)&&g.indexOf(d.split(" ")[0])===0;}),a;},s.generatedcontent=function(){var a;return y(["#",h,"{font:0/0 a}#",h,':after{content:"',l,'";visibility:hidden;font:3px/1 a}'].join(""),function(b){a=b.offsetHeight>=3;}),a;},s.video=function(){var a=b.createElement("video"),c=!1;try{if(c=!!a.canPlayType)c=new Boolean(c),c.ogg=a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),c.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),c.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"");}catch(d){}return c;},s.audio=function(){var a=b.createElement("audio"),c=!1;try{if(c=!!a.canPlayType)c=new Boolean(c),c.ogg=a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),c.mp3=a.canPlayType("audio/mpeg;").replace(/^no$/,""),c.wav=a.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),c.m4a=(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,"");}catch(d){}return c;},s.localstorage=function(){try{return localStorage.setItem(h,h),localStorage.removeItem(h),!0;}catch(a){return!1;}},s.sessionstorage=function(){try{return sessionStorage.setItem(h,h),sessionStorage.removeItem(h),!0;}catch(a){return!1;}},s.webworkers=function(){return!!a.Worker;},s.applicationcache=function(){return!!a.applicationCache;},s.svg=function(){return!!b.createElementNS&&!!b.createElementNS(r.svg,"svg").createSVGRect;},s.inlinesvg=function(){var a=b.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==r.svg;},s.smil=function(){return!!b.createElementNS&&/SVGAnimate/.test(m.call(b.createElementNS(r.svg,"animate")));},s.svgclippaths=function(){return!!b.createElementNS&&/SVGClipPath/.test(m.call(b.createElementNS(r.svg,"clipPath")));};for(var L in s){C(s,L)&&(x=L.toLowerCase(),e[x]=s[L](),v.push((e[x]?"":"no-")+x));}return e.input||K(),e.addTest=function(a,b){if((typeof a==="undefined"?"undefined":_typeof(a))=="object")for(var d in a){C(a,d)&&e.addTest(d,a[d]);}else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b=="function"?b():b,typeof f!="undefined"&&f&&(g.className+=" "+(b?"":"no-")+a),e[a]=b;}return e;},D(""),i=k=null,function(a,b){function k(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild);}function l(){var a=r.elements;return typeof a=="string"?a.split(" "):a;}function m(a){var b=i[a[g]];return b||(b={},h++,a[g]=h,i[h]=b),b;}function n(a,c,f){c||(c=b);if(j)return c.createElement(a);f||(f=m(c));var g;return f.cache[a]?g=f.cache[a].cloneNode():e.test(a)?g=(f.cache[a]=f.createElem(a)).cloneNode():g=f.createElem(a),g.canHaveChildren&&!d.test(a)?f.frag.appendChild(g):g;}function o(a,c){a||(a=b);if(j)return a.createDocumentFragment();c=c||m(a);var d=c.frag.cloneNode(),e=0,f=l(),g=f.length;for(;e<g;e++){d.createElement(f[e]);}return d;}function p(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return r.shivMethods?n(c,a,b):b.createElem(c);},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+l().join().replace(/\w+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")';})+");return n}")(r,b.frag);}function q(a){a||(a=b);var c=m(a);return r.shivCSS&&!f&&!c.hasCSS&&(c.hasCSS=!!k(a,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),j||p(a,c),a;}var c=a.html5||{},d=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,e=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f,g="_html5shiv",h=0,i={},j;(function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",f="hidden"in a,j=a.childNodes.length==1||function(){b.createElement("a");var a=b.createDocumentFragment();return typeof a.cloneNode=="undefined"||typeof a.createDocumentFragment=="undefined"||typeof a.createElement=="undefined";}();}catch(c){f=!0,j=!0;}})();var r={elements:c.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:c.shivCSS!==!1,supportsUnknownElements:j,shivMethods:c.shivMethods!==!1,type:"default",shivDocument:q,createElement:n,createDocumentFragment:o};a.html5=r,q(b);}(this,b),e._version=d,e._prefixes=n,e._domPrefixes=q,e._cssomPrefixes=p,e.mq=z,e.hasEvent=A,e.testProp=function(a){return H([a]);},e.testAllProps=J,e.testStyles=y,e.prefixed=function(a,b,c){return b?J(a,b,c):J(a,"pfx");},g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+v.join(" "):""),e;}(this,this.document),function(a,b,c){function d(a){return"[object Function]"==o.call(a);}function e(a){return"string"==typeof a;}function f(){}function g(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a;}function h(){var a=p.shift();q=1,a?a.t?m(function(){("c"==a.t?_B.injectCss:_B.injectJs)(a.s,0,a.a,a.x,a.e,1);},0):(a(),h()):q=0;}function i(a,c,d,e,f,i,j){function k(b){if(!o&&g(l.readyState)&&(u.r=o=1,!q&&h(),l.onload=l.onreadystatechange=null,b)){"img"!=a&&m(function(){t.removeChild(l);},50);for(var d in y[c]){y[c].hasOwnProperty(d)&&y[c][d].onload();}}}var j=j||_B.errorTimeout,l=b.createElement(a),o=0,r=0,u={t:d,s:c,e:f,a:i,x:j};1===y[c]&&(r=1,y[c]=[]),"object"==a?l.data=c:(l.src=c,l.type=a),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,r);},p.splice(e,0,u),"img"!=a&&(r||2===y[c]?(t.insertBefore(l,s?null:n),m(k,j)):y[c].push(l));}function j(a,b,c,d,f){return q=0,b=b||"j",e(a)?i("c"==b?v:u,a,b,this.i++,c,d,f):(p.splice(this.i++,0,a),1==p.length&&h()),this;}function k(){var a=_B;return a.loader={load:j,i:0},a;}var l=b.documentElement,m=a.setTimeout,n=b.getElementsByTagName("script")[0],o={}.toString,p=[],q=0,r="MozAppearance"in l.style,s=r&&!!b.createRange().compareNode,t=s?l:n.parentNode,l=a.opera&&"[object Opera]"==o.call(a.opera),l=!!b.attachEvent&&!l,u=r?"object":l?"script":"img",v=l?"script":u,w=Array.isArray||function(a){return"[object Array]"==o.call(a);},x=[],y={},z={timeout:function timeout(a,b){return b.length&&(a.timeout=b[0]),a;}},_A,_B;_B=function B(a){function b(a){var a=a.split("!"),b=x.length,c=a.pop(),d=a.length,c={url:c,origUrl:c,prefixes:a},e,f,g;for(f=0;f<d;f++){g=a[f].split("="),(e=z[g.shift()])&&(c=e(c,g));}for(f=0;f<b;f++){c=x[f](c);}return c;}function g(a,e,f,g,h){var i=b(a),j=i.autoCallback;i.url.split(".").pop().split("?").shift(),i.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]),i.instead?i.instead(a,e,f,g,h):(y[i.url]?i.noexec=!0:y[i.url]=1,f.load(i.url,i.forceCSS||!i.forceJS&&"css"==i.url.split(".").pop().split("?").shift()?"c":c,i.noexec,i.attrs,i.timeout),(d(e)||d(j))&&f.load(function(){k(),e&&e(i.origUrl,h,g),j&&j(i.origUrl,h,g),y[i.url]=2;})));}function h(a,b){function c(a,c){if(a){if(e(a))c||(j=function j(){var a=[].slice.call(arguments);k.apply(this,a),l();}),g(a,j,b,0,h);else if(Object(a)===a)for(n in m=function(){var b=0,c;for(c in a){a.hasOwnProperty(c)&&b++;}return b;}(),a){a.hasOwnProperty(n)&&(!c&&! --m&&(d(j)?j=function j(){var a=[].slice.call(arguments);k.apply(this,a),l();}:j[n]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),l();};}(k[n])),g(a[n],j,b,n,h));}}else!c&&l();}var h=!!a.test,i=a.load||a.both,j=a.callback||f,k=j,l=a.complete||f,m,n;c(h?a.yep:a.nope,!!i),i&&c(i);}var i,j,l=this.yepnope.loader;if(e(a))g(a,0,l,0);else if(w(a))for(i=0;i<a.length;i++){j=a[i],e(j)?g(j,0,l,0):w(j)?_B(j):Object(j)===j&&h(j,l);}else Object(a)===a&&h(a,l);},_B.addPrefix=function(a,b){z[a]=b;},_B.addFilter=function(a){x.push(a);},_B.errorTimeout=1e4,null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",_A=function A(){b.removeEventListener("DOMContentLoaded",_A,0),b.readyState="complete";},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var k=b.createElement("script"),l,o,e=e||_B.errorTimeout;k.src=a;for(o in d){k.setAttribute(o,d[o]);}c=j?h:c||f,k.onreadystatechange=k.onload=function(){!l&&g(k.readyState)&&(l=1,c(),k.onload=k.onreadystatechange=null);},m(function(){l||(l=1,c(1));},e),i?k.onload():n.parentNode.insertBefore(k,n);},a.yepnope.injectCss=function(a,c,d,e,g,i){var e=b.createElement("link"),j,c=i?h:c||f;e.href=a,e.rel="stylesheet",e.type="text/css";for(j in d){e.setAttribute(j,d[j]);}g||(n.parentNode.insertBefore(e,n),m(c,0));};}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0));};/*!
 * JavaScript Cookie v2.1.4
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */;(function(factory){var registeredInModuleLoader=false;if(typeof define==='function'&&define.amd){define(factory);registeredInModuleLoader=true;}if((typeof exports==="undefined"?"undefined":_typeof(exports))==='object'){module.exports=factory();registeredInModuleLoader=true;}if(!registeredInModuleLoader){var OldCookies=window.Cookies;var api=window.Cookies=factory();api.noConflict=function(){window.Cookies=OldCookies;return api;};}})(function(){function extend(){var i=0;var result={};for(;i<arguments.length;i++){var attributes=arguments[i];for(var key in attributes){result[key]=attributes[key];}}return result;}function init(converter){function api(key,value,attributes){var result;if(typeof document==='undefined'){return;}// Write
if(arguments.length>1){attributes=extend({path:'/'},api.defaults,attributes);if(typeof attributes.expires==='number'){var expires=new Date();expires.setMilliseconds(expires.getMilliseconds()+attributes.expires*864e+5);attributes.expires=expires;}// We're using "expires" because "max-age" is not supported by IE
attributes.expires=attributes.expires?attributes.expires.toUTCString():'';try{result=JSON.stringify(value);if(/^[\{\[]/.test(result)){value=result;}}catch(e){}if(!converter.write){value=encodeURIComponent(String(value)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent);}else{value=converter.write(value,key);}key=encodeURIComponent(String(key));key=key.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent);key=key.replace(/[\(\)]/g,escape);var stringifiedAttributes='';for(var attributeName in attributes){if(!attributes[attributeName]){continue;}stringifiedAttributes+='; '+attributeName;if(attributes[attributeName]===true){continue;}stringifiedAttributes+='='+attributes[attributeName];}return document.cookie=key+'='+value+stringifiedAttributes;}// Read
if(!key){result={};}// To prevent the for loop in the first place assign an empty array
// in case there are no cookies at all. Also prevents odd result when
// calling "get()"
var cookies=document.cookie?document.cookie.split('; '):[];var rdecode=/(%[0-9A-Z]{2})+/g;var i=0;for(;i<cookies.length;i++){var parts=cookies[i].split('=');var cookie=parts.slice(1).join('=');if(cookie.charAt(0)==='"'){cookie=cookie.slice(1,-1);}try{var name=parts[0].replace(rdecode,decodeURIComponent);cookie=converter.read?converter.read(cookie,name):converter(cookie,name)||cookie.replace(rdecode,decodeURIComponent);if(this.json){try{cookie=JSON.parse(cookie);}catch(e){}}if(key===name){result=cookie;break;}if(!key){result[name]=cookie;}}catch(e){}}return result;}api.set=api;api.get=function(key){return api.call(api,key);};api.getJSON=function(){return api.apply({json:true},[].slice.call(arguments));};api.defaults={};api.remove=function(key,attributes){api(key,'',extend(attributes,{expires:-1}));};api.withConverter=init;return api;}return init(function(){});});/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas. Dual MIT/BSD license *//*! NOTE: If you're already including a window.matchMedia polyfill via Modernizr or otherwise, you don't need this part */window.matchMedia=window.matchMedia||function(a){"use strict";var c,d=a.documentElement,e=d.firstElementChild||d.firstChild,f=a.createElement("body"),g=a.createElement("div");return g.id="mq-test-1",g.style.cssText="position:absolute;top:-100em",f.style.background="none",f.appendChild(g),function(a){return g.innerHTML='&shy;<style media="'+a+'"> #mq-test-1 { width: 42px; }</style>',d.insertBefore(f,e),c=42===g.offsetWidth,d.removeChild(f),{matches:c,media:a};};}(document);/*! Respond.js v1.1.0: min/max-width media query polyfill. (c) Scott Jehl. MIT/GPLv2 Lic. j.mp/respondjs  */(function(a){"use strict";function x(){u(!0);}var b={};if(a.respond=b,b.update=function(){},b.mediaQueriesSupported=a.matchMedia&&a.matchMedia("only all").matches,!b.mediaQueriesSupported){var q,r,t,c=a.document,d=c.documentElement,e=[],f=[],g=[],h={},i=30,j=c.getElementsByTagName("head")[0]||d,k=c.getElementsByTagName("base")[0],l=j.getElementsByTagName("link"),m=[],n=function n(){for(var b=0;l.length>b;b++){var c=l[b],d=c.href,e=c.media,f=c.rel&&"stylesheet"===c.rel.toLowerCase();d&&f&&!h[d]&&(c.styleSheet&&c.styleSheet.rawCssText?(p(c.styleSheet.rawCssText,d,e),h[d]=!0):(!/^([a-zA-Z:]*\/\/)/.test(d)&&!k||d.replace(RegExp.$1,"").split("/")[0]===a.location.host)&&m.push({href:d,media:e}));}o();},o=function o(){if(m.length){var b=m.shift();v(b.href,function(c){p(c,b.href,b.media),h[b.href]=!0,a.setTimeout(function(){o();},0);});}},p=function p(a,b,c){var d=a.match(/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi),g=d&&d.length||0;b=b.substring(0,b.lastIndexOf("/"));var h=function h(a){return a.replace(/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,"$1"+b+"$2$3");},i=!g&&c;b.length&&(b+="/"),i&&(g=1);for(var j=0;g>j;j++){var k,l,m,n;i?(k=c,f.push(h(a))):(k=d[j].match(/@media *([^\{]+)\{([\S\s]+?)$/)&&RegExp.$1,f.push(RegExp.$2&&h(RegExp.$2))),m=k.split(","),n=m.length;for(var o=0;n>o;o++){l=m[o],e.push({media:l.split("(")[0].match(/(only\s+)?([a-zA-Z]+)\s?/)&&RegExp.$2||"all",rules:f.length-1,hasquery:l.indexOf("(")>-1,minw:l.match(/\(\s*min\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:l.match(/\(\s*max\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||"")});}}u();},s=function s(){var a,b=c.createElement("div"),e=c.body,f=!1;return b.style.cssText="position:absolute;font-size:1em;width:1em",e||(e=f=c.createElement("body"),e.style.background="none"),e.appendChild(b),d.insertBefore(e,d.firstChild),a=b.offsetWidth,f?d.removeChild(e):e.removeChild(b),a=t=parseFloat(a);},u=function u(b){var h="clientWidth",k=d[h],m="CSS1Compat"===c.compatMode&&k||c.body[h]||k,n={},o=l[l.length-1],p=new Date().getTime();if(b&&q&&i>p-q)return a.clearTimeout(r),r=a.setTimeout(u,i),void 0;q=p;for(var v in e){if(e.hasOwnProperty(v)){var w=e[v],x=w.minw,y=w.maxw,z=null===x,A=null===y,B="em";x&&(x=parseFloat(x)*(x.indexOf(B)>-1?t||s():1)),y&&(y=parseFloat(y)*(y.indexOf(B)>-1?t||s():1)),w.hasquery&&(z&&A||!(z||m>=x)||!(A||y>=m))||(n[w.media]||(n[w.media]=[]),n[w.media].push(f[w.rules]));}}for(var C in g){g.hasOwnProperty(C)&&g[C]&&g[C].parentNode===j&&j.removeChild(g[C]);}for(var D in n){if(n.hasOwnProperty(D)){var E=c.createElement("style"),F=n[D].join("\n");E.type="text/css",E.media=D,j.insertBefore(E,o.nextSibling),E.styleSheet?E.styleSheet.cssText=F:E.appendChild(c.createTextNode(F)),g.push(E);}}},v=function v(a,b){var c=w();c&&(c.open("GET",a,!0),c.onreadystatechange=function(){4!==c.readyState||200!==c.status&&304!==c.status||b(c.responseText);},4!==c.readyState&&c.send(null));},w=function(){var b=!1;try{b=new a.XMLHttpRequest();}catch(c){b=new a.ActiveXObject("Microsoft.XMLHTTP");}return function(){return b;};}();n(),b.update=n,a.addEventListener?a.addEventListener("resize",x,!1):a.attachEvent&&a.attachEvent("onresize",x);}})(this);;(function(){'use strict';/**
	 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
	 *
	 * @codingstandard ftlabs-jsv2
	 * @copyright The Financial Times Limited [All Rights Reserved]
	 * @license MIT License (see LICENSE.txt)
	 *//*jslint browser:true, node:true*//*global define, Event, Node*//**
	 * Instantiate fast-clicking listeners on the specified layer.
	 *
	 * @constructor
	 * @param {Element} layer The layer to listen on
	 * @param {Object} [options={}] The options to override the defaults
	 */function FastClick(layer,options){var oldOnClick;options=options||{};/**
		 * Whether a click is currently being tracked.
		 *
		 * @type boolean
		 */this.trackingClick=false;/**
		 * Timestamp for when click tracking started.
		 *
		 * @type number
		 */this.trackingClickStart=0;/**
		 * The element being tracked for a click.
		 *
		 * @type EventTarget
		 */this.targetElement=null;/**
		 * X-coordinate of touch start event.
		 *
		 * @type number
		 */this.touchStartX=0;/**
		 * Y-coordinate of touch start event.
		 *
		 * @type number
		 */this.touchStartY=0;/**
		 * ID of the last touch, retrieved from Touch.identifier.
		 *
		 * @type number
		 */this.lastTouchIdentifier=0;/**
		 * Touchmove boundary, beyond which a click will be cancelled.
		 *
		 * @type number
		 */this.touchBoundary=options.touchBoundary||10;/**
		 * The FastClick layer.
		 *
		 * @type Element
		 */this.layer=layer;/**
		 * The minimum time between tap(touchstart and touchend) events
		 *
		 * @type number
		 */this.tapDelay=options.tapDelay||200;/**
		 * The maximum time for a tap
		 *
		 * @type number
		 */this.tapTimeout=options.tapTimeout||700;if(FastClick.notNeeded(layer)){return;}// Some old versions of Android don't have Function.prototype.bind
function bind(method,context){return function(){return method.apply(context,arguments);};}var methods=['onMouse','onClick','onTouchStart','onTouchMove','onTouchEnd','onTouchCancel'];var context=this;for(var i=0,l=methods.length;i<l;i++){context[methods[i]]=bind(context[methods[i]],context);}// Set up event handlers as required
if(deviceIsAndroid){layer.addEventListener('mouseover',this.onMouse,true);layer.addEventListener('mousedown',this.onMouse,true);layer.addEventListener('mouseup',this.onMouse,true);}layer.addEventListener('click',this.onClick,true);layer.addEventListener('touchstart',this.onTouchStart,false);layer.addEventListener('touchmove',this.onTouchMove,false);layer.addEventListener('touchend',this.onTouchEnd,false);layer.addEventListener('touchcancel',this.onTouchCancel,false);// Hack is required for browsers that don't support Event#stopImmediatePropagation (e.g. Android 2)
// which is how FastClick normally stops click events bubbling to callbacks registered on the FastClick
// layer when they are cancelled.
if(!Event.prototype.stopImmediatePropagation){layer.removeEventListener=function(type,callback,capture){var rmv=Node.prototype.removeEventListener;if(type==='click'){rmv.call(layer,type,callback.hijacked||callback,capture);}else{rmv.call(layer,type,callback,capture);}};layer.addEventListener=function(type,callback,capture){var adv=Node.prototype.addEventListener;if(type==='click'){adv.call(layer,type,callback.hijacked||(callback.hijacked=function(event){if(!event.propagationStopped){callback(event);}}),capture);}else{adv.call(layer,type,callback,capture);}};}// If a handler is already declared in the element's onclick attribute, it will be fired before
// FastClick's onClick handler. Fix this by pulling out the user-defined handler function and
// adding it as listener.
if(typeof layer.onclick==='function'){// Android browser on at least 3.2 requires a new reference to the function in layer.onclick
// - the old one won't work if passed to addEventListener directly.
oldOnClick=layer.onclick;layer.addEventListener('click',function(event){oldOnClick(event);},false);layer.onclick=null;}}/**
	* Windows Phone 8.1 fakes user agent string to look like Android and iPhone.
	*
	* @type boolean
	*/var deviceIsWindowsPhone=navigator.userAgent.indexOf("Windows Phone")>=0;/**
	 * Android requires exceptions.
	 *
	 * @type boolean
	 */var deviceIsAndroid=navigator.userAgent.indexOf('Android')>0&&!deviceIsWindowsPhone;/**
	 * iOS requires exceptions.
	 *
	 * @type boolean
	 */var deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent)&&!deviceIsWindowsPhone;/**
	 * iOS 4 requires an exception for select elements.
	 *
	 * @type boolean
	 */var deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent);/**
	 * iOS 6.0-7.* requires the target element to be manually derived
	 *
	 * @type boolean
	 */var deviceIsIOSWithBadTarget=deviceIsIOS&&/OS [6-7]_\d/.test(navigator.userAgent);/**
	 * BlackBerry requires exceptions.
	 *
	 * @type boolean
	 */var deviceIsBlackBerry10=navigator.userAgent.indexOf('BB10')>0;/**
	 * Determine whether a given element requires a native click.
	 *
	 * @param {EventTarget|Element} target Target DOM element
	 * @returns {boolean} Returns true if the element needs a native click
	 */FastClick.prototype.needsClick=function(target){switch(target.nodeName.toLowerCase()){// Don't send a synthetic click to disabled inputs (issue #62)
case'button':case'select':case'textarea':if(target.disabled){return true;}break;case'input':// File inputs need real clicks on iOS 6 due to a browser bug (issue #68)
if(deviceIsIOS&&target.type==='file'||target.disabled){return true;}break;case'label':case'iframe':// iOS8 homescreen apps can prevent events bubbling into frames
case'video':return true;}return /\bneedsclick\b/.test(target.className);};/**
	 * Determine whether a given element requires a call to focus to simulate click into element.
	 *
	 * @param {EventTarget|Element} target Target DOM element
	 * @returns {boolean} Returns true if the element requires a call to focus to simulate native click.
	 */FastClick.prototype.needsFocus=function(target){switch(target.nodeName.toLowerCase()){case'textarea':return true;case'select':return!deviceIsAndroid;case'input':switch(target.type){case'button':case'checkbox':case'file':case'image':case'radio':case'submit':return false;}// No point in attempting to focus disabled inputs
return!target.disabled&&!target.readOnly;default:return /\bneedsfocus\b/.test(target.className);}};/**
	 * Send a click event to the specified element.
	 *
	 * @param {EventTarget|Element} targetElement
	 * @param {Event} event
	 */FastClick.prototype.sendClick=function(targetElement,event){var clickEvent,touch;// On some Android devices activeElement needs to be blurred otherwise the synthetic click will have no effect (#24)
if(document.activeElement&&document.activeElement!==targetElement){document.activeElement.blur();}touch=event.changedTouches[0];// Synthesise a click event, with an extra attribute so it can be tracked
clickEvent=document.createEvent('MouseEvents');clickEvent.initMouseEvent(this.determineEventType(targetElement),true,true,window,1,touch.screenX,touch.screenY,touch.clientX,touch.clientY,false,false,false,false,0,null);clickEvent.forwardedTouchEvent=true;targetElement.dispatchEvent(clickEvent);};FastClick.prototype.determineEventType=function(targetElement){//Issue #159: Android Chrome Select Box does not open with a synthetic click event
if(deviceIsAndroid&&targetElement.tagName.toLowerCase()==='select'){return'mousedown';}return'click';};/**
	 * @param {EventTarget|Element} targetElement
	 */FastClick.prototype.focus=function(targetElement){var length;// Issue #160: on iOS 7, some input elements (e.g. date datetime month) throw a vague TypeError on setSelectionRange. These elements don't have an integer value for the selectionStart and selectionEnd properties, but unfortunately that can't be used for detection because accessing the properties also throws a TypeError. Just check the type instead. Filed as Apple bug #15122724.
if(deviceIsIOS&&targetElement.setSelectionRange&&targetElement.type.indexOf('date')!==0&&targetElement.type!=='time'&&targetElement.type!=='month'){length=targetElement.value.length;targetElement.setSelectionRange(length,length);}else{targetElement.focus();}};/**
	 * Check whether the given target element is a child of a scrollable layer and if so, set a flag on it.
	 *
	 * @param {EventTarget|Element} targetElement
	 */FastClick.prototype.updateScrollParent=function(targetElement){var scrollParent,parentElement;scrollParent=targetElement.fastClickScrollParent;// Attempt to discover whether the target element is contained within a scrollable layer. Re-check if the
// target element was moved to another parent.
if(!scrollParent||!scrollParent.contains(targetElement)){parentElement=targetElement;do{if(parentElement.scrollHeight>parentElement.offsetHeight){scrollParent=parentElement;targetElement.fastClickScrollParent=parentElement;break;}parentElement=parentElement.parentElement;}while(parentElement);}// Always update the scroll top tracker if possible.
if(scrollParent){scrollParent.fastClickLastScrollTop=scrollParent.scrollTop;}};/**
	 * @param {EventTarget} targetElement
	 * @returns {Element|EventTarget}
	 */FastClick.prototype.getTargetElementFromEventTarget=function(eventTarget){// On some older browsers (notably Safari on iOS 4.1 - see issue #56) the event target may be a text node.
if(eventTarget.nodeType===Node.TEXT_NODE){return eventTarget.parentNode;}return eventTarget;};/**
	 * On touch start, record the position and scroll offset.
	 *
	 * @param {Event} event
	 * @returns {boolean}
	 */FastClick.prototype.onTouchStart=function(event){var targetElement,touch,selection;// Ignore multiple touches, otherwise pinch-to-zoom is prevented if both fingers are on the FastClick element (issue #111).
if(event.targetTouches.length>1){return true;}targetElement=this.getTargetElementFromEventTarget(event.target);touch=event.targetTouches[0];if(deviceIsIOS){// Only trusted events will deselect text on iOS (issue #49)
selection=window.getSelection();if(selection.rangeCount&&!selection.isCollapsed){return true;}if(!deviceIsIOS4){// Weird things happen on iOS when an alert or confirm dialog is opened from a click event callback (issue #23):
// when the user next taps anywhere else on the page, new touchstart and touchend events are dispatched
// with the same identifier as the touch event that previously triggered the click that triggered the alert.
// Sadly, there is an issue on iOS 4 that causes some normal touch events to have the same identifier as an
// immediately preceeding touch event (issue #52), so this fix is unavailable on that platform.
// Issue 120: touch.identifier is 0 when Chrome dev tools 'Emulate touch events' is set with an iOS device UA string,
// which causes all touch events to be ignored. As this block only applies to iOS, and iOS identifiers are always long,
// random integers, it's safe to to continue if the identifier is 0 here.
if(touch.identifier&&touch.identifier===this.lastTouchIdentifier){event.preventDefault();return false;}this.lastTouchIdentifier=touch.identifier;// If the target element is a child of a scrollable layer (using -webkit-overflow-scrolling: touch) and:
// 1) the user does a fling scroll on the scrollable layer
// 2) the user stops the fling scroll with another tap
// then the event.target of the last 'touchend' event will be the element that was under the user's finger
// when the fling scroll was started, causing FastClick to send a click event to that layer - unless a check
// is made to ensure that a parent layer was not scrolled before sending a synthetic click (issue #42).
this.updateScrollParent(targetElement);}}this.trackingClick=true;this.trackingClickStart=event.timeStamp;this.targetElement=targetElement;this.touchStartX=touch.pageX;this.touchStartY=touch.pageY;// Prevent phantom clicks on fast double-tap (issue #36)
if(event.timeStamp-this.lastClickTime<this.tapDelay){event.preventDefault();}return true;};/**
	 * Based on a touchmove event object, check whether the touch has moved past a boundary since it started.
	 *
	 * @param {Event} event
	 * @returns {boolean}
	 */FastClick.prototype.touchHasMoved=function(event){var touch=event.changedTouches[0],boundary=this.touchBoundary;if(Math.abs(touch.pageX-this.touchStartX)>boundary||Math.abs(touch.pageY-this.touchStartY)>boundary){return true;}return false;};/**
	 * Update the last position.
	 *
	 * @param {Event} event
	 * @returns {boolean}
	 */FastClick.prototype.onTouchMove=function(event){if(!this.trackingClick){return true;}// If the touch has moved, cancel the click tracking
if(this.targetElement!==this.getTargetElementFromEventTarget(event.target)||this.touchHasMoved(event)){this.trackingClick=false;this.targetElement=null;}return true;};/**
	 * Attempt to find the labelled control for the given label element.
	 *
	 * @param {EventTarget|HTMLLabelElement} labelElement
	 * @returns {Element|null}
	 */FastClick.prototype.findControl=function(labelElement){// Fast path for newer browsers supporting the HTML5 control attribute
if(labelElement.control!==undefined){return labelElement.control;}// All browsers under test that support touch events also support the HTML5 htmlFor attribute
if(labelElement.htmlFor){return document.getElementById(labelElement.htmlFor);}// If no for attribute exists, attempt to retrieve the first labellable descendant element
// the list of which is defined here: http://www.w3.org/TR/html5/forms.html#category-label
return labelElement.querySelector('button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea');};/**
	 * On touch end, determine whether to send a click event at once.
	 *
	 * @param {Event} event
	 * @returns {boolean}
	 */FastClick.prototype.onTouchEnd=function(event){var forElement,trackingClickStart,targetTagName,scrollParent,touch,targetElement=this.targetElement;if(!this.trackingClick){return true;}// Prevent phantom clicks on fast double-tap (issue #36)
if(event.timeStamp-this.lastClickTime<this.tapDelay){this.cancelNextClick=true;return true;}if(event.timeStamp-this.trackingClickStart>this.tapTimeout){return true;}// Reset to prevent wrong click cancel on input (issue #156).
this.cancelNextClick=false;this.lastClickTime=event.timeStamp;trackingClickStart=this.trackingClickStart;this.trackingClick=false;this.trackingClickStart=0;// On some iOS devices, the targetElement supplied with the event is invalid if the layer
// is performing a transition or scroll, and has to be re-detected manually. Note that
// for this to function correctly, it must be called *after* the event target is checked!
// See issue #57; also filed as rdar://13048589 .
if(deviceIsIOSWithBadTarget){touch=event.changedTouches[0];// In certain cases arguments of elementFromPoint can be negative, so prevent setting targetElement to null
targetElement=document.elementFromPoint(touch.pageX-window.pageXOffset,touch.pageY-window.pageYOffset)||targetElement;targetElement.fastClickScrollParent=this.targetElement.fastClickScrollParent;}targetTagName=targetElement.tagName.toLowerCase();if(targetTagName==='label'){forElement=this.findControl(targetElement);if(forElement){this.focus(targetElement);if(deviceIsAndroid){return false;}targetElement=forElement;}}else if(this.needsFocus(targetElement)){// Case 1: If the touch started a while ago (best guess is 100ms based on tests for issue #36) then focus will be triggered anyway. Return early and unset the target element reference so that the subsequent click will be allowed through.
// Case 2: Without this exception for input elements tapped when the document is contained in an iframe, then any inputted text won't be visible even though the value attribute is updated as the user types (issue #37).
if(event.timeStamp-trackingClickStart>100||deviceIsIOS&&window.top!==window&&targetTagName==='input'){this.targetElement=null;return false;}this.focus(targetElement);this.sendClick(targetElement,event);// Select elements need the event to go through on iOS 4, otherwise the selector menu won't open.
// Also this breaks opening selects when VoiceOver is active on iOS6, iOS7 (and possibly others)
if(!deviceIsIOS||targetTagName!=='select'){this.targetElement=null;event.preventDefault();}return false;}if(deviceIsIOS&&!deviceIsIOS4){// Don't send a synthetic click event if the target element is contained within a parent layer that was scrolled
// and this tap is being used to stop the scrolling (usually initiated by a fling - issue #42).
scrollParent=targetElement.fastClickScrollParent;if(scrollParent&&scrollParent.fastClickLastScrollTop!==scrollParent.scrollTop){return true;}}// Prevent the actual click from going though - unless the target node is marked as requiring
// real clicks or if it is in the whitelist in which case only non-programmatic clicks are permitted.
if(!this.needsClick(targetElement)){event.preventDefault();this.sendClick(targetElement,event);}return false;};/**
	 * On touch cancel, stop tracking the click.
	 *
	 * @returns {void}
	 */FastClick.prototype.onTouchCancel=function(){this.trackingClick=false;this.targetElement=null;};/**
	 * Determine mouse events which should be permitted.
	 *
	 * @param {Event} event
	 * @returns {boolean}
	 */FastClick.prototype.onMouse=function(event){// If a target element was never set (because a touch event was never fired) allow the event
if(!this.targetElement){return true;}if(event.forwardedTouchEvent){return true;}// Programmatically generated events targeting a specific element should be permitted
if(!event.cancelable){return true;}// Derive and check the target element to see whether the mouse event needs to be permitted;
// unless explicitly enabled, prevent non-touch click events from triggering actions,
// to prevent ghost/doubleclicks.
if(!this.needsClick(this.targetElement)||this.cancelNextClick){// Prevent any user-added listeners declared on FastClick element from being fired.
if(event.stopImmediatePropagation){event.stopImmediatePropagation();}else{// Part of the hack for browsers that don't support Event#stopImmediatePropagation (e.g. Android 2)
event.propagationStopped=true;}// Cancel the event
event.stopPropagation();event.preventDefault();return false;}// If the mouse event is permitted, return true for the action to go through.
return true;};/**
	 * On actual clicks, determine whether this is a touch-generated click, a click action occurring
	 * naturally after a delay after a touch (which needs to be cancelled to avoid duplication), or
	 * an actual click which should be permitted.
	 *
	 * @param {Event} event
	 * @returns {boolean}
	 */FastClick.prototype.onClick=function(event){var permitted;// It's possible for another FastClick-like library delivered with third-party code to fire a click event before FastClick does (issue #44). In that case, set the click-tracking flag back to false and return early. This will cause onTouchEnd to return early.
if(this.trackingClick){this.targetElement=null;this.trackingClick=false;return true;}// Very odd behaviour on iOS (issue #18): if a submit element is present inside a form and the user hits enter in the iOS simulator or clicks the Go button on the pop-up OS keyboard the a kind of 'fake' click event will be triggered with the submit-type input element as the target.
if(event.target.type==='submit'&&event.detail===0){return true;}permitted=this.onMouse(event);// Only unset targetElement if the click is not permitted. This will ensure that the check for !targetElement in onMouse fails and the browser's click doesn't go through.
if(!permitted){this.targetElement=null;}// If clicks are permitted, return true for the action to go through.
return permitted;};/**
	 * Remove all FastClick's event listeners.
	 *
	 * @returns {void}
	 */FastClick.prototype.destroy=function(){var layer=this.layer;if(deviceIsAndroid){layer.removeEventListener('mouseover',this.onMouse,true);layer.removeEventListener('mousedown',this.onMouse,true);layer.removeEventListener('mouseup',this.onMouse,true);}layer.removeEventListener('click',this.onClick,true);layer.removeEventListener('touchstart',this.onTouchStart,false);layer.removeEventListener('touchmove',this.onTouchMove,false);layer.removeEventListener('touchend',this.onTouchEnd,false);layer.removeEventListener('touchcancel',this.onTouchCancel,false);};/**
	 * Check whether FastClick is needed.
	 *
	 * @param {Element} layer The layer to listen on
	 */FastClick.notNeeded=function(layer){var metaViewport;var chromeVersion;var blackberryVersion;var firefoxVersion;// Devices that don't support touch don't need FastClick
if(typeof window.ontouchstart==='undefined'){return true;}// Chrome version - zero for other browsers
chromeVersion=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(chromeVersion){if(deviceIsAndroid){metaViewport=document.querySelector('meta[name=viewport]');if(metaViewport){// Chrome on Android with user-scalable="no" doesn't need FastClick (issue #89)
if(metaViewport.content.indexOf('user-scalable=no')!==-1){return true;}// Chrome 32 and above with width=device-width or less don't need FastClick
if(chromeVersion>31&&document.documentElement.scrollWidth<=window.outerWidth){return true;}}// Chrome desktop doesn't need FastClick (issue #15)
}else{return true;}}if(deviceIsBlackBerry10){blackberryVersion=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/);// BlackBerry 10.3+ does not require Fastclick library.
// https://github.com/ftlabs/fastclick/issues/251
if(blackberryVersion[1]>=10&&blackberryVersion[2]>=3){metaViewport=document.querySelector('meta[name=viewport]');if(metaViewport){// user-scalable=no eliminates click delay.
if(metaViewport.content.indexOf('user-scalable=no')!==-1){return true;}// width=device-width (or less than device-width) eliminates click delay.
if(document.documentElement.scrollWidth<=window.outerWidth){return true;}}}}// IE10 with -ms-touch-action: none or manipulation, which disables double-tap-to-zoom (issue #97)
if(layer.style.msTouchAction==='none'||layer.style.touchAction==='manipulation'){return true;}// Firefox version - zero for other browsers
firefoxVersion=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(firefoxVersion>=27){// Firefox 27+ does not have tap delay if the content is not zoomable - https://bugzilla.mozilla.org/show_bug.cgi?id=922896
metaViewport=document.querySelector('meta[name=viewport]');if(metaViewport&&(metaViewport.content.indexOf('user-scalable=no')!==-1||document.documentElement.scrollWidth<=window.outerWidth)){return true;}}// IE11: prefixed -ms-touch-action is no longer supported and it's recomended to use non-prefixed version
// http://msdn.microsoft.com/en-us/library/windows/apps/Hh767313.aspx
if(layer.style.touchAction==='none'||layer.style.touchAction==='manipulation'){return true;}return false;};/**
	 * Factory method for creating a FastClick object
	 *
	 * @param {Element} layer The layer to listen on
	 * @param {Object} [options={}] The options to override the defaults
	 */FastClick.attach=function(layer,options){return new FastClick(layer,options);};if(typeof define==='function'&&_typeof(define.amd)==='object'&&define.amd){// AMD. Register as an anonymous module.
define(function(){return FastClick;});}else if(typeof module!=='undefined'&&module.exports){module.exports=FastClick.attach;module.exports.FastClick=FastClick;}else{window.FastClick=FastClick;}})();$(document).ready(function(){function leftBar(){var $doc=$(document);var $slidemenu_bg=$('#sidemenu-bg');var $sidemenu=$('#sidemenu');var $has_submenu=$sidemenu.find('> li.has-submenu');var $no_submenu=$sidemenu.find('> li:not(.has-submenu)');var removeActive=null;var move={up:$('#move-up'),down:$('#move-down'),last:$doc.scrollTop()};move.up.click(function(){move.last=$doc.scrollTop();$doc.scrollTop(0);$doc.scroll();return move.down.removeClass('hide');});move.down.click(function(){$doc.scrollTop(move.last);$doc.scroll();move.up.removeClass('hide');return move.down.addClass('hide');});$doc.scroll(function(){if($doc.scrollTop()>0){move.up.removeClass('hide');return move.down.addClass('hide');}else{return move.up.addClass('hide');}});$has_submenu.hover(function(){var $t=$(this);$has_submenu.removeClass('active');$t.addClass('active');$slidemenu_bg.removeClass('hide');return clearInterval(removeActive);},function(){var $t=$(this);return removeActive=setTimeout(function(){$t.removeClass('active');return $slidemenu_bg.addClass('hide');},1000);});var hide=function hide(){$slidemenu_bg.addClass('hide');return $has_submenu.removeClass('active');};$slidemenu_bg.click(hide);return $no_submenu.hover(hide);}$('.nav-sub-menu li > .sub-menu-q').parent().hover(function(){var submenu=$(this).children('.sub-menu-q');if($(submenu).is(':hidden')){$(submenu).slideDown(200);}else{$(submenu).slideUp(200);}});leftBar();});function DLayer(){}DLayer.prototype.push=function(eventLabel,eventCategory){dataLayer.push({'event':'GAevent',eventCategory:eventCategory,'eventAction':'send','eventLabel':eventLabel});};DLayer.prototype.getEventLabel=function(){console.log(window.location.href);};function getUrlVars(){var vars=[],hash;var get_url=window.location.href.split("?");if(get_url[2]!=undefined){var hashes=get_url[2].split('&');for(var i=0;i<hashes.length;i++){hash=hashes[i].split('=');vars.push(hash[0]);vars[hash[0]]=hash[1];}console.log('get_url[2]');console.log(vars);return vars;}else if(get_url[1]!=undefined){var hashes=get_url[1].split('&');for(var i=0;i<hashes.length;i++){hash=hashes[i].split('=');vars.push(hash[0]);vars[hash[0]]=hash[1];}console.log('get_url[1]');console.log(vars);return vars;}else{return false;}}var get_utm=getUrlVars();if(get_utm!=false){var new_utm={};new_utm.term=get_utm['utm_term'];new_utm.source=get_utm['utm_source'];new_utm.content=get_utm['utm_content'];new_utm.campaign=get_utm['utm_campaign'];new_utm.medium=get_utm['utm_medium'];if(get_utm){var get_cookie=Cookies.get('utm');if(get_cookie!=undefined){var parse_cookie=JSON.parse(get_cookie);if(get_utm['utm_term']!=parse_cookie){Cookies.set('utm',new_utm,{expires:180});}}else{Cookies.set('utm',new_utm,{expires:180});if(get_utm['utm_source']==='actionpay'){Cookies.set('utm_actionpay',{actionpay:get_utm['actionpay'],utm_source:get_utm['utm_source'],utm_medium:get_utm['utm_medium'],utm_campaign:get_utm['utm_campaign']},{expires:180});}}}}$(document).ready(function(){var $hnm=$('.header-nav-more'),$headerAdditionalNav=$('.header-additional-nav'),$headerAdditionalNavInner=$headerAdditionalNav.find('.header-additional-nav-inner'),$body=$('body'),$body_html=$('body, hmtl'),$window=$(window),$document=$(document),$wrapper=$('.wrapper'),$selectNav=$('.select-nav'),$videoWrapper=$('.video-wrapper'),$expander=$('.expander'),$headerNav=$('.header-nav'),$inputPhone=$('.input-phone'),$personalBroker=$('.personal-broker'),$videoWrapper_video=$videoWrapper.find('video'),$freshOffersSlider=$('.fresh-offers-slider'),$freshOffersSliderCountVal=$('.fresh-offers-slider-count-val'),$strategyTabsNav=$('.strategy-tabs-nav'),$strategyInvestments=$('.strategy-investments-table'),$strategyTable=$('.strategy-responsive-table'),$instrumentsGrid=$('.instruments-grid'),$uniqueServicesGrid=$('.unique-services-grid'),$trustGraph=$('.card-graph .scrollbar-inner'),$ratesItemShowMore=$('.rates-item-show-more'),$ratesItems=$('.rates-items'),$ratesItem=$('.rates-item'),$owlCarousel=$('.owl-carousel'),$owlCarouselComing=$('.owl-carousel-coming'),$input_textarea=$('input, textarea'),$calculatorTopVal=$('.calculator-top-val'),$calculatorRegulator=$('.calculator-regulator'),$openAccountReg=$('.open-account-reg'),$indicatorsAll=$('.indicators-all'),$cover=$('.cover');var mobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);function scrollWidth(){var div=document.createElement('div');div.style.overflowY='scroll';div.style.width='50px';div.style.height='50px';div.style.visibility='hidden';document.body.appendChild(div);SW=div.offsetWidth-div.clientWidth;document.body.removeChild(div);if($window.height()>$wrapper.height()){SW=0;}}//fix linehieght begin
//fix linehieght end
var swapLinks=true,swapLinks2=true,swapLinks3=true;var $headerNav_a=$headerNav.children('a'),$headerNavMoreLinks_a=$('.header-nav-more-links').children('a');var videoReady;$videoWrapper_video.on("loadeddata",function(){$(this).addClass('show');videoReady=true;});//video begin
function adaptiveVideo(){setTimeout(function(){$videoWrapper.each(function(){var th=$(this);var $video=th.find('video');$video.removeAttr('style');var vWW=th.innerWidth();var vWH=th.innerHeight();var vW=$video.innerWidth();var vH=$video.innerHeight();if(vH>=vWH&&vW<=vWW){$video.css({'width':'100%','height':'auto'});}else{$video.css({'height':'100%','width':'auto'});}if(videoReady==true){$video.addClass('show');}});},10);}function adaptiveVideoCur($videoWrapperCur){var video=$videoWrapperCur.find('video');video.removeAttr('style');var vWW=$videoWrapperCur.innerWidth();var vWH=$videoWrapperCur.innerHeight();var vW=video.innerWidth();var vH=video.innerHeight();if(vH>=vWH&&vW<=vWW){video.css({'width':'100%','height':'auto'});}else{video.css({'height':'100%','width':'auto'});}}$videoWrapper.on('click',function(){var $this=$(this);if(!$this.parents('a').length){var i=$videoWrapper.index(this);var video=$this.find('video');if($this.hasClass('playing')){video[0].pause();$this.removeClass('playing');$this.removeClass('hidden');}else{video[0].play();$this.addClass('playing');video=$this.find('.video-wrapper');adaptiveVideoCur($this);setTimeout(function(){if($this.hasClass('playing')){$this.addClass('hidden');}},3000);}}});//video end
//modals begin
var speedFade=400;$cover.children().hide();var scrollAfterModalShow;function modalShow(){scrollAfterModalShow=$(window).scrollTop();$body_html.addClass('hide');$cover.addClass('show').css({'transition':speedFade-10+'ms'});$body_html.scrollTop(scrollAfterModalShow);$body.css({'padding-right':SW});setTimeout(function(){$cover.css({'opacity':1});$cover.scrollTop(0);},10);$('.cover, .cover .close').show();}function modalHide(){if($cover.hasClass('show')){$cover.css({'opacity':0});setTimeout(function(){$body_html.removeClass('hide');$body_html.scrollTop(scrollAfterModalShow);$cover.children().hide();$cover.find('.modal-wrapper').children().hide();$cover.removeClass('show').removeAttr('style');$body.removeAttr('style');$('.modal').hide();},speedFade);}}$cover.on('click','.close',function(){modalHide();return false;});$cover.on('click',function(e){var eTarget=e.target;if($cover.hasClass('show')){if(!$(eTarget).parents('.cover').length&&!$(eTarget).hasClass('.cover')){modalHide();}}});//modals end
var changeDOM1;var changeDOM1_2;var changeDOM2;function adaptive(){scrollWidth();WW=$window.width()+SW;WH=$window.height();wScroll=$(this).scrollTop();adaptiveVideo();//Multibar(WW);
var i;var hNavL;if(WW<=1040){if(WW<520){if(swapLinks2==true){hNavL=$headerNav_a.length;i=1;$headerNav_a.each(function(){i++;$headerNav_a.eq(i).prependTo('.header-nav-more-links');});swapLinks=true;swapLinks2=false;swapLinks3=true;}}else{if(swapLinks==true){hNavL=$headerNav_a.length;i=0;$headerNav_a.each(function(){i++;if(i<=4){$headerNav_a.eq(i-1).insertBefore('.header-nav-more');}else{$headerNav_a.eq(i-1).prependTo('.header-nav-more-links');}});swapLinks=false;}swapLinks2=true;swapLinks3=true;}}else{if(swapLinks3==true){for(var i=0;i++;i<=7){$(this).insertBefore($('.header-nav-more'));}swapLinks3=false;swapLinks2=true;swapLinks=true;}}//
if(WW<1180){if(changeDOM2!=0){var newCorusel=$('.shares-items').find('tbody');newCorusel.addClass('owl-carousel');newCorusel.addClass('owl-carousel-coming');if($('.shares-items').find('tbody tr').length!==0){newCorusel.owlCarousel({loop:false,margin:0,nav:true,autoWidth:true,onDragged:function onDragged(e){myFixOWL($(e.target),0,e.page.index,e.page.count);}});changeDOM2=0;}}}else{if(changeDOM2!=1){$('.shares-items').find('tbody').removeClass('owl-carousel').removeClass('owl-carousel-coming').trigger('destroy.owl.carousel');changeDOM2=1;}}//
//
$freshIffersBy=$('.fresh-offers-by');if(WW<=1080){if(changeDOM1!=0){$freshIffersBy.appendTo('.fresh-offers-companies');changeDOM1=0;changeDOM1_2=0;}if($strategyTable.length){$strategyTable.scrollbar();}if($instrumentsGrid.length){$instrumentsGrid.owlCarousel({margin:0,nav:false,autoWidth:true,items:1,smartSpeed:300,animateOut:'fadeOut',dots:false,responsive:{0:{margin:0,autoplay:false},767:{margin:0}}});}if($uniqueServicesGrid.length){$uniqueServicesGrid.owlCarousel({margin:0,nav:false,autoWidth:true,items:1,smartSpeed:300,animateOut:'fadeOut',dots:false,responsive:{0:{margin:0,autoplay:false},767:{margin:0}}});}}else{if(changeDOM1!=1){$freshIffersBy.insertAfter('.fresh-offers-info .fresh-offers-description');changeDOM1=1;changeDOM1_2=0;}if($strategyTable){$strategyTable.scrollbar('destroy');}if($instrumentsGrid.length){$instrumentsGrid.trigger('destroy.owl.carousel');}if($uniqueServicesGrid.length){$uniqueServicesGrid.trigger('destroy.owl.carousel');}}if(WW<=767){if(changeDOM1_2!=0){$freshIffersBy.insertAfter('.fresh-offers-info .fresh-offers-description');changeDOM1_2=1;}if($strategyTabsNav.length){$strategyTabsNav.owlCarousel({margin:0,nav:false,autoWidth:true,items:1,smartSpeed:300,animateOut:'fadeOut',dots:false,responsive:{0:{margin:0,autoplay:false},767:{margin:0}}});}if($strategyInvestments.length){$strategyInvestments.owlCarousel({margin:0,nav:false,autoWidth:true,items:1,smartSpeed:300,animateOut:'fadeOut',dots:false,responsive:{0:{margin:0,autoplay:false},767:{margin:0}}});}if($trustGraph.length){$trustGraph.scrollbar();}}else{if($strategyTabsNav.length){$strategyTabsNav.trigger('destroy.owl.carousel');}if($strategyInvestments.length){$strategyInvestments.trigger('destroy.owl.carousel');}if($trustGraph.length){$trustGraph.scrollbar('destroy');}}//
// responsive end
if(WW<=767){maxInd=5;}else{maxInd=indicatorsArr.length-1;}$indicatorsSlider=$('.indicators-slider');$calculatorOutput=$('.calculator-output');$indicatorsSlider.trigger('destroy.owl.carousel');$indicatorsSlider.html('');for(var i=0;i<=maxInd;i++){$indicatorsSlider.append(indicatorsArr[i]);}$indicatorsSlider.owlCarousel({loop:true,margin:0,nav:true,autoWidth:true,items:1,onTranslate:function onTranslate(e){indicatorsCheck(e);},onResize:function onResize(e){indicatorsCheck(e);}});if($calculatorOutput.find('.val').text().length){$calculatorOutput.textfill({maxFontPixels:228,debug:'test',widthOnly:true});}vars();allScrollParallax();if(WW<=1260){$owlCarouselComing.owlCarousel({loop:false,margin:20,nav:true,autoWidth:true,onDragged:function onDragged(e){myFixOWL($(e.target),20,e.page.index,e.page.count);}});$ratesItems.addClass('owl-carousel').owlCarousel({loop:false,margin:0,nav:true,autoWidth:true,onDragged:function onDragged(e){var margin=30;if(WW>1080){margin=0;}myFixOWL($(e.target),margin,e.page.index,e.page.count);},responsive:{0:{margin:30},1080:{margin:0}}});}else{if($('.open-account-bg-left').length){$('.open-account-bg-left').css({'width':$openAccountReg.innerWidth()+$openAccountReg.offset().left});}$ratesItems.removeClass('owl-carousel').trigger('destroy.owl.carousel');$owlCarouselComing.trigger('destroy.owl.carousel');}}function myFixOWL($owl,margin,i,length){var socOwlStoW=$owl.innerWidth(),socOwlStW=$owl.find('.owl-stage').width(),socILW=$owl.find('.owl-item:last').width(),owlI=$owl.find('.owl-item'),tr=-socOwlStW+socOwlStoW+margin,W=owlI.outerWidth(true);remain=Math.floor(socOwlStoW/W)-1;activeL=owlI.filter('.active').length-1;function fun(){$owl.find('.owl-stage').css({'transition':0,'transform':'translate3d('+tr+'px, 0px, 0px)'});$owl.find('.owl-next').addClass('disabled');}if(i>=length-1){setTimeout(function(){fun();},10);}}function indicatorsCheck(e){if(WW<767){if(e.page.index>=e.page.count-1){$indicatorsAll.addClass('show');}else{$indicatorsAll.removeClass('show');}}}$('.news').find('.owl-carousel').owlCarousel({loop:false,margin:47,nav:false,dots:false,items:1,onDragged:function onDragged(e){var margin;if(WW<=767){margin=28;}else{margin=47;}myFixOWL($(e.target),margin,e.item.index,e.item.count);},responsive:{0:{margin:28},767:{margin:47}}});indicatorsArr=[];$('.indicators-slider-item').each(function(){indicatorsArr.push('<div class="indicators-slider-item">'+$(this).html()+'</div>');});adaptive();var isMac=navigator.platform.toUpperCase().indexOf('MAC')>=0;// if (os) {}
if(isMac){lh1=1;if(WW<1080){lh1=1.1;}}else{lh1=.8;if(WW<1080){lh1=.9;}}$('.opinions-slider-item-bg').css({'line-height':lh1});$hnm.on('click',function(e){close_AddNav();close_SelectNav();e.stopPropagation();var $this=$(this),hnmL=$this.find('.header-nav-more-links'),hnmLH=hnmL.innerHeight(),$hnmlWrapper=$this.find('.header-nav-more-links-wrapper'),speed=300;if($this.hasClass('active')){$hnmlWrapper.removeClass('active');$this.removeClass('active');$hnmlWrapper.css({'height':hnmLH,'opacity':1});setTimeout(function(){$hnmlWrapper.css({'transition':speed-10+'ms','height':0,'opacity':0});},10);}else{$hnmlWrapper.css({'transition':speed+'ms','height':hnmLH,'opacity':1});$this.addClass('active');$hnmlWrapper.addClass('active');}setTimeout(function(){$hnmlWrapper.removeAttr('style');},speed+10);});$('.header-nav-more-links-wrapper').on('click',function(e){e.stopPropagation();});$headerAdditionalNav.on('click',function(e){e.stopPropagation();});$expander.on('click',function(e){close_MoreLinks();close_SelectNav();e.stopPropagation();var th=$(this),speed=300;if(th.hasClass('active')){th.removeClass('active');var hNavH=$headerAdditionalNavInner.innerHeight();$headerAdditionalNav.css({'height':hNavH,'opacity':1,'display':'block'});setTimeout(function(){$headerAdditionalNav.css({'transition':speed-10+'ms','height':0,'opacity':0});},10);$headerAdditionalNav.removeClass('active');}else{th.addClass('active');$headerAdditionalNav.show();var hNavH=$headerAdditionalNavInner.innerHeight();$headerAdditionalNav.css({'transition':speed+'ms','height':hNavH,'opacity':1});$headerAdditionalNav.addClass('active');}setTimeout(function(){$headerAdditionalNav.removeAttr('style');},speed);});function close_AddNav(){if($expander.hasClass('active')){$expander.trigger('click');}}function close_MoreLinks(){if($hnm.hasClass('active')){$hnm.trigger('click');}}function close_SelectNav(){if($('.select-nav-inner').eq(0).hasClass('active')){$selectNav.eq(0).find('a.active').trigger('click');}}$(document.body).on('click',function(e){close_AddNav();close_MoreLinks();close_SelectNav();});$selectNav.on('click','a',function(){var $this=$(this);if($this.parent().parent().hasClass('select')){if($this.hasClass('active')){var $parent=$this.parent(),itemsLength=$parent.children().length,itemB=$this.css('border-width').replace('px','')*2,itemH=$this.innerHeight()+itemB,H=itemH*itemsLength,speed=300;if($parent.hasClass('active')){$parent.css({'height':H});setTimeout(function(){$parent.css({'transition':speed-10+'ms','height':itemH});},10);$parent.removeClass('active');}else{$parent.css({'transition':speed+'ms','height':H});$parent.addClass('active');}setTimeout(function(){$parent.removeAttr('style');},speed);}}if($this.hasClass('active')){return false;}});var timer;var timer2;$window.resize(function(){if($videoWrapper_video)$videoWrapper_video.removeClass('show');if(timer)clearTimeout(timer);timer=setTimeout(function(){adaptive();},300);});$window.scroll(function(){wScroll=$(this).scrollTop();if(timer2)clearTimeout(timer2);timer2=setTimeout(function(){},100);allScrollParallax();});function vars(){$indicators=$('.indicators');if($indicators.length){$indicators.removeClass('fixed');indicators_top=$indicators.offset().top;}}function indicatorsSrollFixed(){if($indicators.length){if(wScroll>indicators_top){$indicators.addClass('fixed');}else{$indicators.removeClass('fixed');}}}function scrollParallaxAnim($el,val1,val2){if(!$el.hasClass('active')&&$el.length){var el_top=$el.offset().top,el_h=$el.height();if(wScroll+WH/2>el_top&&wScroll+WH/2<el_h/2+el_top){$el.addClass('active');}}}function multibarAnim($el){if(!$el.hasClass('active')&&$el.length){var el_top=$el.offset().top,el_h=$el.height();if(wScroll+WH/2>el_top&&wScroll+WH/2<el_h/2+el_top){if(WW<767){$el.addClass('height');}else{$el.removeClass('height');}$el.addClass('active');}}}function allScrollParallax(){scrollParallaxAnim($('.fifteen-thousand'));multibarAnim($('.multi-bar'));indicatorsSrollFixed();}$inputPhone.mask("+7 (999) 999 99 99",{placeholder:"_"});$inputPhone.focusout(function(){var $this=$(this);if($this.val()=='+7 (___) ___ __ __'){$this.val('');}});$('.opinions-slider-next').on('click',function(){var $this=$(this),$item=$this.parent().find('.opinions-slider-item'),speed=300;$this.find('.icon').css({'transform':'rotate(450deg)'});setTimeout(function(){$this.find('.icon').css({'transition':'0ms','transform':'rotate(90deg)'});setTimeout(function(){$this.find('.icon').removeAttr('style');},20);},300);opinSlCount++;if(opinSlCount>opinSl_l){opinSlCount=0;}$item.hide();$item.filter('.active').css({'transition':speed+'ms','opacity':1,'display':'block'});setTimeout(function(){$item.filter('.active').css({'opacity':0});},10);setTimeout(function(){$item.filter('.active').hide().removeClass('active');$item.eq(opinSlCount).css({'transition':speed+'ms','display':'block','opacity':0});setTimeout(function(){$item.eq(opinSlCount).css({'opacity':1}).addClass('active');},10);},speed);});$('.fresh-offers-slider-count-circle').addClass('start');$freshOffersSlider.owlCarousel({loop:true,margin:0,nav:true,items:1,smartSpeed:300,animateOut:'fadeOut',dots:true,autoplay:true,autoplayTimeout:5000,onTranslate:function onTranslate(e){var i=e.page.index+1;var last=e.page.count;if(i>last){i=0;}$freshOffersSliderCountVal.find('.val1').text(i);},responsive:{0:{margin:27,autoplay:false},767:{margin:0}}});var frSlCount=0;//frSl_l = $('.opinions-slider-item').length -1
$freshOffersSliderCountVal.find('.val1').text(frSlCount+1);//захардкодил временно эту часть, надо разобраться почему не тянет значение:
$freshOffersSliderCountVal.find('.val2').text("4");ratesArr=[];$ratesItem.each(function(){var $this=$(this),r_html=$this.html();ratesArr.push(r_html);});$ratesItemShowMore.on('click',function(){var $this=$(this);if(WW<=768){var i=$ratesItemShowMore.index(this);$('.modal-rates').show();$('.modal-rates-inner').html(ratesArr[i]);modalShow();}else{$ratesItem.addClass('show');}});$owlCarousel.on('drag.owl.carousel',function(){$(this).data('dragging',true);});$owlCarousel.on('translate.owl.carousel',function(){var $this=$(this);setTimeout(function(){$this.data('dragging',false);},1);});$owlCarousel.on('click','a',function(e){var $this=$(this);$owl=$this.parents('.owl-carousel');if($owl.data('dragging')){}});//end
// Open a policy on click begin
// Get the modal
var modal=document.getElementById('myModal');// Get the button that opens the modal
var btn=document.getElementById("policyBtn");var btn2=document.getElementById("policyBtn2");var btn3=document.getElementById("policyBtn3");// Get the <span> element that closes the modal
var span=document.getElementsByClassName("close-privacy")[0];// When the user clicks the button, open the modal
if(btn){btn.onclick=function(){modal.style.display="block";};}if(btn2){btn2.onclick=function(){modal.style.display="block";};}if(btn3){btn3.onclick=function(){modal.style.display="block";};}// When the user clicks on <span> (x), close the modal
if(span){span.onclick=function(){modal.style.display="none";};}// When the user clicks anywhere outside of the modal, close it
window.onclick=function(event){if(event.target==modal){modal.style.display="none";}};// Open a policy on click end
//calc
function addCommas(n){var rx=/(\d+)(\d{3})/;return String(n).replace(/^\d+/,function(w){while(rx.test(w)){w=w.replace(rx,'$1 $2');}return w;});}$calculatorTopVal.find('.val').focus(function(){var $this=$(this),val=$this.val();$this.val(val.replace(' ',''));$this.select();});maxFirstVal=[80000,100];$calculatorTopVal.find('.val').each(function(e){$(this).on('change, focusout',function(){var $this=$(this),val=$this.val().replace(' ','');$this.parents('.calculator-top-val-inner').siblings('.calculator-regulator').find('.calculator-dragged-value').slider("value",val);if(val>maxFirstVal[e])val=maxFirstVal[e];$this.val(addCommas(val));calculate();});});var calc_val_length=$calculatorTopVal.find('.val').length-1;var calc_val_count=0;$calculatorTopVal.find('.val').on('keypress',function(e){if(e.keyCode<48||e.keyCode>57){if(e.keyCode!=13){return false;}else{calc_val_count++;var $this=$(this),val=$this.val();$this.blur();}}if(e.keyCode==32)return false;});$calculatorRegulator.eq(0).find('.calculator-dragged-value').slider({range:false,value:50000,min:20000,max:500000,create:function create(){$(this).parents('.calculator-top-val').find('.val').val(addCommas(50000));},slide:function slide(e,ui){$(this).parents('.calculator-top-val').find('.val').val(addCommas(ui.value));calculate();}});$calculatorRegulator.eq(1).find('.calculator-dragged-value').slider({range:false,value:15,min:1,max:100,create:function create(){$(this).parents('.calculator-top-val').find('.val').val(15);},slide:function slide(e,ui){$(this).parents('.calculator-top-val').find('.val').val(ui.value);calculate();}});$calculatorRegulator.eq(2).find('.calculator-dragged-value').slider({range:false,value:0,min:0,max:100,create:function create(){$(this).parents('.calculator-top-val').find('.val').text('Один год').attr('data-years',1);},slide:function slide(e,ui){var uiVal=ui.value;if(uiVal>=0)var val='Один год',data=1;if(uiVal>=10)var val='Два года',data=2;if(uiVal>=20)var val='Три года',data=3;if(uiVal>=30)var val='Четыре года',data=4;if(uiVal>=40)var val='Пять лет',data=5;if(uiVal>=50)var val='Шесть лет',data=6;if(uiVal>=60)var val='Семь лет',data=7;if(uiVal>=70)var val='Восемь лет',data=8;if(uiVal>=80)var val='Девять лет',data=9;if(uiVal>=90)var val='Десять лет',data=10;$(this).parents('.calculator-top-val').find('.val').text(val).attr('data-years',data);calculate();}});function calculate(){calcArr=[];$calculatorTopVal.find('.val').each(function(){var $this=$(this),val=$this.val();val=val.replace(' ','')/1;if(val==0){val=$this.attr('data-years')/1;}calcArr.push(val);});var P=calcArr[0];// сумма
var i=calcArr[1]/100;// годовой процент
var c=12;// частота капитализации (сколько раз в году проценты причисляются к основной сумме);
var n=calcArr[2];// продолжительность периода в годах
var R=calcArr[0];//сумма ежемесячного пополнения
var iDividedByC=i/c;var pow=Math.pow(1+iDividedByC,n*c);res=P*pow+R*(pow-1)/iDividedByC;res=Math.round(res);if(isNaN(res))res=calcArr[0];if(calcArr[1]=0)res=calcArr[0];res=addCommas(res);$calculatorOutput.find('.val').text(res+'  ₽');$calculatorOutput.textfill({maxFontPixels:228,debug:'test',widthOnly:true});}calculate();var opinSlCount=0,opinSl_l=$('.opinions-slider-item').length-1;//calc end
// Cекция магазин акций
var preloader='<img src="/themes/zericheu/images/svg-loaders/tail-spin.svg" alt="">';var stepLoader=$('#stepLoader');var loading=$('#loader');var prices,stocks={};var currentStock='';var currentTab='all';var currentSector='all';var clientOrder='';var priceModal;var currentPriceRubls;var buyStockForm=document.forms['buyStockForm'];var currentPriceRublsRegExp='';var changeDay='';var tickerKey=[];getStocks();// получить список акций для магазина акций. Без параметров возвращает весь список.
function getStocks(param,sector){loading.show();currentTab=param;currentSector=sector;$.ajax({url:'/proxyApi/getStocks2',type:'GET',data:{Country:param?param:'all',Sector:sector?sector:'all'},dataType:'json',success:function success(responce){loading.hide();stocks=responce.Result;var ret=renderStocks(stocks);var newCorusel=$('.shares-items').find('tbody');newCorusel.addClass('owl-carousel');newCorusel.addClass('owl-carousel-coming');adaptive();// newCorusel.owlCarousel({
//     loop: false,
//     margin:0,
//     nav: true,
//     autoWidth: true,
//     onDragged: function(e) {
//         myFixOWL(
//             $(e.target),
//             0,
//             e.page.index,
//             e.page.count
//         )
//     },
// });
// return ret;
}});}// получаем список цен по акциям
function getStockPrice(){$.ajax({url:'/proxyApi/getStockPrice',type:'POST',dataType:'json',success:function success(responce){prices=responce.Result;setBannersData(prices);return updateStockData(prices);}});}// интервал обновления данных по ценам и тд
setInterval(getStockPrice,30000);function setBannersData(prices){prices.forEach(function(price){if(price.Id===27){// AFLT
$('.banner-one-val-up').html(price.FormattedPercentPlannedIncome);$('.banner-one-price').html(price.FormattedRubPrice);$('.banner-one-dividend').html(price.FormattedPercentDividendIncome);}if(price.Id===38){// ALRS
$('.banner-two-val-up').html(price.FormattedPercentPlannedIncome);$('.banner-two-price').html(price.FormattedRubPrice);$('.banner-two-dividend').html(price.FormattedPercentDividendIncome);}if(price.Id===42){// PLZL
$('.banner-three-val-up').html(price.FormattedPercentPlannedIncome);$('.banner-three-price').html(price.FormattedRubPrice);$('.banner-three-dividend').html(price.FormattedPercentDividendIncome);}});}function updateStockData(prices){return prices.forEach(function(price){var formattedRubPrice=price.FormattedRubPrice;var currencyRate=price.CurrencyRate;var plannedIncome=price.FormattedPercentPlannedIncome;var dirtyPrice=price.Price;var clearPrice=price.FormattedPrice;var dividentIncome=price.FormattedPercentDividendIncome;var changeDayDirty=price.FormattedPercentChange.replace(/(?!-)[^0-9.]/g,'');if(changeDayDirty>0){changeDay='<span class="changeDay-item moneyUp">&nbsp('+price.FormattedPercentChange+')</span>';}else if(changeDayDirty<0){changeDay='<span class="changeDay-item moneyDown">&nbsp('+price.FormattedPercentChange+')</span>';}$('#changeDay'+price.Id).html(changeDay);$('#PercentPlannedIncome'+price.Id).html(plannedIncome?plannedIncome:$('.plannedIncome'+price.Id).add('#PercentPlannedIncome'+price.Id).hide());var $priceId=$('#price'+price.Id);var $buttonPriceId=$('#button'+price.Id);var $dividendPriceId=$('#dividend'+price.Id);var $formattedRubPrice=$('#rubPrice'+price.Id);var $currencyRate=$('#currencyRate'+price.Id);$priceId.html(dirtyPrice?dirtyPrice:$buttonPriceId.hide());$priceId.html(clearPrice?clearPrice:$buttonPriceId.hide());$dividendPriceId.html(dividentIncome?dividentIncome:$dividendPriceId.add('.dividend'+price.Id).hide());$formattedRubPrice.html(formattedRubPrice);$currencyRate.html(currencyRate);});}// показываем блоки с акциями
var elem=5;// количество акций при загрузке
var step=1;// шаг
var template=[];var listButton=$(".list-view");var gridButton=$(".grid-view");var wrapper=$(".wrapper");function renderStocks(stocks){tickerKey=stocks;$('.stock').remove();var q=0;stocks.forEach(function(stock){q++;this.stock=stock;if(step*elem-elem<q&&q<=step*elem){template+='<tr class="shares-item">';template+='<td class="shares-item-pic"><img src="/images/stocks/'+stock.Ticker+'.png" alt="акции '+stock.Ticker+'" style="height:65px; width:65px"></td>';template+='<td><span class="shares-item-description">'+stock.ShortName+'</span></td>';template+='<td ><div class="shares-item-price"><div class="shares-item-price-title" style="margin-top:15px; margin-bottom:15px;">\n'+'                    Цена за акцию:\n'+'                 </div> <span id="price'+stock.Id+'" class="shares-item-price-val" style="font-family: \'FuturaBoldC\' !important;">'+preloader+'</span><span id="changeDay'+stock.Id+'" class="changeDay-item">'+preloader+'</span></div></td>';template+='<td><p>Потенциал роста:</p><div id="PercentPlannedIncome'+stock.Id+'" class="share-value green percent-planned-income" style="font-weight: bolder">'+preloader+'</div></td>';template+='<td><a href="/registration"><div class="btn border blue" style="border: 1px solid rgba(71,83,209,.19) !important;"> Купить </div></a></td>';template+='</tr>';}});// Сортировка/Фильтр
var currentContainer=$('#table-stocks');currentTab==='rus'?currentContainer=$('#table-stocks-rus'):currentContainer;currentTab==='usa'?currentContainer=$('#table-stocks-usa'):currentContainer;currentContainer.append(template);listButton.on("click",function(){gridButton.removeClass("on");listButton.addClass("on");wrapper.removeClass("grid").addClass("list");});gridButton.on("click",function(){listButton.removeClass("on");gridButton.addClass("on");wrapper.removeClass("list").addClass("grid");});var setStockPopupIndex=this.test=document.getElementsByClassName('stock-popup');for(var counter=0;counter<setStockPopupIndex.length;counter++){index=Array.prototype.indexOf.call(setStockPopupIndex,setStockPopupIndex[counter]);setStockPopupIndex[counter].setAttribute('index',index);// добавляем в ДОМ атрибут - index
setStockPopupIndex[counter].onclick=showStockModal;}return getStockPrice();}// сортировка по акциям  use .each() to call function for each nav-item-tab row
$('.nav-item-tab').each(function(){var $navItemTab=$(this);$navItemTab.on('click',function(){step=1;template=[];});});// кнопка показать еще
$('.btn-load-more').on('click',function(){step++;renderStocks(stocks);});/** Magic link as tr **/$(document).on('click','td[data-href]',function(){document.location=$(this).data('href');return false;});/** Custom Search **/$(".search-input, #search-mobile").keyup(function(){var search=$(this).val();if(search.length>1){$.ajax({type:'POST',url:'/stocks/filter?search='+search,data:{},dataType:'json',success:function success(data){tickerKey.forEach(function(stock){$.each(data,function(key,value){$('.stock').remove();if(value.ticker===stock.Ticker){template=[];template+='<tr class="stock">';template+='<td class="stocks-image"><a  href="/stocks/stock?Ticker='+stock.Ticker+'.html"><img src="/images/stocks/'+stock.Ticker+'.png" alt="акции '+stock.Ticker+'"><span class="stock-shortName">'+stock.ShortName+'</span></a></td>';template+='<td id="PercentPlannedIncome'+stock.Id+'" class="share-value green percent-planned-income">'+preloader+'</td>';template+='<td id="dividend'+stock.Id+'" class="share-value share-property-dividend">'+preloader+'</td>';template+='<td><span id="price'+stock.Id+'" class="share-value share-price">'+preloader+'</span><span id="changeDay'+stock.Id+'" class="changeDay-item">'+preloader+'</span></td>';template+='<td style="display: none"  id="rubPrice'+stock.Id+'" class="share-value">'+preloader+'</td>';template+='<td style="display: none"  id="currencyRate'+stock.Id+'" class="share-value">'+preloader+'</td>';// template += '<td><a id="button' + stock.Id + '" class="btn stock-popup" href="/stocks/stock?Ticker=' + stock.Ticker + '.html" id="openPopUp">Купить</a></td>';
// template += '<td><a id="button' + stock.Id + '" class="stock-link" href="/stocks/stock?Ticker=' + stock.Ticker + '.html" >Подробнее</a></td>';
template+='</tr>';getStockPrice();}var currentContainer=$('#table-stocks');currentContainer.append(template);$('.btn-load-more').hide();});});}});}/** Return default State **/if(search.length===0){template=[];$('.btn-load-more').show();return renderStocks(stocks);}});/** Animation Search **/function searchToggle(obj,evt){var container=$(obj).closest('.search-wrapper');if(!container.hasClass('active')){container.addClass('active');evt.preventDefault();}else if(container.hasClass('active')&&$(obj).closest('.input-holder').length===0){container.removeClass('active');container.find('.search-input').val('');}}/** Focus on Search **/$("#search-button").click(function(){$("#search-input").focus();$('.toggle-options-btn').hide();});$("#search-input").focusout(function(){$('.search-wrapper').removeClass('active');$('.toggle-options-btn').show();});$('#buyStockForm').keypress(function(event){if(event.keyCode===10||event.keyCode===13)event.preventDefault();});/** Custom Select **/$(".custom-select").each(function(){var classes=$(this).attr("class"),id=$(this).attr("id"),name=$(this).attr("name");var template='<div class="'+classes+'">';template+='<span class="custom-select-trigger">'+$(this).attr("placeholder")+'</span>';template+='<div class="custom-options" >';$(this).find("option").each(function(){var self=this;template+='<span class="custom-option data-value-option '+self.value+'" data-value="'+$(this).attr("value")+'">'+$(this).html()+'</span>';});template+='</div></div>';$(this).wrap('<div class="custom-select-wrapper"></div>');$(this).hide();$(this).after(template);});$(".custom-option:first-of-type").hover(function(){$(this).parents(".custom-options").addClass("option-hover");},function(){$(this).parents(".custom-options").removeClass("option-hover");});$(".custom-select-trigger").on("click",function(){$('html').one('click',function(){$(".custom-select").removeClass("opened");});$(this).parents(".custom-select").toggleClass("opened");event.stopPropagation();});$(".custom-option").on("click",function(){$(this).parents(".custom-select-wrapper").find("select").val($(this).data("value"));$(this).parents(".custom-options").find(".custom-option").removeClass("selection");$(this).addClass("selection");$(this).parents(".custom-select").removeClass("opened");$(this).parents(".custom-select").find(".custom-select-trigger").text($(this).text());});/** Sort Select Sectors **/function changeSector(sector){if($('#nav-tab-all')[0].checked===true){template=[];return getStocks('all',sector);}else if($('#nav-tab-rus')[0].checked===true){template=[];return getStocks('rus',sector);}else if($('#nav-tab-usa')[0].checked===true){template=[];return getStocks('usa',sector);}}/** Magic choose data value **/$('.data-value-option').on('click',function(){var test=$(".custom-options").find('.selection');return changeSector(test[0].dataset.value);});//Магазин акций END
//Cекция с инвест идеями
var tickers=[];var logo=$('.trading-idea-img');function setLogo(){$.each(logo,function(key,value){// поменял на - onerror="$(this).attr('src', '/themes/zericheu/images/success-icon.png');"
// $(this).attr('src', '/images/stocks/' + value.dataset.logo + '.png');
tickers.push(value.dataset.logo);});}setLogo();//Cекция с инвест идеями END
// BEGIN Верхняя (записаться на встречу) форма для отправки данных
$('#CommonRequestFormTop').submit(function(e){e.preventDefault();var phone=$(this).find('#CommonRequest_phone').val();var name=$(this).find('#CommonRequest_name').val();var eventLabel=$('#eventLabel').text();$.ajax({type:'POST',url:"<?= Yii::app()->createUrl('promo/AjaxTopForm') ?>",data:{ajax:'CommonRequestFormTop',CommonRequest:{type:'Записаться на встречу (главная страница)',phone:phone,name:name,term_u:'1'}},success:function success(data){var response=JSON.parse(data);if(response.isValid==true){var dLayer=new DLayer();dLayer.push(eventLabel,'form-main');window.location.href="<?= Yii::app()->createUrl('commonRequests/view')?>";}else{var fields=JSON.parse(response.fields);$('#input-errors').empty();for(var i in fields){$('<div>',{class:'col-sm-12',text:fields[i][0]}).appendTo('#input-errors');}}}});});// END Верхняя (записаться на встречу) форма для отправки данных
// BEGIN Нижняя (открыть счет) форма для отправки данных
$('#CommonRequestFormBottom').submit(function(e){e.preventDefault();var first_name=$(this).find('#CommonRequestChild_first_name').val();var phone=$(this).find('#CommonRequestChild_phone').val();var email=$(this).find('#CommonRequestChild_email').val();var eventLabel=$('#eventLabel').text();$.ajax({type:'POST',url:"<?= Yii::app()->createUrl('promo/AjaxBottomForm') ?>",data:{ajax:'CommonRequestFormBottom',CommonRequest:{first_name:first_name,last_name:NaN,email:email,escort_email:NaN,escort_phone:NaN,type:'Открыть счет(главная страница)',phone:phone,term_u:'1'}},success:function success(data){var response=JSON.parse(data);if(response.isValid==true){var dLayer=new DLayer();dLayer.push(eventLabel,'main-form');window.location.href="<?= Yii::app()->createUrl('commonRequests/view')?>";}else{var fields=JSON.parse(response.fields);$('#input-errors').empty();for(var i in fields){$('<div>',{class:'col-sm-12',text:fields[i][0]}).appendTo('#input-errors');}}}});});// Функция удаляет пробелы перед отправкой
$('.common-request-form-bottom').on('change',function(){var $inputs=$('.common-request-form-bottom :input');var values={};$inputs.each(function(){values[this.name]=$(this).val();$(this).val($(this).val().replace(/\s+/g,''));});});// END Нижняя (открыть счет) форма для отправки данных
function DLayer(){}DLayer.prototype.push=function(eventLabel,eventCategory){dataLayer.push({'event':'GAevent',eventCategory:eventCategory,'eventAction':'send','eventLabel':eventLabel});};DLayer.prototype.getEventLabel=function(){console.log(window.location.href);};});(function(){if(window.$){$(document).ready(function(){var _this2=this;//tools
function include(array,callback){var loader=function loader(src,handler){var script=document.createElement("script");script.src=src;script.onload=script.onreadystatechange=function(){script.onreadystatechange=script.onload=null;handler();};var head=document.getElementsByTagName("head")[0];(head||document.body).appendChild(script);};(function(){if(array.length!==0){loader(array.shift(),arguments.callee);}else{if(callback&&typeof callback==='function'){callback();}}})();}if(typeof getCookie==='undefined'){var getCookie=window.getCookie=function(name){var matches=document.cookie.match(new RegExp("(?:^|; )"+name.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,'\\$1')+"=([^;]*)"));return matches?decodeURIComponent(matches[1]):undefined;};}function addPxlImg(){if(localStorage.getItem('apypxlElement')&&!getCookie("apypxlLoad")){include(['https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js'],function(){$('body').append(localStorage.getItem('apypxlElement'));console.log('apypxlElement added');localStorage.removeItem('apypxlElement');var date=new Date(new Date().getTime()+60*1000*60*30);document.cookie="apypxlLoad=true; path=/; expires="+date.toUTCString();});}}//end tools
if($('#sidemenu').length&&$('body > .wrapper').length){var pageWrapper=$("body > .wrapper");var adminSidemenu=$('#sidemenu');if(window.innerWidth<600){adminSidemenu.css({display:'none'});}else{pageWrapper.css({width:'calc(100vw - 78px)',right:0,position:'absolute'});adminSidemenu.css({transform:'translateX(-65px)'});}}var forms=$('form');window.formsOnSubmit=[];for(var i=0;i<forms.length;i++){window.formsOnSubmit[i]=forms[i].onsubmit;forms[i].onsubmit=function(){if(getCookie("utm_actionpay")){var roistatId=1;try{roistatId=JSON.parse(getCookie("roistat_visit"));}catch(e){roistatId=1;}try{if(JSON.parse(getCookie("utm_actionpay")).actionpay&&JSON.parse(getCookie("utm")).campaign==='actionpay'){var apypxlElement='<img src="https://apypp.com/ok/16567.png?actionpay='+JSON.parse(getCookie("utm_actionpay")).actionpay+'&apid='+roistatId+'" width="1px" height="1px"/>';localStorage.setItem('apypxlElement',apypxlElement);console.log('element pxl will be added');if(typeof window.formsOnSubmit[i]==='function'){window.formsOnSubmit[i]();addPxlImg();}}else{if(typeof window.formsOnSubmit[i]==='function'){window.formsOnSubmit[i]();}}}catch(e){console.log('invalid utm cookie json, can not send data to pixel!');if(typeof window.formsOnSubmit[i]==='function'){window.formsOnSubmit[i]();}}}};}addPxlImg();$('body').append('<div id="toTopButton" style="background: url(/themes/zericheu/images/promo/autofollow/Artboard.svg);width: 80px;height: 80px;position: fixed;bottom: 30px;left: 30px;cursor: pointer;"></div>');if(window.scrollY<800){$('#toTopButton').hide();}else{$('#toTopButton').show();}$(document).scroll(function(){if($('#toTopButton').fadeIn){var y=$(_this2).scrollTop();if(y>800){$('#toTopButton').fadeIn();}else{$('#toTopButton').fadeOut();}}});$('#toTopButton').click(function(){$('body,html').animate({scrollTop:0},400);return false;});});}})();