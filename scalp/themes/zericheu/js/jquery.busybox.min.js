/* 
	Самописный плагин для индикации ajax-загрузки
	Если что, пишите: belkin.d.a@yandex.ru
	Полная версия лежит тут же: jquery.busybox.js
*/
!function(o){var r={start:function(r){return r="border"===r?r:"background",this.each(function(){o(this).attr("data-type",r).css("position","relative").append('<div class="busybox-overlay"></div><div class="loader busybox"><div></div><div></div><div></div><div></div><div></div></div>')})},success:function(){return this.each(function(){var r=o(this),t=r.attr("data-type"),e=r.css("border"===t?"border-color":"background-color"),i=r.css("transition");r.busybox("removeNodes",r),r.css("transition","none"),r.css("border"===t?"border-color":"background-color","border"===t?"#81B76B":"#dff0d8"),setTimeout(function(){r.css("transition","all 2s ease-in")},10),setTimeout(function(){r.css("border"===t?"border-color":"background-color",e)},20),setTimeout(function(){r.css("transition",i).removeAttr("data-type")},2e3)})},error:function(r){return this.each(function(){var t=o(this),e=t.data("type");t.busybox("removeNodes",t),t.css("border"===e?"border-color":"background-color","border"===e?"#FF0000":"#F7EBEB"),"undefined"!=typeof r&&""!==r&&t.attr({"data-toggle":"tooltip","data-placement":"top",title:r}).tooltip()})},removeNodes:function(o){o.find(".busybox-overlay").remove(),o.find(".loader").remove()}};o.fn.busybox=function(t){return r[t]?r[t].apply(this,Array.prototype.slice.call(arguments,1)):void o.error("Метод с именем "+t+" не существует для jQuery.busybox")}}(jQuery);